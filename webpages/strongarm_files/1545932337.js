(()=>{"use strict";var e=1e4;const t=JSON.parse('{"hostname":"cleveland.com","experiments":[{"id":"pw:article:test1_ab","type":"external","groups":[{"distributionPercent":95,"name":"MATHER_AB_TEST1-C"},{"distributionPercent":5,"name":"MATHER_AB_TEST1-H"}]}],"cookies":{"id":{"name":"_ml_id"},"session":{"name":"_ml_ses"}}}');function n(e){return{lang:e?.lang??undefined,message:e?.message,abortEarly:e?.abortEarly??undefined,abortPipeEarly:e?.abortPipeEarly??undefined}}function r(e){const t=typeof e;return"string"===t?`"${e}"`:"number"===t||"bigint"===t||"boolean"===t?`${e}`:"object"===t||"function"===t?(e&&Object.getPrototypeOf(e)?.constructor?.name)??"null":t}function i(e,t,n,i,s){const o=s&&"input"in s?s.input:n.value,a=s?.expected??e.expects??null,u=s?.received??r(o),c={kind:e.kind,type:e.type,input:o,expected:a,received:u,message:`Invalid ${t}: ${a?`Expected ${a} but r`:"R"}eceived ${u}`,requirement:e.requirement,path:s?.path,issues:s?.issues,lang:i.lang,abortEarly:i.abortEarly,abortPipeEarly:i.abortPipeEarly},l="schema"===e.kind,p=s?.message??e.message??(e.reference,void c.lang)??(l?void c.lang:null)??i.message??void c.lang;void 0!==p&&(c.message="function"==typeof p?p(c):p),l&&(n.typed=!1),n.issues?n.issues.push(c):n.issues=[c]}function s(e){return{version:1,vendor:"valibot",validate:t=>e["~run"]({value:t},n())}}function o(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}var a=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function u(e,t,n){return"function"==typeof e.fallback?e.fallback(t,n):e.fallback}function c(e,t,n){return"function"==typeof e.default?e.default(t,n):e.default}function l(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}const p={array:function e(t,n){return{kind:"schema",type:"array",reference:e,expects:"Array",async:!1,item:t,message:n,get"~standard"(){return s(this)},"~run"(e,t){const n=e.value;if(Array.isArray(n)){e.typed=!0,e.value=[];for(let r=0;r<n.length;r++){const i=n[r],s=this.item["~run"]({value:i},t);if(s.issues){const o={type:"array",origin:"value",input:n,key:r,value:i};for(const t of s.issues)t.path?t.path.unshift(o):t.path=[o],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),e.value.push(s.value)}}else i(this,"type",e,t);return e}}},custom:function e(t,n){return{kind:"schema",type:"custom",reference:e,expects:"unknown",async:!1,check:t,message:n,get"~standard"(){return s(this)},"~run"(e,t){return this.check(e.value)?e.typed=!0:i(this,"type",e,t),e}}},literal:function e(t,n){return{kind:"schema",type:"literal",reference:e,expects:r(t),async:!1,literal:t,message:n,get"~standard"(){return s(this)},"~run"(e,t){return e.value===this.literal?e.typed=!0:i(this,"type",e,t),e}}},number:function e(t){return{kind:"schema",type:"number",reference:e,expects:"number",async:!1,message:t,get"~standard"(){return s(this)},"~run"(e,t){return"number"!=typeof e.value||isNaN(e.value)?i(this,"type",e,t):e.typed=!0,e}}},object:function e(t,n){return{kind:"schema",type:"object",reference:e,expects:"Object",async:!1,entries:t,message:n,get"~standard"(){return s(this)},"~run"(e,t){const n=e.value;if(n&&"object"==typeof n){e.typed=!0,e.value={};for(const r in this.entries){const s=this.entries[r];if(r in n||("exact_optional"===s.type||"optional"===s.type||"nullish"===s.type)&&void 0!==s.default){const i=r in n?n[r]:c(s),o=s["~run"]({value:i},t);if(o.issues){const s={type:"object",origin:"value",input:n,key:r,value:i};for(const t of o.issues)t.path?t.path.unshift(s):t.path=[s],e.issues?.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value[r]=o.value}else if(void 0!==s.fallback)e.value[r]=u(s);else if("exact_optional"!==s.type&&"optional"!==s.type&&"nullish"!==s.type&&(i(this,"key",e,t,{input:void 0,expected:`"${r}"`,path:[{type:"object",origin:"key",input:n,key:r,value:n[r]}]}),t.abortEarly))break}}else i(this,"type",e,t);return e}}},optional:function e(t,n){return{kind:"schema",type:"optional",reference:e,expects:`(${t.expects} | undefined)`,async:!1,wrapped:t,default:n,get"~standard"(){return s(this)},"~run"(e,t){return void 0===e.value&&(void 0!==this.default&&(e.value=c(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}},parse:function(e,t,r){const i=e["~run"]({value:t},n(r));if(i.issues)throw new a(i.issues);return i.value},pipe:function(...e){return{...e[0],pipe:e,get"~standard"(){return s(this)},"~run"(t,n){for(const r of e)if("metadata"!==r.kind){if(t.issues&&("schema"===r.kind||"transformation"===r.kind)){t.typed=!1;break}t.issues&&(n.abortEarly||n.abortPipeEarly)||(t=r["~run"](t,n))}return t}}},regex:function e(t,n){return{kind:"validation",type:"regex",reference:e,async:!1,expects:`${t}`,requirement:t,message:n,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&i(this,"format",e,t),e}}},safeParse:function(e,t,r){const i=e["~run"]({value:t},n(r));return{typed:i.typed,success:!i.issues,output:i.value,issues:i.issues}},string:function e(t){return{kind:"schema",type:"string",reference:e,expects:"string",async:!1,message:t,get"~standard"(){return s(this)},"~run"(e,t){return"string"==typeof e.value?e.typed=!0:i(this,"type",e,t),e}}},transform:function e(t){return{kind:"transformation",type:"transform",reference:e,async:!1,operation:t,"~run"(e){return e.value=this.operation(e.value),e}}},union:function e(t,n){return{kind:"schema",type:"union",reference:e,expects:o(t.map(e=>e.expects),"|"),async:!1,options:t,message:n,get"~standard"(){return s(this)},"~run"(e,t){let n,r,s;for(const i of this.options){const o=i["~run"]({value:e.value},t);if(o.typed){if(!o.issues){n=o;break}r?r.push(o):r=[o]}else s?s.push(o):s=[o]}if(n)return n;if(r){if(1===r.length)return r[0];i(this,"type",e,t,{issues:l(r)}),e.typed=!0}else{if(1===s?.length)return s[0];i(this,"type",e,t,{issues:l(s)})}return e}}}},d={control:"control",variant:"variant",holdout:"holdout"},f={C:d.control,V:d.variant,H:d.holdout},h=p.pipe(p.string(),p.custom(e=>!!e.match(/.*-[CVH]$/))),m=p.pipe(p.string(),p.regex(/[a-z:_-\d]*test(\d)_(a(?:a|b))$/,e=>`Invalid configuration: "id" is required and must be a string ending in test1_ab or similar. Received: ${e}`)),y=p.object({distributionPercent:p.number(),name:h}),g=p.pipe(p.array(y),p.custom(e=>{const t=e.reduce((e,t)=>e+t.distributionPercent,0);if(100!==t)throw new Error(`Invalid configuration: sum of distributionPercent must be 100. Received: ${t}`);return!0}),p.custom(e=>{const t=e.map(e=>e.name);if(new Set(t).size!==t.length)throw new Error("Invalid configuration: segment names must be unique");return!0})),v=p.union([p.literal("external"),p.literal("internal")]),b=p.object({id:m,groups:g,type:v}),w=p.object({name:p.string()}),x=p.optional(p.object({id:w,session:w}),{id:{name:"_ml_id"},session:{name:"_ml_ses"}}),k=p.pipe(p.array(b),p.custom(e=>{const t=e.map(e=>e.id);if(new Set(t).size!==t.length)throw new Error("Invalid configuration: experiment IDs must be unique");return!0}),p.custom(e=>{const t=e,n={internal:0,external:0};for(const e of t)n[e.type]++;if(n.internal>1)throw new Error(`Invalid configuration: ${n.internal} internal tests found, only one is allowed`);if(n.external>1)throw new Error(`Invalid configuration: ${n.external} external tests found, only one is allowed`);return!0}),p.transform(e=>(e.sort((e,t)=>"internal"===e.type&&"external"===t.type?-1:"external"===e.type&&"internal"===t.type?1:0),e))),E=p.object({hostname:p.string(),experiments:k,cookies:x}),$=new class{constructor(e){const t=(n=e,p.parse(E,n));var n;this.cookies=t.cookies,this.hostname=t.hostname,this.experiments=t.experiments}}(t);var _=function(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,_)};const S=(e,t,n,r)=>{((e,t)=>{localStorage&&localStorage.setItem(e,t)})(e,t);const i=[`${e}=${t}`,`expires=${n}`,`domain=.${r.hostname}`,"path=/","SameSite=None","Secure"].join(";");window.document.cookie=i},j=e=>{if(!document.cookie)return"";const t=document.cookie.split("; ").find(t=>0===t.indexOf(e));return t?t.split("=")[1]:""},A=e=>{let t;return localStorage&&(t=localStorage.getItem(e)),t||(t=j(e)),t&&"false"!==t?t:""},I=((e,t)=>{if(j(e))return A(e).split(".")[0];const n=new Date,r=new Date(n.getTime()+18e5).toUTCString(),i=new Date(n.setFullYear(n.getFullYear()+2)).toUTCString(),s=_(),o=Math.floor(n.getTime()/1e3),a=[s,o,"1",o,o].join(".");return S(e,a,i,$),S(t,"*",r,$),s})($.cookies.id.name,$.cookies.session.name),O=(t,n)=>{return r=function(t){if(100!==t.map(function(e){return e.distributionPercent}).reduce(function(e,t){return e+t}))throw new Error("Total weight percentages must equal 100%");var n=0,r=[];return t.forEach(function(t){if(n!=e){var i=n+t.distributionPercent*e/100,s={id:t.name,range_start:0===n?n:n+1,range_end:Math.min(i,e)};n=i,r.push(s)}}),r}(t),i=I,s=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=t/Math.pow(2,32);return Math.floor(r*n)}(function(e){return function(e,t){var n,r,i,s,o,a,u,c;for(n=3&e.length,r=e.length-n,i=t,o=3432918353,a=461845907,c=0;c<r;)u=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,i=27492+(65535&(s=5*(65535&(i=(i^=u=(65535&(u=(u=(65535&u)*o+(((u>>>16)*o&65535)<<16)&4294967295)<<15|u>>>17))*a+(((u>>>16)*a&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+(((s>>>16)+58964&65535)<<16);switch(u=0,n){case 3:u^=(255&e.charCodeAt(c+2))<<16;case 2:u^=(255&e.charCodeAt(c+1))<<8;case 1:i^=u=(65535&(u=(u=(65535&(u^=255&e.charCodeAt(c)))*o+(((u>>>16)*o&65535)<<16)&4294967295)<<15|u>>>17))*a+(((u>>>16)*a&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)}("".concat(n,"-").concat(i))),function(e,t){var n=null;return e.forEach(function(e){t>=e.range_start&&t<=e.range_end&&(n=e.id)}),n}(r,s);var r,i,s};var P="Sophi AB Test:";const C={log:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).log.apply(e,[P].concat(n))},warn:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).warn.apply(e,[P].concat(n))}};var T=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}u((r=r.apply(e,t||[])).next())})};const M="sophi_abtest_group",q="sophi_abtest_id";window.sophi=window.sophi||{};const R=new Date;R.setMonth(R.getMonth()+6);const D=R.toUTCString(),L=A("_matheriSegs"),H=j("_matheriSegs"),U=L.split(","),N=[];for(const e of $.experiments){const t=e.groups.find(e=>U.includes(e.name));N.push((null==t?void 0:t.name)||O(e.groups,e.id))}const z=((e,t)=>{let n=t;return e.some(e=>"external"===e.type)||(n+=",always-H"),n})($.experiments,N.join(","));z===U.join(",")&&H===L||S("_matheriSegs",z,D,$);const B=e=>{const t=e.charAt(e.length-1);return f[t]},G=e=>{const t=Object.assign({},e);if(window.location.search){const n=new URLSearchParams(window.location.search);n.has(q)&&((e,t,n)=>{e?(t.experimentId=e.toLowerCase(),C.log(`Test ID override. Original: ${n.experimentId}. Overridden by: ${e}.`)):C.warn(`Invalid test ID override in URL parameter ${q}: ${e}`)})(n.get(q),t,e),n.has(M)&&((e,t,n)=>{e&&e.toLowerCase()in d?(t.assignedGroup=e,C.log(`Test group override. Original: ${n.assignedGroup}. Overridden by: ${e}.`)):C.warn(`Invalid test group override in URL parameter ${M}: ${e}`)})(n.get(M),t,e)}return t},V=function(){var e;const t=$.experiments,n=A("_matheriSegs").split(","),r=[];for(const i of t){const t=null===(e=i.groups.find(e=>n.includes(e.name)))||void 0===e?void 0:e.name;if(!t)continue;const s=B(t),o={experimentId:i.id,assignedGroup:s,type:i.type};r.push(o)}return r};function F(e="external"){return V().filter(t=>t.type===e).map(e=>{var{type:t}=e;return function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["type"])}).map("external"===e?G:e=>e)}function Y(e){const t=V();let n="";if("string"!=typeof e)return;n=e.toLowerCase();const r=t.find(e=>e.experimentId.toLowerCase()===n);return void 0===r&&C.warn(`Experiment ${e} not found`),r&&"external"===r.type?G(r):r}const J={getAllExperiments:(...e)=>T(void 0,[...e],void 0,function*(e="external"){return F(e)}),getAllExperimentsSync:(e="external")=>F(e),getExperiment:e=>T(void 0,void 0,void 0,function*(){return Y(e)}),getExperimentSync:e=>Y(e)};window.sophi.abTests=J,window.dispatchEvent(new Event("sophi.abTests:ready"))})();(()=>{"use strict";var e={1:(e,t,r)=>{var n=r(5578),i=r(7255),o=r(5755),a=r(1866),s=r(6029),l=r(5022),c=n.Symbol,u=i("wks"),p=l?c.for||c:c&&c.withoutSetter||a;e.exports=function(e){return o(u,e)||(u[e]=s&&o(c,e)?c[e]:p("Symbol."+e)),u[e]}},41:e=>{e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},69:(e,t,r)=>{var n=r(231).has;e.exports=function(e){return n(e),e}},169:(e,t,r)=>{var n=r(4762),i=r(8473),o=r(1483),a=r(5755),s=r(382),l=r(2048).CONFIGURABLE,c=r(7268),u=r(4483),p=u.enforce,d=u.get,f=String,h=Object.defineProperty,y=n("".slice),v=n("".replace),g=n([].join),w=s&&!i(function(){return 8!==h(function(){},"length",{value:8}).length}),m=String(String).split("String"),b=e.exports=function(e,t,r){"Symbol("===y(f(t),0,7)&&(t="["+v(f(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!a(e,"name")||l&&e.name!==t)&&(s?h(e,"name",{value:t,configurable:!0}):e.name=t),w&&r&&a(r,"arity")&&e.length!==r.arity&&h(e,"length",{value:r.arity});try{r&&a(r,"constructor")&&r.constructor?s&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=p(e);return a(n,"source")||(n.source=g(m,"string"==typeof t?t:"")),e};Function.prototype.toString=b(function(){return o(this)&&d(this).source||c(this)},"toString")},194:(e,t,r)=>{var n=r(8612),i=r(1807),o=r(312),a=r(7035);n({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(e){return i(a,this,o(e))}})},231:(e,t,r)=>{var n=r(4762),i=WeakSet.prototype;e.exports={WeakSet,add:n(i.add),has:n(i.has),remove:n(i.delete)}},274:(e,t,r)=>{var n=r(8473);e.exports=!n(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})},312:(e,t,r)=>{var n=r(1409),i=r(1483),o=r(4713),a=r(1704),s=n("Set");e.exports=function(e){return function(e){return a(e)&&"number"==typeof e.size&&i(e.has)&&i(e.keys)}(e)?e:o(e)?new s(e):e}},348:(e,t,r)=>{var n=r(1807),i=r(1483),o=r(1704),a=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&i(r=e.toString)&&!o(s=n(r,e)))return s;if(i(r=e.valueOf)&&!o(s=n(r,e)))return s;if("string"!==t&&i(r=e.toString)&&!o(s=n(r,e)))return s;throw new a("Can't convert object to primitive value")}},382:(e,t,r)=>{var n=r(8473);e.exports=!n(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},458:(e,t,r)=>{r(7227)},507:(e,t,r)=>{var n=r(8612),i=r(1807),o=r(312),a=r(6006);n({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(e){return i(a,this,o(e))}})},560:(e,t,r)=>{var n=r(8612),i=r(7380),o=r(1506),a=r(8618).set;n({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(e){for(var t=i(this),r=arguments.length,n=0;n<r;)o(arguments[n++],function(e,r){a(t,e,r)},{AS_ENTRIES:!0});return t}})},670:(e,t,r)=>{var n=r(382),i=r(5835),o=r(7738);e.exports=function(e,t,r){n?i.f(e,t,o(0,r)):e[t]=r}},680:(e,t,r)=>{var n=r(4762),i=r(8120);e.exports=function(e,t,r){try{return n(i(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}}},864:(e,t,r)=>{var n=r(8612),i=r(8120),o=r(7380),a=r(3197),s=TypeError;n({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=o(this),r=arguments.length<2,n=r?void 0:arguments[1];if(i(e),a(t,function(i,o){r?(r=!1,n=i):n=e(n,i,o,t)}),r)throw new s("Reduce of empty map with no initial value");return n}})},1e3:(e,t,r)=>{var n=r(8612),i=r(4762),o=r(4246),a=r(1639),s=r(6261),l=i([].join),c=i([].push);n({target:"Set",proto:!0,real:!0,forced:!0},{join:function(e){var t=o(this),r=void 0===e?",":s(e),n=[];return a(t,function(e){c(n,e)}),l(n,r)}})},1278:(e,t,r)=>{var n=r(4762),i=n({}.toString),o=n("".slice);e.exports=function(e){return o(i(e),8,-1)}},1409:(e,t,r)=>{var n=r(5578),i=r(1483);e.exports=function(e,t){return arguments.length<2?(r=n[e],i(r)?r:void 0):n[e]&&n[e][t];var r}},1423:(e,t,r)=>{var n=r(1409),i=r(1483),o=r(4815),a=r(5022),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return i(t)&&o(t.prototype,s(e))}},1483:e=>{var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},1506:(e,t,r)=>{var n=r(2914),i=r(1807),o=r(2293),a=r(8761),s=r(5299),l=r(6960),c=r(4815),u=r(4887),p=r(6665),d=r(6721),f=TypeError,h=function(e,t){this.stopped=e,this.result=t},y=h.prototype;e.exports=function(e,t,r){var v,g,w,m,b,x,S,P=r&&r.that,A=!(!r||!r.AS_ENTRIES),D=!(!r||!r.IS_RECORD),k=!(!r||!r.IS_ITERATOR),E=!(!r||!r.INTERRUPTED),O=n(t,P),j=function(e){return v&&d(v,"normal"),new h(!0,e)},V=function(e){return A?(o(e),E?O(e[0],e[1],j):O(e[0],e[1])):E?O(e,j):O(e)};if(D)v=e.iterator;else if(k)v=e;else{if(!(g=p(e)))throw new f(a(e)+" is not iterable");if(s(g)){for(w=0,m=l(e);m>w;w++)if((b=V(e[w]))&&c(y,b))return b;return new h(!1)}v=u(e,g)}for(x=D?e.next:v.next;!(S=i(x,v)).done;){try{b=V(S.value)}catch(e){d(v,"throw",e)}if("object"==typeof b&&b&&c(y,b))return b}return new h(!1)}},1507:e=>{e.exports={}},1591:(e,t,r)=>{var n=r(8612),i=r(4246),o=r(6880).add;n({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var e=i(this),t=0,r=arguments.length;t<r;t++)o(e,arguments[t]);return e}})},1639:(e,t,r)=>{var n=r(4762),i=r(6001),o=r(6880),a=o.Set,s=o.proto,l=n(s.forEach),c=n(s.keys),u=c(new a).next;e.exports=function(e,t,r){return r?i({iterator:c(e),next:u},t):l(e,t)}},1641:(e,t,r)=>{var n=r(8612),i=r(2914),o=r(7380),a=r(8618),s=r(3197),l=a.Map,c=a.set;n({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(e){var t=o(this),r=i(e,arguments.length>1?arguments[1]:void 0),n=new l;return s(t,function(e,i){c(n,i,r(e,i,t))}),n}})},1703:e=>{var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},1704:(e,t,r)=>{var n=r(1483);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},1799:(e,t,r)=>{var n=r(382),i=r(8473),o=r(3145);e.exports=!n&&!i(function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},1807:(e,t,r)=>{var n=r(274),i=Function.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},1831:(e,t,r)=>{var n=r(9557),i=r(5578),o=r(2095),a="__core-js_shared__",s=e.exports=i[a]||o(a,{});(s.versions||(s.versions=[])).push({version:"3.46.0",mode:n?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.46.0/LICENSE",source:"https://github.com/zloirock/core-js"})},1851:(e,t,r)=>{var n,i,o,a=r(8473),s=r(1483),l=r(1704),c=r(5290),u=r(3181),p=r(7914),d=r(1),f=r(9557),h=d("iterator"),y=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(n=i):y=!0),!l(n)||a(function(){var e={};return n[h].call(e)!==e})?n={}:f&&(n=c(n)),s(n[h])||p(n,h,function(){return this}),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:y}},1866:(e,t,r)=>{var n=r(4762),i=0,o=Math.random(),a=n(1.1.toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},1911:(e,t,r)=>{var n=r(8612),i=r(7380),o=r(8618).remove;n({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e,t=i(this),r=!0,n=0,a=arguments.length;n<a;n++)e=o(t,arguments[n]),r=r&&e;return!!r}})},1916:(e,t,r)=>{var n=r(4246),i=r(6880),o=r(4824),a=r(3131),s=r(6001),l=i.add,c=i.has,u=i.remove;e.exports=function(e){var t=n(this),r=a(e).getIterator(),i=o(t);return s(r,function(e){c(t,e)?u(i,e):l(i,e)}),i}},1969:(e,t,r)=>{var n=r(4762),i=WeakMap.prototype;e.exports={WeakMap,set:n(i.set),get:n(i.get),has:n(i.has),remove:n(i.delete)}},1975:(e,t,r)=>{var n=r(8612),i=r(1807),o=r(8120),a=r(2293),s=r(41),l=r(8660),c=r(8901),u=r(9557),p=r(6721),d=r(7486),f=r(5267),h=!u&&!d("filter",function(){}),y=!u&&!h&&f("filter",TypeError),v=u||h||y,g=l(function(){for(var e,t,r=this.iterator,n=this.predicate,o=this.next;;){if(e=a(i(o,r)),this.done=!!e.done)return;if(t=e.value,c(r,n,[t,this.counter++],!0))return t}});n({target:"Iterator",proto:!0,real:!0,forced:v},{filter:function(e){a(this);try{o(e)}catch(e){p(this,"throw",e)}return y?i(y,this,e):new g(s(this),{predicate:e})}})},1983:(e,t,r)=>{var n=r(6721);e.exports=function(e,t,r){for(var i=e.length-1;i>=0;i--)if(void 0!==e[i])try{r=n(e[i].iterator,t,r)}catch(e){t="throw",r=e}if("throw"===t)throw r;return r}},1984:(e,t,r)=>{var n=r(4246),i=r(5828),o=r(1639),a=r(3131);e.exports=function(e){var t=n(this),r=a(e);return!(i(t)>r.size)&&!1!==o(t,function(e){if(!r.includes(e))return!1},!0)}},2048:(e,t,r)=>{var n=r(382),i=r(5755),o=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=i(o,"name"),l=s&&"something"===function(){}.name,c=s&&(!n||n&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},2095:(e,t,r)=>{var n=r(5578),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},2121:(e,t,r)=>{var n=r(4762),i=r(8473),o=r(1278),a=Object,s=n("".split);e.exports=i(function(){return!a("z").propertyIsEnumerable(0)})?function(e){return"String"===o(e)?s(e,""):a(e)}:a},2278:(e,t,r)=>{var n=r(6742),i=r(4741).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},2293:(e,t,r)=>{var n=r(1704),i=String,o=TypeError;e.exports=function(e){if(n(e))return e;throw new o(i(e)+" is not an object")}},2313:(e,t,r)=>{var n=r(7914);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},2347:(e,t,r)=>{var n=r(3312),i=Object;e.exports=function(e){return i(n(e))}},2355:(e,t,r)=>{var n=r(1807),i=r(1704),o=r(1423),a=r(2564),s=r(348),l=r(1),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var r,l=a(e,u);if(l){if(void 0===t&&(t="default"),r=n(l,e,t),!i(r)||o(r))return r;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},2455:(e,t,r)=>{var n=r(8612),i=r(2914),o=r(4246),a=r(1639);n({target:"Set",proto:!0,real:!0,forced:!0},{find:function(e){var t=o(this),r=i(e,arguments.length>1?arguments[1]:void 0),n=a(t,function(e){if(r(e,e,t))return{value:e}},!0);return n&&n.value}})},2477:(e,t,r)=>{var n=r(8612),i=r(1807),o=r(312),a=r(5790);n({target:"Set",proto:!0,real:!0,forced:!0},{union:function(e){return i(a,this,o(e))}})},2564:(e,t,r)=>{var n=r(8120),i=r(5983);e.exports=function(e,t){var r=e[t];return i(r)?void 0:n(r)}},2592:(e,t,r)=>{var n=r(8612),i=r(2914),o=r(7380),a=r(8618),s=r(3197),l=a.Map,c=a.set;n({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(e){var t=o(this),r=i(e,arguments.length>1?arguments[1]:void 0),n=new l;return s(t,function(e,i){r(e,i,t)&&c(n,i,e)}),n}})},2811:(e,t,r)=>{var n=r(1409);e.exports=n("document","documentElement")},2822:(e,t,r)=>{var n=r(8612),i=r(8120),o=r(4246),a=r(1639),s=TypeError;n({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=o(this),r=arguments.length<2,n=r?void 0:arguments[1];if(i(e),a(t,function(i){r?(r=!1,n=i):n=e(n,i,i,t)}),r)throw new s("Reduce of empty set with no initial value");return n}})},2914:(e,t,r)=>{var n=r(3786),i=r(8120),o=r(274),a=n(n.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},3005:(e,t,r)=>{var n=r(1703);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},3049:(e,t,r)=>{var n=r(4246),i=r(6880).has,o=r(5828),a=r(3131),s=r(6001),l=r(6721);e.exports=function(e){var t=n(this),r=a(e);if(o(t)<r.size)return!1;var c=r.getIterator();return!1!==s(c,function(e){if(!i(t,e))return l(c,"normal",!1)})}},3067:(e,t,r)=>{var n=r(274),i=Function.prototype,o=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(o):function(){return a.apply(o,arguments)})},3131:(e,t,r)=>{var n=r(8120),i=r(2293),o=r(1807),a=r(3005),s=r(41),l="Invalid size",c=RangeError,u=TypeError,p=Math.max,d=function(e,t){this.set=e,this.size=p(t,0),this.has=n(e.has),this.keys=n(e.keys)};d.prototype={getIterator:function(){return s(i(o(this.keys,this.set)))},includes:function(e){return o(this.has,this.set,e)}},e.exports=function(e){i(e);var t=+e.size;if(t!=t)throw new u(l);var r=a(t);if(r<0)throw new c(l);return new d(e,r)}},3145:(e,t,r)=>{var n=r(5578),i=r(1704),o=n.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},3181:(e,t,r)=>{var n=r(5755),i=r(1483),o=r(2347),a=r(5409),s=r(9441),l=a("IE_PROTO"),c=Object,u=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=o(e);if(n(t,l))return t[l];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof c?u:null}},3197:(e,t,r)=>{var n=r(4762),i=r(6001),o=r(8618),a=o.Map,s=o.proto,l=n(s.forEach),c=n(s.entries),u=c(new a).next;e.exports=function(e,t,r){return r?i({iterator:c(e),next:u},function(e){return t(e[1],e[0])}):l(e,t)}},3211:(e,t,r)=>{var n=r(8612),i=r(2914),o=r(7380),a=r(8618),s=r(3197),l=a.Map,c=a.set;n({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(e){var t=o(this),r=i(e,arguments.length>1?arguments[1]:void 0),n=new l;return s(t,function(e,i){c(n,r(e,i,t),e)}),n}})},3312:(e,t,r)=>{var n=r(5983),i=TypeError;e.exports=function(e){if(n(e))throw new i("Can't call method on "+e);return e}},3392:(e,t,r)=>{var n=r(3005),i=Math.max,o=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):o(r,t)}},3567:(e,t,r)=>{var n=r(8612),i=r(9531),o=r(7380),a=r(3197);n({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(e){return!0===a(o(this),function(t){if(i(t,e))return!0},!0)}})},3617:(e,t,r)=>{var n=r(8612),i=r(5578),o=r(6021),a=r(2293),s=r(1483),l=r(3181),c=r(3864),u=r(670),p=r(8473),d=r(5755),f=r(1),h=r(1851).IteratorPrototype,y=r(382),v=r(9557),g="constructor",w="Iterator",m=f("toStringTag"),b=TypeError,x=i[w],S=v||!s(x)||x.prototype!==h||!p(function(){x({})}),P=function(){if(o(this,h),l(this)===h)throw new b("Abstract class Iterator not directly constructable")},A=function(e,t){y?c(h,e,{configurable:!0,get:function(){return t},set:function(t){if(a(this),this===h)throw new b("You can't redefine this property");d(this,e)?this[e]=t:u(this,e,t)}}):h[e]=t};d(h,m)||A(m,w),!S&&d(h,g)&&h[g]!==Object||A(g,P),P.prototype=h,n({global:!0,constructor:!0,forced:S},{Iterator:P})},3644:(e,t,r)=>{var n=r(8612),i=r(69),o=r(231).add;n({target:"WeakSet",proto:!0,real:!0,forced:!0},{addAll:function(){for(var e=i(this),t=0,r=arguments.length;t<r;t++)o(e,arguments[t]);return e}})},3658:(e,t,r)=>{var n=r(6742),i=r(4741);e.exports=Object.keys||function(e){return n(e,i)}},3786:(e,t,r)=>{var n=r(1278),i=r(4762);e.exports=function(e){if("Function"===n(e))return i(e)}},3789:(e,t,r)=>{var n=r(8612),i=r(7380),o=r(3197);n({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(e){var t=o(i(this),function(t,r){if(t===e)return{key:r}},!0);return t&&t.key}})},3815:(e,t,r)=>{var n=r(2355),i=r(1423);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},3864:(e,t,r)=>{var n=r(169),i=r(5835);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),i.f(e,t,r)}},3896:(e,t,r)=>{var n=r(382),i=r(8473);e.exports=n&&i(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},3991:(e,t,r)=>{var n=r(8612),i=r(1807),o=r(8120),a=r(2293),s=r(41),l=r(8660),c=r(8901),u=r(6721),p=r(7486),d=r(5267),f=r(9557),h=!f&&!p("map",function(){}),y=!f&&!h&&d("map",TypeError),v=f||h||y,g=l(function(){var e=this.iterator,t=a(i(this.next,e));if(!(this.done=!!t.done))return c(e,this.mapper,[t.value,this.counter++],!0)});n({target:"Iterator",proto:!0,real:!0,forced:v},{map:function(e){a(this);try{o(e)}catch(e){u(this,"throw",e)}return y?i(y,this,e):new g(s(this),{mapper:e})}})},4246:(e,t,r)=>{var n=r(6880).has;e.exports=function(e){return n(e),e}},4338:(e,t,r)=>{var n={};n[r(1)("toStringTag")]="z",e.exports="[object z]"===String(n)},4347:(e,t)=>{t.f=Object.getOwnPropertySymbols},4364:(e,t,r)=>{r(3991)},4483:(e,t,r)=>{var n,i,o,a=r(4644),s=r(5578),l=r(1704),c=r(9037),u=r(5755),p=r(1831),d=r(5409),f=r(1507),h="Object already initialized",y=s.TypeError,v=s.WeakMap;if(a||p.state){var g=p.state||(p.state=new v);g.get=g.get,g.has=g.has,g.set=g.set,n=function(e,t){if(g.has(e))throw new y(h);return t.facade=e,g.set(e,t),t},i=function(e){return g.get(e)||{}},o=function(e){return g.has(e)}}else{var w=d("state");f[w]=!0,n=function(e,t){if(u(e,w))throw new y(h);return t.facade=e,c(e,w,t),t},i=function(e){return u(e,w)?e[w]:{}},o=function(e){return u(e,w)}}e.exports={set:n,get:i,has:o,enforce:function(e){return o(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!l(t)||(r=i(t)).type!==e)throw new y("Incompatible receiver, "+e+" required");return r}}}},4644:(e,t,r)=>{var n=r(5578),i=r(1483),o=n.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},4697:(e,t,r)=>{var n=r(8612),i=r(2914),o=r(7380),a=r(3197);n({target:"Map",proto:!0,real:!0,forced:!0},{find:function(e){var t=o(this),r=i(e,arguments.length>1?arguments[1]:void 0),n=a(t,function(e,n){if(r(e,n,t))return{value:e}},!0);return n&&n.value}})},4713:(e,t,r)=>{var n=r(6145),i=r(5755),o=r(5983),a=r(1),s=r(6775),l=a("iterator"),c=Object;e.exports=function(e){if(o(e))return!1;var t=c(e);return void 0!==t[l]||"@@iterator"in t||i(s,n(t))}},4741:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},4762:(e,t,r)=>{var n=r(274),i=Function.prototype,o=i.call,a=n&&i.bind.bind(o,o);e.exports=n?a:function(e){return function(){return o.apply(e,arguments)}}},4815:(e,t,r)=>{var n=r(4762);e.exports=n({}.isPrototypeOf)},4824:(e,t,r)=>{var n=r(6880),i=r(1639),o=n.Set,a=n.add;e.exports=function(e){var t=new o;return i(e,function(e){a(t,e)}),t}},4846:(e,t,r)=>{r(3617)},4887:(e,t,r)=>{var n=r(1807),i=r(8120),o=r(2293),a=r(8761),s=r(6665),l=TypeError;e.exports=function(e,t){var r=arguments.length<2?s(e):t;if(i(r))return o(n(r,e));throw new l(a(e)+" is not iterable")}},4961:(e,t,r)=>{var n=r(382),i=r(1807),o=r(7611),a=r(7738),s=r(5599),l=r(3815),c=r(5755),u=r(1799),p=Object.getOwnPropertyDescriptor;t.f=n?p:function(e,t){if(e=s(e),t=l(t),u)try{return p(e,t)}catch(e){}if(c(e,t))return a(!i(o.f,e,t),e[t])}},5022:(e,t,r)=>{var n=r(6029);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5231:(e,t,r)=>{var n=r(8612),i=r(2914),o=r(7380),a=r(3197);n({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(e){var t=o(this),r=i(e,arguments.length>1?arguments[1]:void 0),n=a(t,function(e,n){if(r(e,n,t))return{key:n}},!0);return n&&n.key}})},5247:e=>{e.exports=function(e,t){return{value:e,done:t}}},5267:(e,t,r)=>{var n=r(5578);e.exports=function(e,t){var r=n.Iterator,i=r&&r.prototype,o=i&&i[e],a=!1;if(o)try{o.call({next:function(){return{done:!0}},return:function(){a=!0}},-1)}catch(e){e instanceof t||(a=!1)}if(!a)return o}},5281:(e,t,r)=>{var n=r(8612),i=r(1807),o=r(312),a=r(5472);n({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(e){return i(a,this,o(e))}})},5290:(e,t,r)=>{var n,i=r(2293),o=r(5799),a=r(4741),s=r(1507),l=r(2811),c=r(3145),u=r(5409),p="prototype",d="script",f=u("IE_PROTO"),h=function(){},y=function(e){return"<"+d+">"+e+"</"+d+">"},v=function(e){e.write(y("")),e.close();var t=e.parentWindow.Object;return e=null,t},g=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;g="undefined"!=typeof document?document.domain&&n?v(n):(t=c("iframe"),r="java"+d+":",t.style.display="none",l.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(y("document.F=Object")),e.close(),e.F):v(n);for(var i=a.length;i--;)delete g[p][a[i]];return g()};s[f]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(h[p]=i(e),r=new h,h[p]=null,r[f]=e):r=g(),void 0===t?r:o.f(r,t)}},5299:(e,t,r)=>{var n=r(1),i=r(6775),o=n("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},5409:(e,t,r)=>{var n=r(7255),i=r(1866),o=n("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},5472:(e,t,r)=>{var n=r(4246),i=r(6880),o=r(5828),a=r(3131),s=r(1639),l=r(6001),c=i.Set,u=i.add,p=i.has;e.exports=function(e){var t=n(this),r=a(e),i=new c;return o(t)>r.size?l(r.getIterator(),function(e){p(t,e)&&u(i,e)}):s(t,function(e){r.includes(e)&&u(i,e)}),i}},5473:(e,t,r)=>{var n=r(8612),i=r(1807),o=r(312),a=r(1916);n({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(e){return i(a,this,o(e))}})},5578:function(e,t,r){var n=function(e){return e&&e.Math===Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},5599:(e,t,r)=>{var n=r(2121),i=r(3312);e.exports=function(e){return n(i(e))}},5755:(e,t,r)=>{var n=r(4762),i=r(2347),o=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},5790:(e,t,r)=>{var n=r(4246),i=r(6880).add,o=r(4824),a=r(3131),s=r(6001);e.exports=function(e){var t=n(this),r=a(e).getIterator(),l=o(t);return s(r,function(e){i(l,e)}),l}},5799:(e,t,r)=>{var n=r(382),i=r(3896),o=r(5835),a=r(2293),s=r(5599),l=r(3658);t.f=n&&!i?Object.defineProperties:function(e,t){a(e);for(var r,n=s(t),i=l(t),c=i.length,u=0;c>u;)o.f(e,r=i[u++],n[r]);return e}},5828:(e,t,r)=>{var n=r(680),i=r(6880);e.exports=n(i.proto,"size","get")||function(e){return e.size}},5835:(e,t,r)=>{var n=r(382),i=r(1799),o=r(3896),a=r(2293),s=r(3815),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,p="enumerable",d="configurable",f="writable";t.f=n?o?function(e,t,r){if(a(e),t=s(t),a(r),"function"==typeof e&&"prototype"===t&&"value"in r&&f in r&&!r[f]){var n=u(e,t);n&&n[f]&&(e[t]=r.value,r={configurable:d in r?r[d]:n[d],enumerable:p in r?r[p]:n[p],writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(a(e),t=s(t),a(r),i)try{return c(e,t,r)}catch(e){}if("get"in r||"set"in r)throw new l("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},5899:(e,t,r)=>{var n=r(1969).has;e.exports=function(e){return n(e),e}},5983:e=>{e.exports=function(e){return null==e}},6001:(e,t,r)=>{var n=r(1807);e.exports=function(e,t,r){for(var i,o,a=r?e:e.iterator,s=e.next;!(i=n(s,a)).done;)if(void 0!==(o=t(i.value)))return o}},6006:(e,t,r)=>{var n=r(4246),i=r(6880),o=r(4824),a=r(5828),s=r(3131),l=r(1639),c=r(6001),u=i.has,p=i.remove;e.exports=function(e){var t=n(this),r=s(e),i=o(t);return a(t)<=r.size?l(t,function(e){r.includes(e)&&p(i,e)}):c(r.getIterator(),function(e){u(i,e)&&p(i,e)}),i}},6021:(e,t,r)=>{var n=r(4815),i=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw new i("Incorrect invocation")}},6029:(e,t,r)=>{var n=r(6477),i=r(8473),o=r(5578).String;e.exports=!!Object.getOwnPropertySymbols&&!i(function(){var e=Symbol("symbol detection");return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41})},6145:(e,t,r)=>{var n=r(4338),i=r(1483),o=r(1278),a=r(1)("toStringTag"),s=Object,l="Arguments"===o(function(){return arguments}());e.exports=n?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=s(e),a))?r:l?o(t):"Object"===(n=o(t))&&i(t.callee)?"Arguments":n}},6237:(e,t,r)=>{var n=r(8612),i=r(4246),o=r(6880).remove;n({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e,t=i(this),r=!0,n=0,a=arguments.length;n<a;n++)e=o(t,arguments[n]),r=r&&e;return!!r}})},6261:(e,t,r)=>{var n=r(6145),i=String;e.exports=function(e){if("Symbol"===n(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},6477:(e,t,r)=>{var n,i,o=r(5578),a=r(9461),s=o.process,l=o.Deno,c=s&&s.versions||l&&l.version,u=c&&c.v8;u&&(i=(n=u.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(i=+n[1]),e.exports=i},6651:(e,t,r)=>{var n=r(5599),i=r(3392),o=r(6960),a=function(e){return function(t,r,a){var s=n(t),l=o(s);if(0===l)return!e&&-1;var c,u=i(a,l);if(e&&r!=r){for(;l>u;)if((c=s[u++])!=c)return!0}else for(;l>u;u++)if((e||u in s)&&s[u]===r)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},6665:(e,t,r)=>{var n=r(6145),i=r(2564),o=r(5983),a=r(6775),s=r(1)("iterator");e.exports=function(e){if(!o(e))return i(e,s)||i(e,"@@iterator")||a[n(e)]}},6721:(e,t,r)=>{var n=r(1807),i=r(2293),o=r(2564);e.exports=function(e,t,r){var a,s;i(e);try{if(!(a=o(e,"return"))){if("throw"===t)throw r;return r}a=n(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw r;if(s)throw a;return i(a),r}},6726:(e,t,r)=>{var n=r(5755),i=r(9497),o=r(4961),a=r(5835);e.exports=function(e,t,r){for(var s=i(t),l=a.f,c=o.f,u=0;u<s.length;u++){var p=s[u];n(e,p)||r&&n(r,p)||l(e,p,c(t,p))}}},6742:(e,t,r)=>{var n=r(4762),i=r(5755),o=r(5599),a=r(6651).indexOf,s=r(1507),l=n([].push);e.exports=function(e,t){var r,n=o(e),c=0,u=[];for(r in n)!i(s,r)&&i(n,r)&&l(u,r);for(;t.length>c;)i(n,r=t[c++])&&(~a(u,r)||l(u,r));return u}},6746:(e,t,r)=>{var n=r(8612),i=r(5899),o=r(1969).remove;n({target:"WeakMap",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e,t=i(this),r=!0,n=0,a=arguments.length;n<a;n++)e=o(t,arguments[n]),r=r&&e;return!!r}})},6775:e=>{e.exports={}},6880:(e,t,r)=>{var n=r(4762),i=Set.prototype;e.exports={Set,add:n(i.add),has:n(i.has),remove:n(i.delete),proto:i}},6913:(e,t,r)=>{var n=r(8612),i=r(1807),o=r(312),a=r(1984);n({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(e){return i(a,this,o(e))}})},6960:(e,t,r)=>{var n=r(8324);e.exports=function(e){return n(e.length)}},6993:(e,t,r)=>{var n=r(8612),i=r(2914),o=r(4246),a=r(1639);n({target:"Set",proto:!0,real:!0,forced:!0},{every:function(e){var t=o(this),r=i(e,arguments.length>1?arguments[1]:void 0);return!1!==a(t,function(e){if(!r(e,e,t))return!1},!0)}})},7035:(e,t,r)=>{var n=r(4246),i=r(6880).has,o=r(5828),a=r(3131),s=r(1639),l=r(6001),c=r(6721);e.exports=function(e){var t=n(this),r=a(e);if(o(t)<=r.size)return!1!==s(t,function(e){if(r.includes(e))return!1},!0);var u=r.getIterator();return!1!==l(u,function(e){if(i(t,e))return c(u,"normal",!1)})}},7080:(e,t,r)=>{var n=r(8612),i=r(69),o=r(231).remove;n({target:"WeakSet",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e,t=i(this),r=!0,n=0,a=arguments.length;n<a;n++)e=o(t,arguments[n]),r=r&&e;return!!r}})},7227:(e,t,r)=>{var n=r(8612),i=r(1506),o=r(8120),a=r(2293),s=r(41),l=r(6721),c=r(5267),u=r(3067),p=r(8473),d=TypeError,f=p(function(){[].keys().reduce(function(){},void 0)}),h=!f&&c("reduce",d);n({target:"Iterator",proto:!0,real:!0,forced:f||h},{reduce:function(e){a(this);try{o(e)}catch(e){l(this,"throw",e)}var t=arguments.length<2,r=t?void 0:arguments[1];if(h)return u(h,this,t?[e]:[e,r]);var n=s(this),c=0;if(i(n,function(n){t?(t=!1,r=n):r=e(r,n,c),c++},{IS_RECORD:!0}),t)throw new d("Reduce of empty iterator with no initial value");return r}})},7255:(e,t,r)=>{var n=r(1831);e.exports=function(e,t){return n[e]||(n[e]=t||{})}},7268:(e,t,r)=>{var n=r(4762),i=r(1483),o=r(1831),a=n(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},7368:(e,t,r)=>{var n=r(8612),i=r(2914),o=r(4246),a=r(6880),s=r(1639),l=a.Set,c=a.add;n({target:"Set",proto:!0,real:!0,forced:!0},{map:function(e){var t=o(this),r=i(e,arguments.length>1?arguments[1]:void 0),n=new l;return s(t,function(e){c(n,r(e,e,t))}),n}})},7380:(e,t,r)=>{var n=r(8618).has;e.exports=function(e){return n(e),e}},7458:(e,t,r)=>{r(1975)},7486:e=>{e.exports=function(e,t){var r="function"==typeof Iterator&&Iterator.prototype[e];if(r)try{r.call({next:null},t).next()}catch(e){return!0}}},7611:(e,t)=>{var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},7738:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7750:(e,t,r)=>{var n=r(8612),i=r(2914),o=r(7380),a=r(3197);n({target:"Map",proto:!0,real:!0,forced:!0},{some:function(e){var t=o(this),r=i(e,arguments.length>1?arguments[1]:void 0);return!0===a(t,function(e,n){if(r(e,n,t))return!0},!0)}})},7911:(e,t,r)=>{var n=r(8612),i=r(2914),o=r(7380),a=r(3197);n({target:"Map",proto:!0,real:!0,forced:!0},{every:function(e){var t=o(this),r=i(e,arguments.length>1?arguments[1]:void 0);return!1!==a(t,function(e,n){if(!r(e,n,t))return!1},!0)}})},7914:(e,t,r)=>{var n=r(1483),i=r(5835),o=r(169),a=r(2095);e.exports=function(e,t,r,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:t;if(n(r)&&o(r,c,s),s.global)l?e[t]=r:a(t,r);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=r:i.f(e,t,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},7918:(e,t,r)=>{var n=r(8612),i=r(2914),o=r(4246),a=r(6880),s=r(1639),l=a.Set,c=a.add;n({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(e){var t=o(this),r=i(e,arguments.length>1?arguments[1]:void 0),n=new l;return s(t,function(e){r(e,e,t)&&c(n,e)}),n}})},8120:(e,t,r)=>{var n=r(1483),i=r(8761),o=TypeError;e.exports=function(e){if(n(e))return e;throw new o(i(e)+" is not a function")}},8324:(e,t,r)=>{var n=r(3005),i=Math.min;e.exports=function(e){var t=n(e);return t>0?i(t,9007199254740991):0}},8473:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},8608:(e,t,r)=>{var n=r(8612),i=r(1807),o=r(312),a=r(3049);n({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(e){return i(a,this,o(e))}})},8612:(e,t,r)=>{var n=r(5578),i=r(4961).f,o=r(9037),a=r(7914),s=r(2095),l=r(6726),c=r(8730);e.exports=function(e,t){var r,u,p,d,f,h=e.target,y=e.global,v=e.stat;if(r=y?n:v?n[h]||s(h,{}):n[h]&&n[h].prototype)for(u in t){if(d=t[u],p=e.dontCallGetSet?(f=i(r,u))&&f.value:r[u],!c(y?u:h+(v?".":"#")+u,e.forced)&&void 0!==p){if(typeof d==typeof p)continue;l(d,p)}(e.sham||p&&p.sham)&&o(d,"sham",!0),a(r,u,d,e)}}},8618:(e,t,r)=>{var n=r(4762),i=Map.prototype;e.exports={Map,set:n(i.set),get:n(i.get),has:n(i.has),remove:n(i.delete),proto:i}},8660:(e,t,r)=>{var n=r(1807),i=r(5290),o=r(9037),a=r(2313),s=r(1),l=r(4483),c=r(2564),u=r(1851).IteratorPrototype,p=r(5247),d=r(6721),f=r(1983),h=s("toStringTag"),y="IteratorHelper",v="WrapForValidIterator",g="normal",w="throw",m=l.set,b=function(e){var t=l.getterFor(e?v:y);return a(i(u),{next:function(){var r=t(this);if(e)return r.nextHandler();if(r.done)return p(void 0,!0);try{var n=r.nextHandler();return r.returnHandlerResult?n:p(n,r.done)}catch(e){throw r.done=!0,e}},return:function(){var r=t(this),i=r.iterator;if(r.done=!0,e){var o=c(i,"return");return o?n(o,i):p(void 0,!0)}if(r.inner)try{d(r.inner.iterator,g)}catch(e){return d(i,w,e)}if(r.openIters)try{f(r.openIters,g)}catch(e){return d(i,w,e)}return i&&d(i,g),p(void 0,!0)}})},x=b(!0),S=b(!1);o(S,h,"Iterator Helper"),e.exports=function(e,t,r){var n=function(n,i){i?(i.iterator=n.iterator,i.next=n.next):i=n,i.type=t?v:y,i.returnHandlerResult=!!r,i.nextHandler=e,i.counter=0,i.done=!1,m(this,i)};return n.prototype=t?x:S,n}},8730:(e,t,r)=>{var n=r(8473),i=r(1483),o=/#|\.prototype\./,a=function(e,t){var r=l[s(e)];return r===u||r!==c&&(i(t)?n(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=a.data={},c=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},8761:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},8901:(e,t,r)=>{var n=r(2293),i=r(6721);e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){i(e,"throw",t)}}},9037:(e,t,r)=>{var n=r(382),i=r(5835),o=r(7738);e.exports=n?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},9271:(e,t,r)=>{var n=r(8612),i=r(8120),o=r(7380),a=r(8618),s=TypeError,l=a.get,c=a.has,u=a.set;n({target:"Map",proto:!0,real:!0,forced:!0},{update:function(e,t){var r=o(this),n=arguments.length;i(t);var a=c(r,e);if(!a&&n<3)throw new s("Updating absent value");var p=a?l(r,e):i(n>2?arguments[2]:void 0)(e,r);return u(r,e,t(p,e,r)),r}})},9441:(e,t,r)=>{var n=r(8473);e.exports=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},9461:(e,t,r)=>{var n=r(5578).navigator,i=n&&n.userAgent;e.exports=i?String(i):""},9497:(e,t,r)=>{var n=r(1409),i=r(4762),o=r(2278),a=r(4347),s=r(2293),l=i([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(s(e)),r=a.f;return r?l(t,r(e)):t}},9531:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},9557:e=>{e.exports=!1},9655:(e,t,r)=>{r(9930)},9828:(e,t,r)=>{var n=r(8612),i=r(2914),o=r(4246),a=r(1639);n({target:"Set",proto:!0,real:!0,forced:!0},{some:function(e){var t=o(this),r=i(e,arguments.length>1?arguments[1]:void 0);return!0===a(t,function(e){if(r(e,e,t))return!0},!0)}})},9930:(e,t,r)=>{var n=r(8612),i=r(1807),o=r(1506),a=r(8120),s=r(2293),l=r(41),c=r(6721),u=r(5267)("forEach",TypeError);n({target:"Iterator",proto:!0,real:!0,forced:u},{forEach:function(e){s(this);try{a(e)}catch(e){c(this,"throw",e)}if(u)return i(u,this,e);var t=l(this),r=0;o(t,function(t){e(t,r++)},{IS_RECORD:!0})}})}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}function n(e){return{lang:e?.lang??undefined,message:e?.message,abortEarly:e?.abortEarly??undefined,abortPipeEarly:e?.abortPipeEarly??undefined}}function i(e){const t=typeof e;return"string"===t?`"${e}"`:"number"===t||"bigint"===t||"boolean"===t?`${e}`:"object"===t||"function"===t?(e&&Object.getPrototypeOf(e)?.constructor?.name)??"null":t}function o(e,t,r,n,o){const a=o&&"input"in o?o.input:r.value,s=o?.expected??e.expects??null,l=o?.received??i(a),c={kind:e.kind,type:e.type,input:a,expected:s,received:l,message:`Invalid ${t}: ${s?`Expected ${s} but r`:"R"}eceived ${l}`,requirement:e.requirement,path:o?.path,issues:o?.issues,lang:n.lang,abortEarly:n.abortEarly,abortPipeEarly:n.abortPipeEarly},u="schema"===e.kind,p=o?.message??e.message??(e.reference,void c.lang)??(u?void c.lang:null)??n.message??void c.lang;void 0!==p&&(c.message="function"==typeof p?p(c):p),u&&(r.typed=!1),r.issues?r.issues.push(c):r.issues=[c]}function a(e){return{version:1,vendor:"valibot",validate:t=>e["~run"]({value:t},n())}}function s(e,t){return Object.hasOwn(e,t)&&"__proto__"!==t&&"prototype"!==t&&"constructor"!==t}function l(e,t){const r=[...new Set(e)];return r.length>1?`(${r.join(` ${t} `)})`:r[0]??"never"}function c(e){if(e.path){let t="";for(const r of e.path){if("string"!=typeof r.key&&"number"!=typeof r.key)return null;t+=t?`.${r.key}`:r.key}return t}return null}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r(1911),r(7911),r(2592),r(4697),r(5231),r(3567),r(3789),r(3211),r(1641),r(560),r(864),r(7750),r(9271);var u=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function p(e){return{kind:"transformation",type:"transform",reference:p,async:!1,operation:e,"~run"(e){return e.value=this.operation(e.value),e}}}function d(e,t,r){return"function"==typeof e.fallback?e.fallback(t,r):e.fallback}function f(e,t,r){return"function"==typeof e.default?e.default(t,r):e.default}function h(e){return{kind:"schema",type:"boolean",reference:h,expects:"boolean",async:!1,message:e,get"~standard"(){return a(this)},"~run"(e,t){return"boolean"==typeof e.value?e.typed=!0:o(this,"type",e,t),e}}}function y(e){return{kind:"schema",type:"date",reference:y,expects:"Date",async:!1,message:e,get"~standard"(){return a(this)},"~run"(e,t){return e.value instanceof Date?isNaN(e.value)?o(this,"type",e,t,{received:'"Invalid Date"'}):e.typed=!0:o(this,"type",e,t),e}}}function v(e,t){if(typeof e==typeof t){if(e===t||e instanceof Date&&t instanceof Date&&+e===+t)return{value:e};if(e&&t&&e.constructor===Object&&t.constructor===Object){for(const r in t)if(r in e){const n=v(e[r],t[r]);if(n.issue)return n;e[r]=n.value}else e[r]=t[r];return{value:e}}if(Array.isArray(e)&&Array.isArray(t)&&e.length===t.length){for(let r=0;r<e.length;r++){const n=v(e[r],t[r]);if(n.issue)return n;e[r]=n.value}return{value:e}}}return{issue:!0}}function g(e,t){return{kind:"schema",type:"non_optional",reference:g,expects:"!undefined",async:!1,wrapped:e,message:t,get"~standard"(){return a(this)},"~run"(e,t){return void 0!==e.value&&(e=this.wrapped["~run"](e,t)),void 0===e.value&&o(this,"type",e,t),e}}}function w(e){return{kind:"schema",type:"null",reference:w,expects:"null",async:!1,message:e,get"~standard"(){return a(this)},"~run"(e,t){return null===e.value?e.typed=!0:o(this,"type",e,t),e}}}function m(e){return{kind:"schema",type:"number",reference:m,expects:"number",async:!1,message:e,get"~standard"(){return a(this)},"~run"(e,t){return"number"!=typeof e.value||isNaN(e.value)?o(this,"type",e,t):e.typed=!0,e}}}function b(e,t){return{kind:"schema",type:"object",reference:b,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return a(this)},"~run"(e,t){const r=e.value;if(r&&"object"==typeof r){e.typed=!0,e.value={};for(const n in this.entries){const i=this.entries[n];if(n in r||("exact_optional"===i.type||"optional"===i.type||"nullish"===i.type)&&void 0!==i.default){const o=n in r?r[n]:f(i),a=i["~run"]({value:o},t);if(a.issues){const i={type:"object",origin:"value",input:r,key:n,value:o};for(const t of a.issues)t.path?t.path.unshift(i):t.path=[i],e.issues?.push(t);if(e.issues||(e.issues=a.issues),t.abortEarly){e.typed=!1;break}}a.typed||(e.typed=!1),e.value[n]=a.value}else if(void 0!==i.fallback)e.value[n]=d(i);else if("exact_optional"!==i.type&&"optional"!==i.type&&"nullish"!==i.type&&(o(this,"key",e,t,{input:void 0,expected:`"${n}"`,path:[{type:"object",origin:"key",input:r,key:n,value:r[n]}]}),t.abortEarly))break}}else o(this,"type",e,t);return e}}}function x(e,t){return{kind:"schema",type:"optional",reference:x,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return a(this)},"~run"(e,t){return void 0===e.value&&(void 0!==this.default&&(e.value=f(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}function S(e,t){return{kind:"schema",type:"picklist",reference:S,expects:l(e.map(i),"|"),async:!1,options:e,message:t,get"~standard"(){return a(this)},"~run"(e,t){return this.options.includes(e.value)?e.typed=!0:o(this,"type",e,t),e}}}function P(e,t,r){return{kind:"schema",type:"record",reference:P,expects:"Object",async:!1,key:e,value:t,message:r,get"~standard"(){return a(this)},"~run"(e,t){const r=e.value;if(r&&"object"==typeof r){e.typed=!0,e.value={};for(const n in r)if(s(r,n)){const i=r[n],o=this.key["~run"]({value:n},t);if(o.issues){const a={type:"object",origin:"key",input:r,key:n,value:i};for(const t of o.issues)t.path=[a],e.issues?.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}const a=this.value["~run"]({value:i},t);if(a.issues){const o={type:"object",origin:"value",input:r,key:n,value:i};for(const t of a.issues)t.path?t.path.unshift(o):t.path=[o],e.issues?.push(t);if(e.issues||(e.issues=a.issues),t.abortEarly){e.typed=!1;break}}o.typed&&a.typed||(e.typed=!1),o.typed&&(e.value[o.value]=a.value)}}else o(this,"type",e,t);return e}}}function A(e){return{kind:"schema",type:"string",reference:A,expects:"string",async:!1,message:e,get"~standard"(){return a(this)},"~run"(e,t){return"string"==typeof e.value?e.typed=!0:o(this,"type",e,t),e}}}function D(e){let t;if(e)for(const r of e)t?t.push(...r.issues):t=r.issues;return t}function k(e,t){return{kind:"schema",type:"union",reference:k,expects:l(e.map(e=>e.expects),"|"),async:!1,options:e,message:t,get"~standard"(){return a(this)},"~run"(e,t){let r,n,i;for(const o of this.options){const a=o["~run"]({value:e.value},t);if(a.typed){if(!a.issues){r=a;break}n?n.push(a):n=[a]}else i?i.push(a):i=[a]}if(r)return r;if(n){if(1===n.length)return n[0];o(this,"type",e,t,{issues:D(n)}),e.typed=!0}else{if(1===i?.length)return i[0];o(this,"type",e,t,{issues:D(i)})}return e}}}function E(e,t,r){const i=e["~run"]({value:t},n(r));if(i.issues)throw new u(i.issues);return i.value}function O(...e){return{...e[0],pipe:e,get"~standard"(){return a(this)},"~run"(t,r){for(const n of e)if("metadata"!==n.kind){if(t.issues&&("schema"===n.kind||"transformation"===n.kind)){t.typed=!1;break}t.issues&&(r.abortEarly||r.abortPipeEarly)||(t=n["~run"](t,r))}return t}}}const j={any:function e(){return{kind:"schema",type:"any",reference:e,expects:"any",async:!1,get"~standard"(){return a(this)},"~run":e=>(e.typed=!0,e)}},array:function e(t,r){return{kind:"schema",type:"array",reference:e,expects:"Array",async:!1,item:t,message:r,get"~standard"(){return a(this)},"~run"(e,t){const r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];for(let n=0;n<r.length;n++){const i=r[n],o=this.item["~run"]({value:i},t);if(o.issues){const a={type:"array",origin:"value",input:r,key:n,value:i};for(const t of o.issues)t.path?t.path.unshift(a):t.path=[a],e.issues?.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value.push(o.value)}}else o(this,"type",e,t);return e}}},boolean:h,check:function e(t,r){return{kind:"validation",type:"check",reference:e,async:!1,expects:null,requirement:t,message:r,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&o(this,"input",e,t),e}}},custom:function e(t,r){return{kind:"schema",type:"custom",reference:e,expects:"unknown",async:!1,check:t,message:r,get"~standard"(){return a(this)},"~run"(e,t){return this.check(e.value)?e.typed=!0:o(this,"type",e,t),e}}},exactOptional:function e(t,r){return{kind:"schema",type:"exact_optional",reference:e,expects:t.expects,async:!1,wrapped:t,default:r,get"~standard"(){return a(this)},"~run"(e,t){return this.wrapped["~run"](e,t)}}},flatten:function(e){const t={};for(const r of e)if(r.path){const e=c(r);e?(t.nested||(t.nested={}),t.nested[e]?t.nested[e].push(r.message):t.nested[e]=[r.message]):t.other?t.other.push(r.message):t.other=[r.message]}else t.root?t.root.push(r.message):t.root=[r.message];return t},intersect:function e(t,r){return{kind:"schema",type:"intersect",reference:e,expects:l(t.map(e=>e.expects),"&"),async:!1,options:t,message:r,get"~standard"(){return a(this)},"~run"(e,t){if(this.options.length){const r=e.value;let n;e.typed=!0;for(const i of this.options){const o=i["~run"]({value:r},t);if(o.issues&&(e.issues?e.issues.push(...o.issues):e.issues=o.issues,t.abortEarly)){e.typed=!1;break}o.typed||(e.typed=!1),e.typed&&(n?n.push(o.value):n=[o.value])}if(e.typed){e.value=n[0];for(let r=1;r<n.length;r++){const i=v(e.value,n[r]);if(i.issue){o(this,"type",e,t,{received:"unknown"});break}e.value=i.value}}}else o(this,"type",e,t);return e}}},literal:function e(t,r){return{kind:"schema",type:"literal",reference:e,expects:i(t),async:!1,literal:t,message:r,get"~standard"(){return a(this)},"~run"(e,t){return e.value===this.literal?e.typed=!0:o(this,"type",e,t),e}}},maxValue:function e(t,r){return{kind:"validation",type:"max_value",reference:e,async:!1,expects:`<=${t instanceof Date?t.toJSON():i(t)}`,requirement:t,message:r,"~run"(e,t){return!e.typed||e.value<=this.requirement||o(this,"value",e,t,{received:e.value instanceof Date?e.value.toJSON():i(e.value)}),e}}},message:function(e,t){return{...e,get"~standard"(){return a(this)},"~run":(r,n)=>e["~run"](r,{...n,message:t})}},minLength:function e(t,r){return{kind:"validation",type:"min_length",reference:e,async:!1,expects:`>=${t}`,requirement:t,message:r,"~run"(e,t){return e.typed&&e.value.length<this.requirement&&o(this,"length",e,t,{received:`${e.value.length}`}),e}}},minValue:function e(t,r){return{kind:"validation",type:"min_value",reference:e,async:!1,expects:`>=${t instanceof Date?t.toJSON():i(t)}`,requirement:t,message:r,"~run"(e,t){return!e.typed||e.value>=this.requirement||o(this,"value",e,t,{received:e.value instanceof Date?e.value.toJSON():i(e.value)}),e}}},null_:w,number:m,object:b,optional:x,parse:E,partial:function(e,t){const r={};for(const n in e.entries)r[n]=!t||t.includes(n)?x(e.entries[n]):e.entries[n];return{...e,entries:r,get"~standard"(){return a(this)}}},picklist:S,pipe:O,record:P,required:function(e,t,r){const n=Array.isArray(t)?t:void 0,i=Array.isArray(t)?r:t,o={};for(const t in e.entries)o[t]=!n||n.includes(t)?g(e.entries[t],i):e.entries[t];return{...e,entries:o,get"~standard"(){return a(this)}}},safeParse:function(e,t,r){const i=e["~run"]({value:t},n(r));return{typed:i.typed,success:!i.issues,output:i.value,issues:i.issues}},string:A,transform:p,toLowerCase:function e(){return{kind:"transformation",type:"to_lower_case",reference:e,async:!1,"~run":e=>(e.value=e.value.toLowerCase(),e)}},trim:function e(){return{kind:"transformation",type:"trim",reference:e,async:!1,"~run":e=>(e.value=e.value.trim(),e)}},tuple:function e(t,r){return{kind:"schema",type:"tuple",reference:e,expects:"Array",async:!1,items:t,message:r,get"~standard"(){return a(this)},"~run"(e,t){const r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];for(let n=0;n<this.items.length;n++){const i=r[n],o=this.items[n]["~run"]({value:i},t);if(o.issues){const a={type:"array",origin:"value",input:r,key:n,value:i};for(const t of o.issues)t.path?t.path.unshift(a):t.path=[a],e.issues?.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value.push(o.value)}}else o(this,"type",e,t);return e}}},union:k,unwrap:function(e){return e.wrapped},url:function e(t){return{kind:"validation",type:"url",reference:e,async:!1,expects:null,requirement(e){try{return new URL(e),!0}catch{return!1}},message:t,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&o(this,"URL",e,t),e}}},ValiError:u,value:function e(t,r){return{kind:"validation",type:"value",reference:e,async:!1,expects:t instanceof Date?t.toJSON():i(t),requirement:t,message:r,"~run"(e,t){return!e.typed||this.requirement<=e.value&&this.requirement>=e.value||o(this,"value",e,t,{received:e.value instanceof Date?e.value.toJSON():i(e.value)}),e}}}},V=(S(["control","variant","holdout"]),b({assignedGroup:S(["control","variant","holdout"]),experimentId:A()})),_="paywall",L="regwall",T="always",C="never",B="anonymous",I="registered",$=j.union([j.literal(B),j.literal(I)]),W=j.picklist([L,_]),R=j.picklist([T,C]),U={nowall:0,paywall:1,regwall:2},M={regwall:"b",paywall:"d",finalEnsemble:"z",onDevicePolicy:"v",contentPropensityTier:"q",userPropensityTier:"s"},N=(new Map([[U.nowall,void 0],[U.paywall,_],[U.regwall,L]]),new Map([[U.nowall,C],[U.paywall,T],[U.regwall,T]]),j.object({wallVisibility:R,wallType:W})),z=j.object(Object.assign(Object.assign({},N.entries),{score:j.pipe(j.number(),j.minValue(0),j.maxValue(1)),threshold:j.pipe(j.number(),j.minValue(0),j.maxValue(1))})),F=j.object({wallVisibility:j.literal(T),wallType:W,outcomes:j.array(z)}),G=j.object({wallVisibility:j.literal(C),outcomes:j.array(z)}),q=j.union([F,G]),H=j.object({wallType:j.literal(L),wallTypeCode:j.literal(U.regwall),wallVisibility:j.literal(T),wallVisibilityCode:j.literal(1)}),J=j.object({wallType:j.literal(_),wallTypeCode:j.literal(U.paywall),wallVisibility:j.literal(T),wallVisibilityCode:j.literal(1)}),Z=j.object({wallVisibility:j.literal(C),wallVisibilityCode:j.literal(0)}),K=j.union([H,J,Z]),X=j.object({id:j.string(),createdAt:j.string(),trace:j.string(),context:j.string(),inputs:j.string(),outcome:K,searchParams:j.string(),userProperties:j.string(),paywallScore:j.optional(j.pipe(j.number(),j.minValue(0),j.maxValue(100))),contentProperties:j.optional(j.string(),""),experiment:j.union([j.null_(),V])}),Y=j.partial(j.object({id:j.string(),createdAt:j.string(),context:j.string(),trace:j.string(),inputs:j.string(),outcome:j.union([j.partial(H),j.partial(J),j.partial(Z)]),searchParams:j.string(),userProperties:j.string(),paywallScore:j.optional(j.pipe(j.number(),j.minValue(0),j.maxValue(100))),contentProperties:j.optional(j.string(),""),experiment:j.union([j.null_(),V])})),Q=new class{constructor(){this.key="demeter"}get(){try{const e=sessionStorage.getItem(this.key);return null===e?e:JSON.parse(atob(e))}catch(e){return null}}set(e){try{return sessionStorage.setItem(this.key,btoa(JSON.stringify(e)))}catch(e){}}},ee=j.union([j.literal("warn"),j.literal("info"),j.literal("debug")]),te=j.partial(j.object({logLevel:j.optional(ee),override:j.optional(Y)}));function re(e){Q.set(Object.assign(Object.assign({},Q.get()),{logLevel:e}))}const ne=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logLevel=e.logLevel||function(){const e=new URL(window.location.href).searchParams.get("sophi_log_level");return e&&(j.safeParse(ee,e).success?re(e):oe.warn(`Unknown log level found in URL: ${e}`)),e}()||function(){const e=Q.get();if(e)return j.safeParse(ee,e.logLevel).success?e.logLevel:null}()||"warn",this.config=this.config.bind(this)}config(e){j.parse(te,e),e.logLevel&&(this.logLevel=e.logLevel,re(e.logLevel)),e.override&&(this.override=e.override),oe.info("âï¸ Runtime config",JSON.stringify(e,null,2))}},ie={error:0,warn:1,info:2,debug:3},oe=new class{constructor(){this.prefix="QuickStart:"}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];console.log(this.prefix,"ð´",...t)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];console.log(this.prefix,"ð ",...t)}info(){if(ie[ne.logLevel]>=ie.info){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];console.log(this.prefix,...t)}}debug(){if(ie[ne.logLevel]>=ie.debug){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];console.log(this.prefix,"ð§",...t)}}};var ae;!function(e){e.GetDecision="GetDecision",e.GetDecisionForArticleWallIndicators="GetDecisionForArticleWallIndicators",e.Init="Init",e.Pageview="pageview",e.Wall="wall",e.EnableAllFeatures="EnableAllFeatures",e.UserProperties="UserProperties",e.ContentProperties="ContentProperties"}(ae||(ae={}));const se=j.union([j.null_(),j.pipe(j.string(),j.trim(),j.toLowerCase())]),le=j.object({article:j.boolean(),section:j.optional(se)}),ce=j.union([j.union([j.pipe(j.string(),j.trim(),j.literal("paywall")),j.pipe(j.string(),j.trim(),j.literal("regwall"))]),j.object({wallType:j.union([j.pipe(j.string(),j.trim(),j.literal("paywall")),j.pipe(j.string(),j.trim(),j.literal("regwall"))]),section:j.optional(se)})]),ue=j.union([j.object({type:j.literal(ae.Pageview),payload:le}),j.object({type:j.literal(ae.Wall),payload:ce}),j.object({type:j.literal(ae.UserProperties),payload:j.any()})]);j.union([ue,j.object({type:j.literal(ae.GetDecision)}),j.object({type:j.literal(ae.Init)}),j.object({type:j.literal(ae.EnableAllFeatures)})]),r(4846),r(9655),r(7458),r(4364),r(6746),r(3644),r(7080);var pe=Symbol.for("immer-nothing"),de=Symbol.for("immer-draftable"),fe=Symbol.for("immer-state");function he(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ye=Object.getPrototypeOf;function ve(e){return!!e&&!!e[fe]}function ge(e){return!!e&&(me(e)||Array.isArray(e)||!!e[de]||!!e.constructor?.[de]||Ae(e)||De(e))}var we=Object.prototype.constructor.toString();function me(e){if(!e||"object"!=typeof e)return!1;const t=ye(e);if(null===t)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===we}function be(e,t){0===xe(e)?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function xe(e){const t=e[fe];return t?t.type_:Array.isArray(e)?1:Ae(e)?2:De(e)?3:0}function Se(e,t){return 2===xe(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Pe(e,t,r){const n=xe(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function Ae(e){return e instanceof Map}function De(e){return e instanceof Set}function ke(e){return e.copy_||e.base_}function Ee(e,t){if(Ae(e))return new Map(e);if(De(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=me(e);if(!0===t||"class_only"===t&&!r){const t=Object.getOwnPropertyDescriptors(e);delete t[fe];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){const i=r[n],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(ye(e),t)}{const t=ye(e);if(null!==t&&r)return{...e};const n=Object.create(t);return Object.assign(n,e)}}function Oe(e,t=!1){return Ve(e)||ve(e)||!ge(e)||(xe(e)>1&&Object.defineProperties(e,{set:{value:je},add:{value:je},clear:{value:je},delete:{value:je}}),Object.freeze(e),t&&Object.values(e).forEach(e=>Oe(e,!0))),e}function je(){he(2)}function Ve(e){return Object.isFrozen(e)}var _e,Le={};function Te(e){const t=Le[e];return t||he(0),t}function Ce(){return _e}function Be(e,t){t&&(Te("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ie(e){$e(e),e.drafts_.forEach(Re),e.drafts_=null}function $e(e){e===_e&&(_e=e.parent_)}function We(e){return _e={drafts_:[],parent_:_e,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Re(e){const t=e[fe];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Ue(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return void 0!==e&&e!==r?(r[fe].modified_&&(Ie(t),he(4)),ge(e)&&(e=Me(t,e),t.parent_||ze(t,e)),t.patches_&&Te("Patches").generateReplacementPatches_(r[fe].base_,e,t.patches_,t.inversePatches_)):e=Me(t,r,[]),Ie(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==pe?e:void 0}function Me(e,t,r){if(Ve(t))return t;const n=t[fe];if(!n)return be(t,(i,o)=>Ne(e,n,t,i,o,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return ze(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const t=n.copy_;let i=t,o=!1;3===n.type_&&(i=new Set(t),t.clear(),o=!0),be(i,(i,a)=>Ne(e,n,t,i,a,r,o)),ze(e,t,!1),r&&e.patches_&&Te("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Ne(e,t,r,n,i,o,a){if(ve(i)){const a=Me(e,i,o&&t&&3!==t.type_&&!Se(t.assigned_,n)?o.concat(n):void 0);if(Pe(r,n,a),!ve(a))return;e.canAutoFreeze_=!1}else a&&r.add(i);if(ge(i)&&!Ve(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Me(e,i),t&&t.scope_.parent_||"symbol"==typeof n||!(Ae(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))||ze(e,i)}}function ze(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Oe(t,r)}var Fe={get(e,t){if(t===fe)return e;const r=ke(e);if(!Se(r,t))return function(e,t,r){const n=He(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}(e,r,t);const n=r[t];return e.finalized_||!ge(n)?n:n===qe(e.base_,t)?(Ze(e),e.copy_[t]=Ke(n,e)):n},has:(e,t)=>t in ke(e),ownKeys:e=>Reflect.ownKeys(ke(e)),set(e,t,r){const n=He(ke(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=qe(ke(e),t),a=n?.[fe];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(((i=r)===(o=n)?0!==i||1/i==1/o:i!=i&&o!=o)&&(void 0!==r||Se(e.base_,t)))return!0;Ze(e),Je(e)}var i,o;return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==qe(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Ze(e),Je(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=ke(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){he(11)},getPrototypeOf:e=>ye(e.base_),setPrototypeOf(){he(12)}},Ge={};function qe(e,t){const r=e[fe];return(r?ke(r):e)[t]}function He(e,t){if(!(t in e))return;let r=ye(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=ye(r)}}function Je(e){e.modified_||(e.modified_=!0,e.parent_&&Je(e.parent_))}function Ze(e){e.copy_||(e.copy_=Ee(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function Ke(e,t){const r=Ae(e)?Te("MapSet").proxyMap_(e,t):De(e)?Te("MapSet").proxySet_(e,t):function(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Ce(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,o=Fe;r&&(i=[n],o=Ge);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return n.draft_=s,n.revoke_=a,s}(e,t);return(t?t.scope_:Ce()).drafts_.push(r),r}function Xe(e){if(!ge(e)||Ve(e))return e;const t=e[fe];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ee(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Ee(e,!0);return be(r,(e,t)=>{Pe(r,e,Xe(t))}),t&&(t.finalized_=!1),r}be(Fe,(e,t)=>{Ge[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Ge.deleteProperty=function(e,t){return Ge.set.call(this,e,t,void 0)},Ge.set=function(e,t,r){return Fe.set.call(this,e[0],t,r,e[0])};var Ye=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if("function"==typeof e&&"function"!=typeof t){const r=t;t=e;const n=this;return function(e=r,...i){return n.produce(e,e=>t.call(this,e,...i))}}let n;if("function"!=typeof t&&he(6),void 0!==r&&"function"!=typeof r&&he(7),ge(e)){const i=We(this),o=Ke(e,void 0);let a=!0;try{n=t(o),a=!1}finally{a?Ie(i):$e(i)}return Be(i,r),Ue(n,i)}if(!e||"object"!=typeof e){if(n=t(e),void 0===n&&(n=e),n===pe&&(n=void 0),this.autoFreeze_&&Oe(n,!0),r){const t=[],i=[];Te("Patches").generateReplacementPatches_(e,n,t,i),r(t,i)}return n}he(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...r)=>this.produceWithPatches(t,t=>e(t,...r));let r,n;return[this.produce(e,t,(e,t)=>{r=e,n=t}),r,n]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){var t;ge(e)||he(8),ve(e)&&(ve(t=e)||he(10),e=Xe(t));const r=We(this),n=Ke(e,void 0);return n[fe].isManual_=!0,$e(r),n}finishDraft(e,t){const r=e&&e[fe];r&&r.isManual_||he(9);const{scope_:n}=r;return Be(n,t),Ue(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=Te("Patches").applyPatches_;return ve(e)?n(e,t):this.produce(e,e=>n(e,t))}},Qe=Ye.produce;const et="sophi_analytics",tt=k([A(),w()]),rt=b({campaignName:tt,referrerDomain:tt,referrerMedium:tt,referrerSource:x(tt,null),referrerChannel:x(tt,null),queryParams:x(P(A(),A()),{}),timestamp:k([O(A(),p(e=>new Date(e)),y()),w()])}),nt=b({session:rt}),it=b({campaignName:tt,referrerDomain:tt,referrerMedium:tt,referrerSource:x(tt,null),referrerChannel:x(tt,null),queryParams:P(A(),A()),timestamp:k([y(),w()])}),ot=b({session:it});class at{constructor(){this.campaignName=null,this.referrerDomain=null,this.referrerMedium=null,this.referrerSource=null,this.referrerChannel=null,this.queryParams={},this.timestamp=null}}const st=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],lt=S(st),ct=b({userProperties:P(lt,k([A(),m(),h()])),visitor:nt}),ut={userProperties:{},visitor:{session:new at}},pt=function(){document.hidden||this.update(()=>dt(this.storage))},dt=function(e){const t=null==e?void 0:e.getItem(et);if(t)try{const e=JSON.parse(t);return E(ct,e)}catch(e){return ut}return ut};class ft{constructor(e){this.update=e=>{this.state=Qe(this.state,e),this.storage&&this.storage.setItem(et,JSON.stringify(this.state))},this.storage=e,this.state=Qe(dt(this.storage),()=>{}),document.addEventListener("visibilitychange",pt.bind(this))}}const ht=[...st,"content.age","content.section","content.accessCategory"],yt=j.picklist(ht),vt=j.union([j.string(),j.number(),j.boolean()]),gt=(j.record(yt,vt),{enabled:{isEnabled:!0,name:"sophi_demeter",maxAge:31536e3,includeOutcome:!1},disabled:{isEnabled:!1}}),wt=2e3,mt="https://paywall.sophi.io",bt=!1,xt={maxLength:12},St={enabled:!1,key:"demeter_tracing"},Pt={visitorType:!1,contentPropensityLevel:!1},At=j.union([j.pipe(j.string(),j.check(e=>{try{return new URL("http://"+e).hostname===e}catch(e){return!1}}))]),Dt=j.pipe(j.string(),j.check(e=>{try{return new RegExp(e),!0}catch(e){return!1}},"Invalid regex pattern")),kt=j.object({isEnabled:j.literal(!0),name:j.optional(j.string(),gt.enabled.name),maxAge:j.optional(j.number(),gt.enabled.maxAge),includeOutcome:j.optional(j.boolean(),gt.enabled.includeOutcome)}),Et=j.object({isEnabled:j.literal(!1)}),Ot=j.optional(j.union([kt,Et]),gt.disabled),jt=j.object({type:j.union([j.literal("client"),j.literal("server")])}),Vt=j.object({isDeviceAndLocationDataAllowed:j.literal(!0),isUserBehaviorDataAllowed:j.literal(!0)}),_t=j.object({isDeviceAndLocationDataAllowed:j.literal(!1),isUserBehaviorDataAllowed:j.literal(!1)}),Lt=j.optional(j.object({off:j.union([_t,Vt]),on:Vt}),{off:{isDeviceAndLocationDataAllowed:!1,isUserBehaviorDataAllowed:!1},on:{isDeviceAndLocationDataAllowed:!0,isUserBehaviorDataAllowed:!0}}),Tt=j.object({source:j.pipe(j.string(),j.toLowerCase(),j.literal("url")),expression:Dt}),Ct=j.object({source:j.pipe(j.string(),j.toLowerCase(),j.literal("dom")),selector:j.string(),attribute:j.string(),expression:j.optional(Dt)}),Bt=(j.object({source:j.pipe(j.string(),j.toLowerCase(),j.literal("window")),path:j.pipe(j.string(),j.minLength(1)),expression:j.optional(Dt)}),j.union([Tt,Ct])),It=j.object({name:j.union([j.literal("daysSince"),j.literal("toBoolean"),j.literal("map")]),args:j.optional(j.record(j.string(),j.any()))}),$t=j.object({name:j.pipe(j.string(),j.trim(),j.minLength(1)),handler:j.optional(It),type:j.union([j.literal("string"),j.literal("number"),j.literal("boolean"),j.literal("list")]),tracked:j.optional(j.boolean())}),Wt=j.intersect([Bt,$t,j.object({key:yt})]),Rt=j.array(Wt),Ut=j.object({host:j.pipe(j.string(),j.minLength(1)),url:j.optional(j.string(),mt),ufm:j.optional(j.boolean(),bt),timeout:j.optional(j.pipe(j.number(),j.check(e=>e>0)),wt),dataMap:j.object({"content.id":Bt})}),Mt=j.object({selector:j.string()}),Nt=j.object({event:j.string()}),zt=j.union([Mt,Nt]),Ft=j.object({key:lt,name:j.string(),type:j.literal("number")}),Gt=j.object({key:lt,name:j.string(),type:j.literal("string"),minLength:j.optional(j.number()),maxLength:j.optional(j.number(),xt.maxLength)}),qt=j.object({key:lt,name:j.string(),type:j.literal("boolean")}),Ht=j.object({key:j.union([j.literal("visitorType"),lt]),source:j.pipe(j.string(),j.toLowerCase(),j.literal("window")),path:j.pipe(j.string(),j.minLength(1)),name:j.string(),type:j.union([j.literal("string"),j.literal("number"),j.literal("boolean")]),minLength:j.optional(j.number()),maxLength:j.optional(j.number(),xt.maxLength)}),Jt=j.union([Ht,Ft,Gt,qt]),Zt=j.array(Jt),Kt=j.optional(j.boolean(),!0),Xt=j.optional(j.object({enabled:j.optional(j.boolean(),St.enabled),key:j.optional(j.string(),St.key)}),St),Yt=j.optional(j.object({contentPropensityLevel:j.optional(j.union([j.literal(!1),Ct]),Pt.contentPropensityLevel),visitorType:j.optional(j.union([j.literal(!1),Ct]),Pt.visitorType)}),Pt),Qt=j.object({hostname:At,subMarket:j.optional(j.string()),enableExperiment:j.optional(j.boolean()),cookie:Ot,subdomains:j.optional(j.array(j.string()),[]),mode:Lt,paywallApi:j.optional(Ut),spa:j.optional(zt),userProperties:j.optional(Zt),contentProperties:j.optional(Rt),generatePageviewOnWallHit:Kt,wallGeneration:j.optional(jt,{type:"client"}),addTracingToLocalStorage:Xt,enableWallIndicators:j.optional(j.boolean(),!1),newsletterCampaigns:j.optional(j.array(j.string()),[]),metaValues:Yt,showPaywallScore:j.optional(j.boolean(),!1),policy:j.optional(j.object({evaluator:j.optional(j.string()),thresholds:j.optional(j.string())})),tenant:j.string()}),er=j.pipe(j.custom(e=>!(e&&"object"==typeof e&&"policy"in e&&"paywallApi"in e),"policy cannot be enabled with Paywall API"),j.custom(e=>!e||"object"!=typeof e||!("analytics"in e)||"custom"===e.analytics,"Unsupported analytics module"),j.custom(e=>{if(e&&"object"==typeof e&&"contentProperties"in e){if("enableWallIndicators"in e&&e.enableWallIndicators)return!1;if("wallGeneration"in e&&"object"==typeof e.wallGeneration&&null!==e.wallGeneration&&"type"in e.wallGeneration&&"server"===e.wallGeneration.type)return!1}return!0},"Content properties cannot be used with server-side wall generation or wall indicators")),tr=j.pipe(Qt,er),rr=JSON.parse('{"hostname":"cleveland.com","model":"placeholder","analytics":"custom","enableExperiment":true,"subdomains":[],"mode":{"off":{"isDeviceAndLocationDataAllowed":false,"isUserBehaviorDataAllowed":false},"on":{"isDeviceAndLocationDataAllowed":true,"isUserBehaviorDataAllowed":true}},"generatePageviewOnWallHit":false,"tenant":"advancelocal"}');var nr,ir,or,ar,sr,lr,cr=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},ur=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class pr{constructor(e){nr.add(this),ir.set(this,void 0),or.set(this,void 0),ar.set(this,"script#sophi-loader"),sr.set(this,"isConsented"),cr(this,ir,e.off,"f"),cr(this,or,e.on,"f"),this.isDeviceAndLocationDataAllowed=ur(this,ir,"f").isDeviceAndLocationDataAllowed,this.isUserBehaviorDataAllowed=ur(this,ir,"f").isUserBehaviorDataAllowed,ur(this,nr,"m",lr).call(this)}getDefaultConsentValue(){return!0===ur(this,ir,"f").isDeviceAndLocationDataAllowed&&!0===ur(this,ir,"f").isUserBehaviorDataAllowed?"on":"off"}on(){this.isDeviceAndLocationDataAllowed=ur(this,or,"f").isDeviceAndLocationDataAllowed,this.isUserBehaviorDataAllowed=ur(this,or,"f").isUserBehaviorDataAllowed}off(){this.isDeviceAndLocationDataAllowed=!1,this.isUserBehaviorDataAllowed=!1}}function dr(e){return e?"selector"in e?`yes\n      Â· observed DOM element: ${e.selector}`:`yes\n      Â· listening for event: ${e.event}`:"no"}function fr(e){return!1===e?"disabled":hr(e)}function hr(e){return`enabled\n      Â· selector: ${e.selector}\n      Â· attribute: ${e.attribute}`}function yr(e){return e&&0!==e.length?e.map(e=>`${e.key} - ${e.name}`).join(", "):"none"}ir=new WeakMap,or=new WeakMap,ar=new WeakMap,sr=new WeakMap,nr=new WeakSet,lr=function(){const e=document.querySelector(ur(this,ar,"f"));if(e){const t=e.getAttribute("src");if(t){const e=new URL(t),r=new URLSearchParams(e.search).get(ur(this,sr,"f"));"true"===r?this.on():"false"===r&&this.off()}}};let vr=rr;const gr=sessionStorage.getItem("sophi_demeter_config");if(null!==gr)try{const e=JSON.parse(gr);j.parse(tr,e),vr=e}catch(wn){oe.debug("Problem with config override",wn,gr)}const wr=(Ar=vr,j.parse(tr,Ar)),mr=new class{constructor(e){this.hostname=e.hostname,this.enableExperiment=e.enableExperiment,this.cookie=e.cookie,this.subdomains=e.subdomains,this.mode=new pr(e.mode),this.paywallApi=e.paywallApi,this.spa=e.spa,this.userProperties=e.userProperties,this.contentProperties=e.contentProperties,this.generatePageviewOnWallHit=e.generatePageviewOnWallHit,this.wallGeneration=e.wallGeneration,this.addTracingToLocalStorage=e.addTracingToLocalStorage,this.enableWallIndicators=e.enableWallIndicators,this.newsletterCampaigns=e.newsletterCampaigns,this.metaValues=e.metaValues,this.showPaywallScore=e.showPaywallScore,oe.info(function(e){var t,r,n;let i=`âï¸ Bundle settings\n    Â· Host: ${e.hostname}\n    Â· Subdomains: ${(null===(t=e.subdomains)||void 0===t?void 0:t.join(", "))||"none"}\n    Â· Wall type: ${e.wallGeneration.type} side`;var o;return i="debug"===ne.logLevel?`${i}\n    Â· Experiments: ${e.enableExperiment?"enabled":"disabled"}\n    Â· Cookie: ${(null===(r=e.cookie)||void 0===r?void 0:r.isEnabled)?"enabled":"disabled"}\n    Â· Paywall API: ${e.paywallApi?"enabled":"disabled"}\n    Â· Default consent: ${e.mode.getDefaultConsentValue()}\n    Â· Single Page Application: ${dr(e.spa)}\n    Â· Wallhits generate pageviews: ${e.generatePageviewOnWallHit?"yes":"no"}\n    Â· Wall indicators: ${e.enableWallIndicators?"enabled":"disabled"}\n    Â· Visitor type detection: ${fr(e.metaValues.visitorType)}\n    Â· Content propensity level detection: ${fr(e.metaValues.contentPropensityLevel)}\n    Â· User properties: ${yr(e.userProperties)}\n    Â· Content properties: ${yr(e.contentProperties)}`:`${i}\n    ${o=[e.enableExperiment&&{label:"Experiments",value:"enabled"},(null===(n=e.cookie)||void 0===n?void 0:n.isEnabled)&&{label:"Cookie",value:"enabled"},e.paywallApi&&{label:"Paywall API",value:"enabled"},e.mode.getDefaultConsentValue()&&{label:"Default consent",value:e.mode.getDefaultConsentValue()},{label:"Single Page Application",value:dr(e.spa)},e.generatePageviewOnWallHit&&{label:"Wallhits generate pageviews",value:"yes"},e.enableWallIndicators&&{label:"Wall indicators",value:"enabled"},e.metaValues.visitorType&&{label:"Visitor type detection",value:hr(e.metaValues.visitorType)},e.metaValues.contentPropensityLevel&&{label:"Content propensity level detection",value:fr(e.metaValues.contentPropensityLevel)}],o.filter(e=>Boolean(e)).map(e=>`Â· ${e.label}: ${e.value}\n    `).join("")}`,i}(this))}}(wr),br=mr,xr=(e,t,r,n)=>{const i=null==r?void 0:r.minLength,o=null==r?void 0:r.maxLength;return"number"==typeof i&&t.length<i?(oe.warn(`${n} ${e} expected to have a minimum length of ${i} but got '${t}' with length ${t.length}, omitting.`),{isValid:!1,processedValue:t}):"number"==typeof o&&t.length>o?(oe.warn(`${n} ${e} expected to have maximum length of ${o} but got '${t}' with length ${t.length}, truncating.`),{isValid:!0,processedValue:t.slice(0,o)}):{isValid:!0,processedValue:t}},Sr=(e,t)=>{var r;try{const n=new RegExp(t),i=e.match(n);if(null===i)return null;const o=null!==(r=i[1])&&void 0!==r?r:i[0];return void 0===i[1]&&i[0]&&oe.debug(`No capture group value, using full match: "${o}".`),o}catch(e){return oe.warn(`Regex error "${t}":`,e),null}},Pr=e=>null==e?null:String(e).toLowerCase();var Ar;const Dr=(e,t,r)=>{const n=document.querySelector(e);if(null===n)return n;const i=n.getAttribute(t);return null===i?i:r?Sr(i,r):i},kr={0:"free access",1:"subscribers only",2:"metered views",3:"special package"},Er=e=>{try{if("dom"===e.source)return Dr(e.selector,e.attribute,e.expression);const t=new URL(location.href);return Sr(t.pathname,e.expression)}catch(e){return null}},Or={values:null,analyticsString:null};function jr(e){return null===Or.values&&Vr(e),Or.values}function Vr(e){let t={values:{},analyticsString:""};try{t=Wr(e)}catch(e){oe.error("Error computing content properties:",e)}Or.values=t.values,Or.analyticsString=t.analyticsString}function _r(e,t){if(null==e)return null;if(!t)return e;switch(t.name){case"daysSince":{const r=function(e,t){try{const r=((null==t?void 0:t.dateFormat)||"iso").toLowerCase();let n=null;return n="iso"===r||"iso8601"===r?new Date(e):"unixSeconds"===r?new Date(1e3*parseInt(e,10)):"unixMillis"===r?new Date(parseInt(e,10)):new Date(e),!n||isNaN(n.getTime())?null:function(e){const t=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),r=new Date,n=Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate())-t,i=Math.floor(n/864e5);return i<0?0:i}(n)}catch(e){return null}}(e,t.args);return null===r?null:r}case"toBoolean":return function(e){return Boolean(e)}(e);case"lowercase":return Pr(e);case"map":return function(e,t){return t&&"object"==typeof t&&e in t?t[e]:e}(e,t.args);default:return e}}function Lr(e,t,r){let n=r;if("boolean"===t.type&&"dom"===t.source)n=null!==document.querySelector(t.selector);else if("number"===t.type&&"string"==typeof r&&"content.ages"!==e){const e=Number(r.trim());n=isNaN(e)?null:e}else"list"===t.type&&null!==r&&(n=(i=r,i.split(",").map(e=>{var t;return null===(t=Pr(e))||void 0===t?void 0:t.replace(/,/g,"").trim()}).filter(Boolean)).join(" ")),t.handler&&(n=_r("string"==typeof n?n:String(n),t.handler));var i;return n}function Tr(e,t,r){var n;if("content.accessCategory"===e){const e=_r(t,{name:"map",args:null===(n=r.handler)||void 0===n?void 0:n.args});return Number(e)in kr?kr[e]:null}return"content.age"===e&&"string"==typeof t?_r(t,{name:"daysSince"}):t}function Cr(e,t,r){return"string"===r.type&&"string"==typeof t?xr(e,t,r,"Content property"):{isValid:!0,processedValue:t}}function Br(e){return null==e||""===e}const Ir={"content.age":"A","content.section":"B","content.accessCategory":"C"},$r=e=>Ir[e]||e,Wr=e=>{const t=e.contentProperties||[],r={},n=[],i=[],o=[];for(const e of t){const t=e.key,a=Er(e);let s=null;if(s=t in Ir?Tr(t,a,e):Lr(t,e,a),Br(s)){i.push(e.name);continue}const{isValid:l,processedValue:c}=Cr(t,s,e);l&&(s=c,r[t]=s,o.push({label:e.name||t,value:s}),e.tracked&&n.push(`${$r(t)}:${s}`))}return t.length>0&&function(e,t){e.length>0&&oe.warn(`Some configured content properties were not found on this page: ${e.join(", ")}. Note: This is expected on homepages or section pages without article content.`);const r=t.map(e=>"Content Age"===e.label&&"number"==typeof e.value?`    Â· ${e.label}: ${e.value} days`:"string"==typeof e.value?`    Â· ${e.label}: "${e.value}"`:`    Â· ${e.label}: ${JSON.stringify(e.value)}`);oe.info("Content Properties Found\n\n"+r.join("\n"))}(i,o),{values:r,analyticsString:n.join(",")}};function Rr(e){return Object.entries(e)}const Ur=new class{constructor(){this.key="demeter"}get(){try{const e=localStorage.getItem(this.key);return null===e?e:JSON.parse(atob(e))}catch(e){return null}}set(e){try{return localStorage.setItem(this.key,btoa(JSON.stringify(e)))}catch(e){}}clear(){try{return localStorage.removeItem(this.key)}catch(e){}}};var Mr,Nr,zr,Fr,Gr=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},qr=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};const Hr=j.array(j.string()),Jr=j.object({pageViews:j.number(),pageViewsByArticle:j.number(),pageViewsByArticleWithPaywall:j.number(),pageViewsByArticleWithRegwall:j.number(),topLevelSections:Hr,topLevelSectionsByArticle:Hr});class Zr{constructor(){this.pageViews=0,this.pageViewsByArticle=0,this.pageViewsByArticleWithPaywall=0,this.pageViewsByArticleWithRegwall=0,this.topLevelSections=[],this.topLevelSectionsByArticle=[]}}const Kr=j.optional(j.array(ue),[]),Xr=j.object({previous:j.partial(X),events:Kr}),Yr=j.object({previous:j.optional(X),events:Kr,outcomes:j.optional(j.array(z),[])}),Qr=j.pipe(j.any(),j.transform(e=>{const t=j.safeParse(Yr,e);if(t.success)return t.output;const r=j.safeParse(Xr,e);return r.success?{events:r.output.events,previous:r.output.previous,outcomes:[]}:{events:[],previous:void 0,outcomes:[]}})),en=j.object({today:Jr,history:j.array(Jr),lastSeen:j.string(),visitor:$,coldDataLayer:Qr}),tn=j.tuple([j.number(),j.number(),j.number(),j.number(),Hr,Hr]),rn=j.object({lS:j.string(),v:$,t:tn,h:j.array(tn),cDL:Qr}),nn=e=>[e.pageViews,e.pageViewsByArticle,e.pageViewsByArticleWithPaywall,e.pageViewsByArticleWithRegwall,e.topLevelSections,e.topLevelSectionsByArticle],on=e=>({pageViews:e[0],pageViewsByArticle:e[1],pageViewsByArticleWithPaywall:e[2],pageViewsByArticleWithRegwall:e[3],topLevelSections:e[4],topLevelSectionsByArticle:e[5]});class an{constructor(){this.today={pageViews:0,pageViewsByArticle:0,pageViewsByArticleWithPaywall:0,pageViewsByArticleWithRegwall:0,topLevelSections:[],topLevelSectionsByArticle:[]},this.history=Array(28).fill(void 0).map(()=>new Zr),this.lastSeen="",this.visitor="anonymous",this.coldDataLayer={previous:void 0,events:[],outcomes:[]}}}Nr=new WeakMap,Mr=new WeakSet,zr=function(e){try{const t=j.safeParse(rn,e);return t.success?(e=>{const{lS:t,v:r,t:n,h:i,cDL:o}=e,a=i.map(on);return{lastSeen:t,visitor:r,today:on(n),history:a,coldDataLayer:o}})(t.output):j.parse(en,e)}catch(e){return new an}},Fr=function(e){if(!1===br.mode.isUserBehaviorDataAllowed)return e;const t=Date.now(),r=Math.max(0,function(e,t){const r=new Date(e);r.setHours(0,0,0,0);const n=new Date(t);n.setHours(0,0,0,0);const i=n.getTime()-r.getTime();return Math.ceil(i/864e5)}(e.lastSeen,t));if(r>0){e.history.unshift(e.today);for(let t=0;t<r-1;t++)e.history.unshift((new an).today);e.history=e.history.slice(0,28),e.today=(new an).today}return e.lastSeen=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return new Date(e).toISOString()}(t),e};const sn=new class{constructor(){Mr.add(this),Nr.set(this,void 0);const e=Ur.get();qr(this,Nr,Gr(this,Mr,"m",Fr).call(this,Gr(this,Mr,"m",zr).call(this,e)),"f")}getFromStored(){this.updateState(Gr(this,Mr,"m",zr).call(this,Ur.get()))}updateState(e){qr(this,Nr,Gr(this,Mr,"m",Fr).call(this,e),"f"),Ur.set((e=>{const{today:t,history:r,lastSeen:n,visitor:i,coldDataLayer:o}=e,a=r.map(nn);return{lS:n,v:i,t:nn(t),h:a,cDL:o}})(e))}getState(){return JSON.parse(JSON.stringify(Gr(this,Nr,"f")))}clear(){Ur.clear(),qr(this,Nr,Gr(this,Mr,"m",Fr).call(this,Gr(this,Mr,"m",zr).call(this,null)),"f")}},ln=e=>"__proto__"!==e&&"constructor"!==e&&"prototype"!==e,cn=e=>{try{const t=e.split(".");if(t.length>10)return oe.warn(`Window path exceeds maximum depth of 10: "${e}" (depth: ${t.length})`),null;let r=window;for(const n of t){if(null==r)return null;if(!ln(n))return oe.warn(`Unsafe path segment detected: "${n}" in path "${e}"`),null;r=r[n]}return void 0===r?null:r}catch(t){return oe.warn(`Error extracting window path "${e}":`,t),null}},un=(e,t)=>{if(null==e)return null;try{switch(t){case"string":{const t=String(e);return""===t.trim()?null:t}case"number":{const t=Number(e);return isNaN(t)?null:t}case"boolean":if("boolean"==typeof e)return e;if("string"==typeof e){const t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1}return Boolean(e);default:return null}}catch(e){return null}},pn=e=>{const t=j.safeParse($,e);return t.success?{isValid:!0,value:t.output}:(oe.warn(`visitorType should be '${B}' or '${I}', got '${e}'.`),{isValid:!1,value:null})},dn=[{key:"visitorType",name:"Visitor type",type:"string"}],fn=(e,t,r)=>"minLength"in r&&void 0!==r.minLength&&t.length<r.minLength?(oe.warn(`User property ${e} expected to have a minimum length of ${r.minLength} but got '${t}' with length ${t.length}, omitting.`),{isValid:!1,processedValue:t}):"maxLength"in r&&void 0!==r.maxLength&&t.length>r.maxLength?(oe.warn(`User property ${e} expected to have maximum length of ${r.maxLength} but got '${t}' with length ${t.length}, truncating.`),{isValid:!0,processedValue:t.slice(0,r.maxLength)}):{isValid:!0,processedValue:t},hn=(e,t)=>{if(!0!==e.mode.isDeviceAndLocationDataAllowed||!0!==e.mode.isUserBehaviorDataAllowed)return void oe.debug("Discarding userProperties event");const{custom:r,reserved:n}=((e,t)=>{const r={},n={};if("object"!=typeof t||null===t)return oe.warn("User properties must be in an 'args' object. Received:",t),{custom:r,reserved:n};const i=(e=>{const t=new Map;for(const e of dn)t.set(e.key,e);for(const r of e)t.set(r.key,r);return t})(e.userProperties||[]);for(const e of Rr(t)){let[t,o]=e;const a=i.get(t);if(a)if(typeof o===a.type){if("string"==typeof o){const{isValid:e,processedValue:r}=fn(t,o,a);if(!e)continue;o=r}if("visitorType"===a.key){const{isValid:e,value:t}=pn(o);if(!e)continue;n[a.key]=t;continue}r[a.key]=o}else oe.warn(`User property ${t} expected to be a ${a.type} but got ${typeof o}, omitting.`);else oe.warn(`User property ${t} is not configured, omitting.`)}return{custom:r,reserved:n}})(e,t);if(Object.keys(r).length>0&&oe.debug("Setting user properties",r),Object.keys(n).length>0&&oe.debug("Setting reserved properties",n),Object.keys(r).length>0&&Co.update(e=>{Object.assign(e.userProperties,r)}),n.visitorType){const e=sn.getState(),t=n.visitorType;sn.updateState(Object.assign(Object.assign({},e),{visitor:t}))}},yn=hn,vn=["utm_campaign","utm_medium","utm_source"],gn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;try{const t=new URL(e),r={};return vn.forEach(e=>{const n=t.searchParams.get(e);null!==n&&(r[e]=n.toLowerCase())}),r}catch(e){return oe.error("Unable to extract query parameters.",e),{}}};var wn={d:(e,t)=>{for(var r in t)wn.o(t,r)&&!wn.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},mn={};wn.d(mn,{Ay:()=>Dn,Fo:()=>Sn,LU:()=>An,Tk:()=>xn,VS:()=>bn,cr:()=>Pn});const bn={campaign:0,direct:1,internal:2,search:3,social:4,other:5},xn={google:0,yahoo:1,duckduckgo:2,bing:3,facebook:4,instagram:5,x:6,linkedin:7,reddit:8,newsletter:9},Sn={search:0,news:1,discover:2},Pn=function(e,t,r,n){return An(e,t,r,n)?.medium},An=function(e,t,r,n,i){if("string"!=typeof e)throw new Error("locationHref should be a string");if("string"!=typeof t)throw new Error("documentReferrer should be a string");if("string"!=typeof r)throw new Error("locationHost should be a string");const o=t.toLowerCase().trim(),a=e.toLowerCase().trim(),s=r.toLowerCase().trim();let l;try{l=new URLSearchParams(new URL(a).search).get("utm_campaign")}catch{l=null}if(l){const e=i?.newsletterCampaigns;return{medium:"campaign",source:e?.includes(l)?"newsletter":void 0}}if(!o)return{medium:"direct"};const c=o.match(/^(?:.+:\/\/)?([^/]+)/i),u=c?c[1].replace(/^www\./i,""):"",p=s.replace(/^www\./i,"");if(u===p||u.endsWith(`.${p}`)&&u.length>p.length+1)return{medium:"internal"};if(/^[^\s.][^\s]*\.google\.android\.googlequicksearchbox\b/i.test(u))return{medium:"search",source:"google",channel:"discover"};if("string"==typeof n&&t.includes("google.com")&&n.includes("Safari")&&(n.includes("GSA")||n.includes("GNews"))&&(n.includes("604.1")||n.includes("605.1.15")))return{medium:"search",source:"google",channel:"discover"};if("news.google.com"===u)return{medium:"search",source:"google",channel:"news"};const d=[{source:"google",channel:"search"},{source:"yahoo"},{source:"duckduckgo"},{source:"bing"}],f=e=>{if(e.domains){const t=e.domains.map(e=>`(^|\\.)${e.replace(".","\\.")}$`).join("|");return new RegExp(t,"i")}return new RegExp(String.raw`(^|.*\.)${e.source}\.(?:[a-z]{2,63}|[a-z]{2,63}\.[a-z]{2})$`,"i")};for(const e of d)if(f(e).test(u))return"google"===e.source?{medium:"search",source:e.source,channel:e.channel}:{medium:"search",source:e.source};const h=[{source:"facebook"},{source:"instagram"},{source:"x",domains:["x.com","t.co"]},{source:"linkedin"},{source:"reddit"}];for(const e of h)if(f(e).test(u))return{medium:"social",source:e.source};return{medium:"other",source:u||void 0}},Dn=Pn,kn=mn.Fo,En=mn.VS,On=mn.Tk,jn=mn.LU,Vn=function(){try{return jn(window.location.href,document.referrer,window.location.host,navigator.userAgent,br)}catch(e){return oe.error("Unable to determine referrer.",e),{medium:"",source:"",channel:""}}},_n=()=>{Co.update(e=>{e.visitor.session.timestamp=new Date})},Ln=()=>{null===(null===Co.state.visitor.session.timestamp?null:(e=>new Date(e.getTime()+18e5))(Co.state.visitor.session.timestamp).toISOString()<(new Date).toISOString()?(Co.update(e=>{e.visitor.session=new at}),null):Co.state.visitor.session)?((()=>{const e=/^(?:https?:\/\/)?([^/]+)/i;if("string"==typeof document.referrer){const t=document.referrer.match(e);null!==t&&Co.update(e=>{e.visitor.session.referrerDomain=t[1]})}})(),(()=>{try{const e=new URLSearchParams(window.location.search).get("utm_campaign");null!==e&&Co.update(t=>{t.visitor.session.campaignName=e.toLowerCase()})}catch(e){}})(),(()=>{const{medium:e,source:t,channel:r}=Vn();Co.update(n=>{n.visitor.session.referrerMedium=e,n.visitor.session.referrerSource=null!=t?t:null,n.visitor.session.referrerChannel=null!=r?r:null})})(),(()=>{const e=gn();Co.update(t=>{t.visitor.session.queryParams=e})})(),_n()):_n()},Tn="sophiEventQueue",Cn=e=>atob(e),Bn=()=>{const e=Tn+"=",t=decodeURIComponent(document.cookie).split(";");for(let r=0;r<t.length;r++){let n=t[r].trimStart();if(n.startsWith(e)){const e=n.substring(16,n.length);try{return JSON.parse(Cn(e))}catch(e){return[]}}}return[]},In=new class{constructor(){this.isSubdomain=e=>{if(!e.subdomains)return oe.debug("No subdomains specified in config"),!1;const t=e.subdomains,r=window.location.hostname;for(let e=0;e<t.length;e++)if(r.includes(t[e]))return!0;return!1},this.store=sn}dispatch(e){switch(e.type){case ae.Init:this.handleInit();break;case ae.EnableAllFeatures:this.handleEnableAllFeatures();break;case ae.GetDecision:this.handleGetDecision();break;case ae.GetDecisionForArticleWallIndicators:this.handleGetDecisionForArticleWallIndicators();break;case ae.Pageview:e.payload=j.parse(le,e.payload);try{this.handleSubdomainAwareEvent(e,this.handlePageview)}catch(e){oe.debug("Error in pageview event handler",e)}break;case ae.Wall:j.parse(ce,e.payload);try{this.handleSubdomainAwareEvent(e,this.handleWallHit)}catch(e){oe.debug("Error in wall event handler",e)}break;case ae.UserProperties:try{this.handleSubdomainAwareEvent(e,this.handleUserProperties)}catch(e){oe.debug("Error in userProperties event handler",e)}break;case ae.ContentProperties:try{this.handleContentProperties()}catch(e){oe.debug("Error in contentProperties event handler",e)}break;default:throw new Error("Invalid event type")}}getDispatch(){return this.dispatch.bind(this)}handleInit(){oe.debug("init handler"),this.dispatch({type:ae.ContentProperties})}handleEnableAllFeatures(){oe.info("âï¸ Received enableAllFeatures event"),br.mode.on(),this.isSubdomain(br)||(this.store.getFromStored(),this.processStoredEvents(),Ln())}handleGetDecision(){oe.debug("getDecision event handler"),!0!==br.mode.isUserBehaviorDataAllowed||Ln()}handleGetDecisionForArticleWallIndicators(){oe.debug("getDecisionForArticleWallIndicators event handler"),!0!==br.mode.isUserBehaviorDataAllowed||Ln()}handlePageview(e){oe.info("ð§® Received pageview event",JSON.stringify(e,null,2));const{article:t,section:r}=e,n=this.store.getState();n.today.pageViews++,!0===t&&n.today.pageViewsByArticle++,"string"==typeof r&&r.length>0&&(!1===n.today.topLevelSections.includes(r)&&n.today.topLevelSections.push(r),!0===t&&!1===n.today.topLevelSectionsByArticle.includes(r)&&n.today.topLevelSectionsByArticle.push(r)),this.store.updateState(n)}handleWallHit(e){oe.info("ð§® Received wall event",JSON.stringify(e,null,2));const t=this.store.getState(),r="string"==typeof e?e:e.wallType;"paywall"===r?t.today.pageViewsByArticleWithPaywall++:"regwall"===r&&t.today.pageViewsByArticleWithRegwall++,this.store.updateState(t),"object"==typeof e&&!0===br.generatePageviewOnWallHit&&(oe.debug("Generating pageview from wall event"),this.handlePageview({article:!0,section:e.section}))}handleUserProperties(e){return yn(br,e)}handleContentProperties(){Vr(br),(e=>{if(!e.userProperties||0===e.userProperties.length)return;const t=e.userProperties.filter(e=>"source"in e&&"window"===e.source);if(0===t.length)return;const r=(e=>{const t={},r=[];for(const n of e){const{key:e,path:i,name:o,type:a}=n,s=cn(i);if(null===s){r.push(o);continue}if("visitorType"===e){const{isValid:n,value:i}=pn(s);if(!n||!i){r.push(o);continue}t[e]=i;continue}const l=un(s,a);if(null!==l)if("string"==typeof l){const{isValid:i,processedValue:a}=xr(e,l,n,"User property");if(!i){r.push(o);continue}t[e]=a}else t[e]=l;else oe.warn(`User property "${o}" could not be converted to type "${a}". Value: "${s}"`),r.push(o)}return r.length>0&&oe.warn(`Some configured user properties were not found in window variables: ${r.join(", ")}`),t})(t);Object.keys(r).length>0&&(oe.debug("Initializing user properties from window",r),hn(e,r))})(br),oe.debug("handleContentProperties handler",jr(br))}processSubdomainEvents(){this.isSubdomain(br)||(Bn().forEach(e=>{oe.debug("Event Processed from cookie",e),e.type===ae.Pageview?this.handlePageview(e.payload):e.type===ae.Wall&&this.handleWallHit(e.payload)}),document.cookie=`${Tn}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; domain=.${br.hostname}; path=/`)}processPreviousPageEvents(){let e=this.store.getState();e.coldDataLayer.events.forEach(e=>{oe.debug("Event processed from storage",e),e.type===ae.Pageview&&this.handlePageview(e.payload),e.type===ae.Wall&&this.handleWallHit(e.payload),e.type===ae.UserProperties&&this.handleUserProperties(e.payload)}),e=this.store.getState(),this.store.updateState(Object.assign(Object.assign({},e),{coldDataLayer:Object.assign(Object.assign({},e.coldDataLayer),{events:[]})}))}processStoredEvents(){!1!==br.mode.isUserBehaviorDataAllowed&&!1!==br.mode.isDeviceAndLocationDataAllowed&&(this.processPreviousPageEvents(),this.processSubdomainEvents())}handleSubdomainAwareEvent(e,t){if(this.isSubdomain(br))try{return((e,t)=>{if(!1===br.cookie.isEnabled)return;const r=Bn();var n;r.push({type:e,payload:t}),document.cookie=`${Tn}=${n=JSON.stringify(r),btoa(n)}; domain=.${br.hostname}; path=/; max-age=${br.cookie.maxAge};`})("pageview",e),void oe.debug(`Pushed ${e.type} event to cookie:`,e.payload)}catch(t){oe.debug(`Error pushing ${e.type} event to cookie`,t)}else this.processOrStoreInputEvent(e,t)}storeInputEvent(e){const t=this.store.getState();this.store.updateState(Object.assign(Object.assign({},t),{coldDataLayer:Object.assign(Object.assign({},t.coldDataLayer),{events:[...t.coldDataLayer.events,e]})})),oe.debug("Stored event",e)}processOrStoreInputEvent(e,t){!0===br.mode.isUserBehaviorDataAllowed?(Ln(),"server"===br.wallGeneration.type?this.storeInputEvent(e):t.call(this,e.payload)):oe.debug(`Discarding ${e.type} event`)}},$n=In;const Wn=j.object({id:j.string(),outcome:K,createdAt:j.string(),trace:j.string()}),Rn=function(e){return t=this,r=void 0,i=function*(){!function(e){if(!e.ok)throw oe.debug(`Response: ok: ${e.ok}, status: ${e.status}, status text: ${e.statusText}`),e}(e);const t=yield e.json(),r=j.parse(Wn,t);return{id:r.id,createdAt:r.createdAt,trace:r.trace,outcome:r.outcome}},new((n=void 0)||(n=Promise))(function(e,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n(function(e){e(r)})).then(a,s)}l((i=i.apply(t,r||[])).next())});var t,r,n,i};class Un extends Error{constructor(e){super(e),this.name="AbortError"}}const Mn=function(e,t){return r=this,n=void 0,o=function*(){const r=function(e){const t=new AbortController,r=t.signal;return setTimeout(()=>{t.abort(new Un(`Request exceeded ${e.toLocaleString()}ms`))},e),r}(e.timeout),n=function(e,t,r){const n=`/hosts/${e.host}/decisions/me`,i=new URL(e.url+n);return i.search=t.toString(),new Request(i,{signal:r})}(e,t,r);try{const e=yield fetch(n);return Rn(e)}catch(e){return function(e){throw e instanceof Error&&oe.debug("Decision request error",e.name,e.message),oe.debug({err:e}),e}(e)}},new((i=void 0)||(i=Promise))(function(e,t){function a(e){try{l(o.next(e))}catch(e){t(e)}}function s(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i(function(e){e(r)})).then(a,s)}l((o=o.apply(r,n||[])).next())});var r,n,i,o},Nn={xhigh:5,high:4,medium:3,low:2,xlow:1,null:null},zn=(Array.from(Object.keys(Nn)),Array.from(Object.values(Nn))),Fn=(j.union([...zn.filter(e=>null!==e).map(e=>j.literal(e)),j.null_()]),zn.filter(e=>null!==e).reverse()),Gn=`Unknown content propensity level. Expected one of: ${Fn.join(", ")}.`,qn=j.pipe(j.union([j.string(),j.number()]),j.transform(Number),j.number(),j.picklist(Fn)),Hn=function(e){var t,r;let n=null;if(br.enableExperiment&&(null===(t=window.sophi)||void 0===t?void 0:t.abTests)&&!0===br.mode.isDeviceAndLocationDataAllowed&&!0===br.mode.isUserBehaviorDataAllowed){const t=null===(r=window.sophi)||void 0===r?void 0:r.abTests.getAllExperimentsSync(e);t.length>0&&(n=t[0])}return n},Jn=()=>Hn("external"),Zn=()=>Hn("internal"),Kn=(Jn(),Zn(),"sophiDataLayerReady"),Xn={trace:"",context:"",inputs:"",decisionSource:"",experimentsCode:null,assignedGroup:null,userProperties:"",contentProperties:""},Yn=()=>{window.sophi.dataLayer=Object.assign({},Xn)},Qn=()=>window.sophi.dataLayer;function ei(e){window.sophi.dataLayer=Object.assign(Object.assign({},window.sophi.dataLayer),function(e){const t={};var r;return"context"in e&&(t.context=e.context),"inputs"in e&&(t.inputs=e.inputs),"trace"in e&&(t.trace=e.trace),"userProperties"in e&&(t.userProperties=e.userProperties),"contentProperties"in e&&(t.contentProperties=e.contentProperties),"experiment"in e&&e.experiment&&(t.experimentsCode=null===(r=e.experiment)?null:`${r.experimentId}=${r.assignedGroup}`,t.assignedGroup=e.experiment.assignedGroup),t}(e))}const ti=function(){window.dispatchEvent(new Event(Kn))},ri={wallType:"paywall",wallVisibility:"always",outcomes:[{score:1,threshold:0,wallType:"paywall",wallVisibility:"always"}]},ni={wallType:"regwall",wallVisibility:"always",outcomes:[{score:.5,threshold:.5,wallType:"regwall",wallVisibility:"always"}]},ii={wallVisibility:"never",outcomes:[{score:0,threshold:1,wallVisibility:"never",wallType:"paywall"}]},oi=j.object({todayPageViews:j.number(),todayPageViewsByArticle:j.number(),todayPageViewsByArticleWithPaywall:j.number(),todayPageViewsByArticleWithRegwall:j.number(),todayTopLevelSections:j.number(),todayTopLevelSectionsByArticle:j.number(),sevenDayPageViews:j.number(),sevenDayPageViewsByArticle:j.number(),sevenDayPageViewsByArticleWithPaywall:j.number(),sevenDayPageViewsByArticleWithRegwall:j.number(),sevenDayTopLevelSections:j.number(),sevenDayTopLevelSectionsByArticle:j.number(),sevenDayVisitCount:j.number(),twentyEightDayPageViews:j.number(),twentyEightDayPageViewsByArticle:j.number(),twentyEightDayPageViewsByArticleWithPaywall:j.number(),twentyEightDayPageViewsByArticleWithRegwall:j.number(),twentyEightDayTopLevelSections:j.number(),twentyEightDayTopLevelSectionsByArticle:j.number(),twentyEightDayVisitCount:j.number(),daysSinceLastVisit:j.number(),timeZone:j.string(),referrer:j.string(),referrerData:j.object({medium:j.union([j.string(),j.null_()]),source:j.optional(j.union([j.string(),j.null_()])),channel:j.optional(j.union([j.string(),j.null_()])),queryParams:j.record(j.string(),j.string())}),hourOfDay:j.number(),os:j.string(),type:j.string(),viewer:j.string(),visitorType:j.string(),visitor:ot,userProperties:j.any(),contentProperties:j.any()});function ai(e){return j.safeParse(oi,e).success}const si=new class{constructor(){this.fallback={wallVisibility:"never",outcomes:[]}}evaluate(e){try{return j.parse(q,function(e){const t=Math.random();return"registered"===e.visitorType?t>.5?ri:ii:t>.66?ri:t>.33?ni:ii}(e))}catch(t){return oe.debug("Unknown ModelOutput returned by `Model.infer`, using fallback.",e),this.fallback}}};r(458),r(1591),r(6237),r(507),r(6993),r(7918),r(2455),r(5281),r(194),r(6913),r(8608),r(1e3),r(7368),r(2822),r(9828),r(5473),r(2477);class li{constructor(){this.pageViews=0,this.pageViewsByArticle=0,this.pageViewsByArticleWithPaywall=0,this.pageViewsByArticleWithRegwall=0,this.topLevelSections=0,this.topLevelSectionsByArticle=0,this.visitCount=0}}var ci={724:function(e,t,r){var n;!function(i,o){var a="function",s="undefined",l="object",c="string",u="model",p="name",d="type",f="vendor",h="version",y="architecture",v="console",g="mobile",w="tablet",m="smarttv",b="wearable",x="embedded",S="Amazon",P="Apple",A="ASUS",D="BlackBerry",k="Browser",E="Chrome",O="Firefox",j="Google",V="Huawei",_="LG",L="Microsoft",T="Motorola",C="Opera",B="Samsung",I="Sharp",$="Sony",W="Xiaomi",R="Zebra",U="Facebook",M=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},N=function(e,t){return typeof e===c&&-1!==z(t).indexOf(z(e))},z=function(e){return e.toLowerCase()},F=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===s?e:e.substring(0,350)},G=function(e,t){for(var r,n,i,s,c,u,p=0;p<t.length&&!c;){var d=t[p],f=t[p+1];for(r=n=0;r<d.length&&!c;)if(c=d[r++].exec(e))for(i=0;i<f.length;i++)u=c[++n],typeof(s=f[i])===l&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,u):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=u?u.replace(s[1],s[2]):o:this[s[0]]=u?s[1].call(this,u,s[2]):o:4===s.length&&(this[s[0]]=u?s[3].call(this,u.replace(s[1],s[2])):o):this[s]=u||o;p+=2}},q=function(e,t){for(var r in t)if(typeof t[r]===l&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(N(t[r][n],e))return"?"===r?o:r}else if(N(t[r],e))return"?"===r?o:r;return e},H={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},J={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[h,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[h,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,h],[/opios[\/ ]+([\w\.]+)/i],[h,[p,C+" Mini"]],[/\bopr\/([\w\.]+)/i],[h,[p,C]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[p,h],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[h,[p,"UC"+k]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[h,[p,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[h,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[h,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[h,[p,"IE"]],[/yabrowser\/([\w\.]+)/i],[h,[p,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+k],h],[/\bfocus\/([\w\.]+)/i],[h,[p,O+" Focus"]],[/\bopt\/([\w\.]+)/i],[h,[p,C+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[h,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[h,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[h,[p,C+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[h,[p,"MIUI "+k]],[/fxios\/([-\w\.]+)/i],[h,[p,O]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+k]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+k],h],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],h],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[p,h],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,U],h],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[p,h],[/\bgsa\/([\w\.]+) .*safari\//i],[h,[p,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[h,[p,E+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,E+" WebView"],h],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[h,[p,"Android "+k]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,h],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[h,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[h,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[h,q,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,h],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],h],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[h,[p,O+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[p,h],[/(cobalt)\/([\w\.]+)/i],[p,[h,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[y,"amd64"]],[/(ia32(?=;))/i],[[y,z]],[/((?:i[346]|x)86)[;\)]/i],[[y,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/windows (ce|mobile); ppc;/i],[[y,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[y,/ower/,"",z]],[/(sun4\w)[;\)]/i],[[y,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[y,z]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[f,B],[d,w]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[u,[f,B],[d,g]],[/((ipod|iphone)\d+,\d+)/i],[u,[f,P],[d,g]],[/(ipad\d+,\d+)/i],[u,[f,P],[d,w]],[/\((ip(?:hone|od)[\w ]*);/i],[u,[f,P],[d,g]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[f,P],[d,w]],[/(macintosh);/i],[u,[f,P]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[f,V],[d,w]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[f,V],[d,g]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[u,/_/g," "],[f,W],[d,g]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[f,W],[d,w]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[f,"OPPO"],[d,g]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[f,"Vivo"],[d,g]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[u,[f,"Realme"],[d,g]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[f,T],[d,g]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[f,T],[d,w]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[f,_],[d,w]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[f,_],[d,g]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[f,"Lenovo"],[d,w]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[f,"Nokia"],[d,g]],[/(pixel c)\b/i],[u,[f,j],[d,w]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[f,j],[d,g]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[f,$],[d,g]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[f,$],[d,w]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[f,"OnePlus"],[d,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[f,S],[d,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[f,S],[d,g]],[/(playbook);[-\w\),; ]+(rim)/i],[u,f,[d,w]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[f,D],[d,g]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[f,A],[d,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[f,A],[d,g]],[/(nexus 9)/i],[u,[f,"HTC"],[d,w]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[u,/_/g," "],[d,g]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[f,"Acer"],[d,w]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[f,"Meizu"],[d,g]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[f,I],[d,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,u,[d,g]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,u,[d,w]],[/(surface duo)/i],[u,[f,L],[d,w]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[f,"Fairphone"],[d,g]],[/(u304aa)/i],[u,[f,"AT&T"],[d,g]],[/\bsie-(\w*)/i],[u,[f,"Siemens"],[d,g]],[/\b(rct\w+) b/i],[u,[f,"RCA"],[d,w]],[/\b(venue[\d ]{2,7}) b/i],[u,[f,"Dell"],[d,w]],[/\b(q(?:mv|ta)\w+) b/i],[u,[f,"Verizon"],[d,w]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[f,"Barnes & Noble"],[d,w]],[/\b(tm\d{3}\w+) b/i],[u,[f,"NuVision"],[d,w]],[/\b(k88) b/i],[u,[f,"ZTE"],[d,w]],[/\b(nx\d{3}j) b/i],[u,[f,"ZTE"],[d,g]],[/\b(gen\d{3}) b.+49h/i],[u,[f,"Swiss"],[d,g]],[/\b(zur\d{3}) b/i],[u,[f,"Swiss"],[d,w]],[/\b((zeki)?tb.*\b) b/i],[u,[f,"Zeki"],[d,w]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],u,[d,w]],[/\b(ns-?\w{0,9}) b/i],[u,[f,"Insignia"],[d,w]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[f,"NextBook"],[d,w]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],u,[d,g]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],u,[d,g]],[/\b(ph-1) /i],[u,[f,"Essential"],[d,g]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[f,"Envizen"],[d,w]],[/\b(trio[-\w\. ]+) b/i],[u,[f,"MachSpeed"],[d,w]],[/\btu_(1491) b/i],[u,[f,"Rotor"],[d,w]],[/(shield[\w ]+) b/i],[u,[f,"Nvidia"],[d,w]],[/(sprint) (\w+)/i],[f,u,[d,g]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[f,L],[d,g]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[f,R],[d,w]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[f,R],[d,g]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,u,[d,v]],[/droid.+; (shield) bui/i],[u,[f,"Nvidia"],[d,v]],[/(playstation [345portablevi]+)/i],[u,[f,$],[d,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[f,L],[d,v]],[/smart-tv.+(samsung)/i],[f,[d,m]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[f,B],[d,m]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,_],[d,m]],[/(apple) ?tv/i],[f,[u,P+" TV"],[d,m]],[/crkey/i],[[u,E+"cast"],[f,j],[d,m]],[/droid.+aft(\w)( bui|\))/i],[u,[f,S],[d,m]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[f,I],[d,m]],[/(bravia[\w ]+)( bui|\))/i],[u,[f,$],[d,m]],[/(mitv-\w{5}) bui/i],[u,[f,W],[d,m]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[f,F],[u,F],[d,m]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,m]],[/((pebble))app/i],[f,u,[d,b]],[/droid.+; (glass) \d/i],[u,[f,j],[d,b]],[/droid.+; (wt63?0{2,3})\)/i],[u,[f,R],[d,b]],[/(quest( 2)?)/i],[u,[f,U],[d,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[d,x]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[u,[d,g]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[d,w]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,w]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,g]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[h,[p,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[h,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[p,h],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[h,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,h],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[p,[h,q,H]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,"Windows"],[h,q,H]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[h,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,"Mac OS"],[h,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[h,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,h],[/\(bb(10);/i],[h,[p,D]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[h,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[h,[p,O+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[h,[p,"webOS"]],[/crkey\/([\d\.]+)/i],[h,[p,E+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[p,"Chromium OS"],h],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,h],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],h],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[p,h]]},Z=function(e,t){if(typeof e===l&&(t=e,e=o),!(this instanceof Z))return new Z(e,t).getResult();var r=e||(typeof i!==s&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),n=t?function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r}(J,t):J;return this.getBrowser=function(){var e,t={};return t[p]=o,t[h]=o,G.call(t,r,n.browser),t.major=typeof(e=t.version)===c?e.replace(/[^\d\.]/g,"").split(".")[0]:o,t},this.getCPU=function(){var e={};return e[y]=o,G.call(e,r,n.cpu),e},this.getDevice=function(){var e={};return e[f]=o,e[u]=o,e[d]=o,G.call(e,r,n.device),e},this.getEngine=function(){var e={};return e[p]=o,e[h]=o,G.call(e,r,n.engine),e},this.getOS=function(){var e={};return e[p]=o,e[h]=o,G.call(e,r,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===c&&e.length>350?F(e,350):e,this},this.setUA(r),this};Z.VERSION="0.7.33",Z.BROWSER=M([p,h,"major"]),Z.CPU=M([y]),Z.DEVICE=M([u,f,d,v,g,m,w,b,x]),Z.ENGINE=Z.OS=M([p,h]),typeof t!==s?(e.exports&&(t=e.exports=Z),t.UAParser=Z):r.amdO?(n=function(){return Z}.call(t,r,t,e))===o||(e.exports=n):typeof i!==s&&(i.UAParser=Z);var K=typeof i!==s&&(i.jQuery||i.Zepto);if(K&&!K.ua){var X=new Z;K.ua=X.getResult(),K.ua.get=function(){return X.getUA()},K.ua.set=function(e){X.setUA(e);var t=X.getResult();for(var r in t)K.ua[r]=t[r]}}}("object"==typeof window?window:this)}},ui={};function pi(e){var t=ui[e];if(void 0!==t)return t.exports;var r=ui[e]={exports:{}};return ci[e].call(r.exports,r,r.exports,pi),r.exports}pi.amdO={},pi.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return pi.d(t,{a:t}),t},pi.d=(e,t)=>{for(var r in t)pi.o(t,r)&&!pi.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},pi.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var di={};pi.d(di,{Ay:()=>gi,Tc:()=>yi,vV:()=>vi});var fi=pi(724),hi=pi.n(fi);const yi={console:0,mobile:1,tablet:2,smarttv:3,wearable:4,other:5},vi=function(e){try{const t=hi()(e);return{viewer:void 0===t?.browser?.name?"":t.browser.name,type:void 0===t?.device?.type?"":t.device.type,os:void 0===t?.os?.name?"":t.os.name}}catch(e){return{viewer:"",type:"",os:""}}},gi=vi,wi=di.Tc,mi=di.Ay;function bi(){const e=new Date;return 2*Math.floor(e.getUTCHours()/2)}function xi(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return""}}const Si={todayPageViews:10,todayPageViewsByArticle:10,todayPageViewsByArticleWithPaywall:10,todayPageViewsByArticleWithRegwall:10,todayTopLevelSections:10,todayTopLevelSectionsByArticle:10,sevenDayPageViews:15,sevenDayPageViewsByArticle:15,sevenDayPageViewsByArticleWithPaywall:15,sevenDayPageViewsByArticleWithRegwall:15,sevenDayTopLevelSections:15,sevenDayTopLevelSectionsByArticle:15,sevenDayVisitCount:10,twentyEightDayPageViews:99,twentyEightDayPageViewsByArticle:60,twentyEightDayPageViewsByArticleWithPaywall:60,twentyEightDayPageViewsByArticleWithRegwall:60,twentyEightDayTopLevelSections:20,twentyEightDayTopLevelSectionsByArticle:20,twentyEightDayVisitCount:30,daysSinceLastVisit:5};function Pi(e,t){return Object.entries(e).reduce((e,r)=>{let[n,i]=r;return Object.assign(Object.assign({},e),{[`${t}${n[0].toUpperCase()}${n.slice(1)}`]:i})},{})}const Ai=function(e,t,r){if(!1===br.mode.isDeviceAndLocationDataAllowed&&!1===br.mode.isDeviceAndLocationDataAllowed)return{visitorType:t.visitor};const{durations:[n,i,o],daysSinceLastVisit:a}=function(e,t){const r=[e.today,...e.history],n=r.length,i=Math.min(n,Math.max(...t));let o=[],a=new li,s=0,l=new Set,c=new Set;for(let e=0;e<i;e++){const n=r[e];a.pageViews=a.pageViews+n.pageViews,a.pageViewsByArticle=a.pageViewsByArticle+n.pageViewsByArticle,a.pageViewsByArticleWithPaywall=a.pageViewsByArticleWithPaywall+n.pageViewsByArticleWithPaywall,a.pageViewsByArticleWithRegwall=a.pageViewsByArticleWithRegwall+n.pageViewsByArticleWithRegwall;for(const e of n.topLevelSections)l.has(e)||l.add(e);a.topLevelSections=l.size;for(const e of n.topLevelSectionsByArticle)c.has(e)||c.add(e);a.topLevelSectionsByArticle=c.size,n.pageViews>0&&(a.visitCount++,e>0&&0===s&&(s=e)),t.includes(e+1)&&(o.push(Object.assign({},a)),a=new li,l=new Set,c=new Set)}if(o.length<t.length)for(let e=o.length;e<t.length;e++)o.push(Object.assign({},a));return{durations:o,daysSinceLastVisit:s}}(t,[1,8,29]),{visitCount:s}=n,l=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(n,["visitCount"]),c=(null==r?void 0:r.assignedGroup)||null,u=Vn(),p=gn(),d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Rr(e).reduce((e,r)=>{let[n,i]=r;if("number"==typeof i){const r=n in t?t[n]:null;e[n]="number"==typeof r?Math.min(i,r):i}else e[n]=i;return e},{})}(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Pi(l,"today")),Pi(i,"sevenDay")),Pi(o,"twentyEightDay")),mi(navigator.userAgent)),{timeZone:xi(),referrer:u.medium,referrerData:Object.assign(Object.assign({},u),{queryParams:p}),daysSinceLastVisit:a,visitorType:t.visitor,hourOfDay:bi(),assignedGroup:c,userProperties:e.userProperties,contentProperties:jr(br)}),Si);return d.visitor=e.visitor,d},Di={daysSinceLastVisit:"DA",todayPageViews:"AA",todayPageViewsByArticle:"AB",todayPageViewsByArticleWithPaywall:"AC",sevenDayPageViews:"BA",sevenDayPageViewsByArticle:"BB",sevenDayPageViewsByArticleWithPaywall:"BC",todayTopLevelSections:"AD",todayTopLevelSectionsByArticle:"AE",sevenDayTopLevelSections:"BD",sevenDayTopLevelSectionsByArticle:"BE",sevenDayVisitCount:"BF",todayPageViewsByArticleWithRegwall:"AF",sevenDayPageViewsByArticleWithRegwall:"BG",twentyEightDayPageViews:"CA",twentyEightDayPageViewsByArticle:"CB",twentyEightDayPageViewsByArticleWithPaywall:"CC",twentyEightDayTopLevelSections:"CD",twentyEightDayTopLevelSectionsByArticle:"CE",twentyEightDayVisitCount:"CF",twentyEightDayPageViewsByArticleWithRegwall:"CG"},ki={experimentId:"HA",assignedGroup:"HB",visitorType:"FA",referrer:"DC",pageReferrerMedium:"DE",pageReferrerSource:"DF",pageReferrerChannel:"DG",os:"EA",type:"EB",viewer:"EC",hourOfDay:"DD",timeZone:"DB",campaignName:"GA",referrerDomain:"GB",referrerMedium:"GC",referrerSource:"GD",referrerChannel:"GE"},Ei={medium:{alias:ki.pageReferrerMedium,codes:En},source:{alias:ki.pageReferrerSource,codes:On},channel:{alias:ki.pageReferrerChannel,codes:kn}};function Oi(e){if("timeZone"in e){const t=e.timeZone;if(t)return[ki.timeZone+":"+t]}return[]}function ji(e){if("referrer"in e){const t=e.referrer;if(t){const e=En[t].toString().padStart(2,"0");return[ki.referrer+":"+e]}}return[]}function Vi(e,t){return function(e,t,r,n){if("referrerData"in e&&e.referrerData&&t in e.referrerData){const i=e.referrerData[t];if(i&&i in n)return[r+":"+n[i].toString().padStart(2,"0")]}return[]}(e,t,Ei[t].alias,Ei[t].codes)}function _i(e){if("os"in e){const t=e.os;if(t)return[ki.os+":"+t]}return[]}function Li(e){if("type"in e){const t=e.type;if(t&&t in wi){const e=wi[t].toString().padStart(2,"0");return[ki.type+":"+e]}}return[]}function Ti(e){if("viewer"in e){const t=e.viewer;if(t)return[ki.viewer+":"+t]}return[]}const Ci={anonymous:0,registered:1};function Bi(e){const t=e.visitorType;if(t&&t in Ci){const e=Ci[t].toString().padStart(2,"0");return[ki.visitorType+":"+e]}return[]}function Ii(e){if("hourOfDay"in e){const t=e.hourOfDay;if(void 0!==t)return[ki.hourOfDay+":"+t]}return[]}function $i(e){if("visitor"in e){const t=e.visitor.session,r=["campaignName","referrerDomain","referrerMedium","referrerSource","referrerChannel"],n={referrerSource:On,referrerChannel:kn};return Rr(t).reduce((e,t)=>{let i,[o,a]=t;return i=o in n?function(e,t){return e in t?t[e].toString().padStart(2,"0"):null}(a,n[o]):a,i&&r.includes(o)&&e.push(ki[o]+":"+i),e},[])}return[]}const Wi={aa:"0",ab:"1"},Ri={control:"1",variant:"2",holdout:"3"};function Ui(e){if(e){const t=/[a-z:_-\d]*test(\d)_(a(?:a|b))$/,r=e.experimentId.match(t);let n="9",i="9",o=function(e){return Ri[e.assignedGroup]||"9"}(e);if(r){i=r[1];const e=r[2];n=Wi[e]}return[ki.experimentId+":"+n+i,ki.assignedGroup+":"+o]}return[]}const Mi={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Ni;const zi=new Uint8Array(16),Fi=[];for(let e=0;e<256;++e)Fi.push((e+256).toString(16).slice(1));const Gi=function(e,t,r){if(Mi.randomUUID&&!t&&!e)return Mi.randomUUID();const n=(e=e||{}).random??e.rng?.()??function(){if(!Ni){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ni=crypto.getRandomValues.bind(crypto)}return Ni(zi)}();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){if((r=r||0)<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=n[e];return t}return function(e,t=0){return(Fi[e[t+0]]+Fi[e[t+1]]+Fi[e[t+2]]+Fi[e[t+3]]+"-"+Fi[e[t+4]]+Fi[e[t+5]]+"-"+Fi[e[t+6]]+Fi[e[t+7]]+"-"+Fi[e[t+8]]+Fi[e[t+9]]+"-"+Fi[e[t+10]]+Fi[e[t+11]]+Fi[e[t+12]]+Fi[e[t+13]]+Fi[e[t+14]]+Fi[e[t+15]]).toLowerCase()}(n)};let qi;function Hi(e){e&&(qi=e)}var Ji=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};function Zi(e){const t="wallType"in e?e.wallType:"paywall",r=M[t],n=Xi[e.wallVisibility];let i=0===n?U.nowall:U[t];const o=Math.round(100*e.score);let a=100===o?"xx":o.toString().padStart(2,"0");const s=Math.round(100*e.threshold);return`${r}${n}${i}${a}${100===s?"xx":s.toString().padStart(2,"0")}`}const Ki=j.optional(j.object({visitor:j.optional($)})),Xi={always:1,never:0};function Yi(e){if(oe.debug("Decision override:",ne.override),ne.override){oe.debug("âï¸ Decision override",ne.override);let t=e.outcome;return ne.override.outcome&&(t=Object.assign(Object.assign({},t),ne.override.outcome)),Object.assign(Object.assign(Object.assign({},e),ne.override),{outcome:t})}return e}function Qi(e){window.sophi=null===e?Object.assign(Object.assign({},window.sophi),{quickStart:{}}):Object.assign(Object.assign({},window.sophi),{quickStart:{decision:e}})}function eo(e,t){if(t.addTracingToLocalStorage.enabled&&e){const{inputs:r,context:n,trace:i}=e;localStorage.setItem(t.addTracingToLocalStorage.key,JSON.stringify({inputs:r,context:n,trace:i}))}}function to(e){return"always"===e.outcome.wallVisibility?"paywall"===e.outcome.wallType?"paywall":"regwall":"no-wall"}const ro=e=>{j.parse(Ki,e);const t=(e=>{var t;try{if(!1===e.metaValues.visitorType)return null;const{selector:r,attribute:n,expression:i}=e.metaValues.visitorType,o=document.querySelector(r);if(!(null===(t=null==o?void 0:o.getAttribute(n))||void 0===t?void 0:t.trim()))return null;const a=Dr(r,n,i),s=j.safeParse($,a);return s.success?s.output:null}catch(e){return null}})(br),r=sn.getState().visitor,n=(e=>{let{argsVisitor:t,metaVisitor:r,storedVisitor:n}=e;return t||r||n||"anonymous"})({argsVisitor:null==e?void 0:e.visitor,metaVisitor:t,storedVisitor:r});return sn.updateState(Object.assign(Object.assign({},sn.getState()),{visitor:n})),{visitor:n}};function no(e,t){return"registered"===e&&"always"===t.outcome.wallVisibility&&"regwall"===t.outcome.wallType&&(t.outcome={wallVisibility:"never",wallVisibilityCode:0}),t}function io(e){return e.contentProperties&&e.contentProperties.length>0?function(e){return null===Or.analyticsString&&Vr(e),Or.analyticsString}(e):""}function oo(e){return Ji(this,void 0,void 0,function*(){const{experiment:t,modelInputs:r,internalExperiment:n}=e;t&&oe.info("ð§ª Experiment",JSON.stringify(t,null,2)),oe.debug("Model inputs",JSON.stringify(r,null,2));const i=si.evaluate(r),o=function(e){let t="";if(ai(e)){const r={daysSinceLastVisit:e.daysSinceLastVisit,todayPageViews:e.todayPageViews,todayPageViewsByArticle:e.todayPageViewsByArticle,todayPageViewsByArticleWithPaywall:e.todayPageViewsByArticleWithPaywall,sevenDayPageViews:e.sevenDayPageViews,sevenDayPageViewsByArticle:e.sevenDayPageViewsByArticle,sevenDayPageViewsByArticleWithPaywall:e.sevenDayPageViewsByArticleWithPaywall,todayTopLevelSections:e.todayTopLevelSections,todayTopLevelSectionsByArticle:e.todayTopLevelSectionsByArticle,sevenDayTopLevelSections:e.sevenDayTopLevelSections,sevenDayTopLevelSectionsByArticle:e.sevenDayTopLevelSectionsByArticle,sevenDayVisitCount:e.sevenDayVisitCount,todayPageViewsByArticleWithRegwall:e.todayPageViewsByArticleWithRegwall,sevenDayPageViewsByArticleWithRegwall:e.sevenDayPageViewsByArticleWithRegwall,twentyEightDayPageViews:e.twentyEightDayPageViews,twentyEightDayPageViewsByArticle:e.twentyEightDayPageViewsByArticle,twentyEightDayPageViewsByArticleWithPaywall:e.twentyEightDayPageViewsByArticleWithPaywall,twentyEightDayTopLevelSections:e.twentyEightDayTopLevelSections,twentyEightDayTopLevelSectionsByArticle:e.twentyEightDayTopLevelSectionsByArticle,twentyEightDayVisitCount:e.twentyEightDayVisitCount,twentyEightDayPageViewsByArticleWithRegwall:e.twentyEightDayPageViewsByArticleWithRegwall};t=Object.keys(r).reduce((e,t)=>`${e}${Di[t]+r[t].toString().padStart(2,"0")}`,"")}return t}(r),a=function(e,t){return[...Ui(t),...Bi(e),...ji(e),...Vi(e,"medium"),...Vi(e,"source"),...Vi(e,"channel"),..._i(e),...Li(e),...Ti(e),...Ii(e),...Oi(e),...$i(e)].join("|")}(r,n),s=function(e){let t="";for(const r of e)t+=Zi(r);return t}(i.outcomes),l=function(e){return"always"===e.wallVisibility?{wallType:e.wallType,wallTypeCode:U[e.wallType],wallVisibility:e.wallVisibility,wallVisibilityCode:Xi[e.wallVisibility]}:{wallVisibility:e.wallVisibility,wallVisibilityCode:Xi[e.wallVisibility]}}(i),c=function(e,t){const r=new URLSearchParams;return e&&r.append("modelTrace",e),t&&(r.append("experiment.id",t.experimentId),r.append("experiment.assignedGroup",t.assignedGroup)),r.toString()}(s,n),u=(e=>e&&0!==Object.keys(e).length?Rr(e).map(e=>{let[t,r]=e;return`${t}:${r}`}).join(","):"")(Co.state.userProperties),p=function(e){var t;if(!br.showPaywallScore)return;const r=null===(t=e.outcomes[0])||void 0===t?void 0:t.score;return void 0!==r?Math.round(100*r):void 0}(i),d=Object.assign(Object.assign({id:Gi(),createdAt:(new Date).toISOString(),trace:s,context:o,inputs:a,outcome:l,searchParams:c,userProperties:u,contentProperties:io(br)},void 0!==p?{paywallScore:p}:{}),{experiment:t});return oe.debug("On-device model decision:",d),{decision:d,outcomes:i.outcomes}})}function ao(e,t,r){return Ji(this,void 0,void 0,function*(){const{decision:n,outcomes:i}=t;if(r.paywallApi)try{const t=(e=>{const t=e.dataMap["content.id"];let r=null;return"dom"===t.source&&(r=Dr(t.selector,t.attribute,t.expression)),"url"===t.source&&(r=Sr(new URL(location.href).pathname,t.expression)),r||oe.debug(`Could not extract content ID from ${t.source} using pattern ${t.expression}`),oe.debug("Extracted content.id:",r),r})(r.paywallApi);if(!t){const e=new Error("No value for 'content.id', aborting decision call");throw e.name="ContentIdError",e}const o=new URLSearchParams(n.searchParams);o.append("content.id",t),o.append("visitor.type",e.modelInputs.visitorType),r.paywallApi.ufm&&ai(e.modelInputs)&&(o.append("visitor.visit.timezone",e.modelInputs.timeZone),o.append("visitor.visit.referrer",e.modelInputs.referrer),o.append("visitor.device.type",e.modelInputs.type),o.append("visitor.device.os",e.modelInputs.os),o.append("visitor.device.viewer",e.modelInputs.viewer));const a=yield Mn(r.paywallApi,o),s=Object.assign(Object.assign({id:a.id,createdAt:a.createdAt,trace:a.trace,context:n.context,inputs:n.inputs,outcome:a.outcome,searchParams:n.searchParams,userProperties:n.userProperties,contentProperties:n.contentProperties},void 0!==n.paywallScore?{paywallScore:n.paywallScore}:{}),{experiment:n.experiment});return oe.debug("Server decision:",s),{decision:s,outcomes:i}}catch(e){let t="No server decision";e instanceof Error&&(t+=`: ${e.message}`),oe.warn(t),oe.debug({err:e});const o=((e,t)=>{let r="t";return e instanceof Error&&"AbortError"===e.name?(r+="002",r+=Math.round(t/10)):e instanceof Error&&"TypeError"===e.name?r+="003001":e instanceof Error&&"ContentIdError"===e.name?r+="00401":e&&e instanceof Response?r+="003"+e.status:r+="009000",r=r.substring(0,7).padEnd(7,"0"),r})(e,r.paywallApi.timeout)+n.trace;return{decision:Object.assign(Object.assign({},n),{trace:o}),outcomes:i}}return t})}const so=new class{constructor(e){let{config:t}=e;this.config=t,this.onDevice=null,this.server=null,this.cold=null}makeParams(){return Ji(this,void 0,void 0,function*(){const e=yield Jn(),t=yield Zn();return{modelInputs:Ai(Co.state,sn.getState(),t),experiment:e,internalExperiment:t}})}getCached(){return Ji(this,void 0,void 0,function*(){const e=yield this.makeParams();return null===this.onDevice&&(this.onDevice=oo(e)),null===this.server&&(this.server=this.onDevice.then(t=>ao(e,t,this.config))),(yield this.server).decision})}updateCache(){return Ji(this,arguments,void 0,function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e;return function*(){const r=yield e.makeParams();return e.onDevice=oo(r),t&&e.onDevice.then(e=>{let{decision:r}=e;return t(r)}),e.server=e.onDevice.then(t=>ao(r,t,e.config)),yield e.server}()})}}({config:br});function lo(){window.sophi.quickStart.decision=void 0,Yn(),Or.values=null,Or.analyticsString=null}function co(e){if(!$n.isSubdomain(br)){const t=e.getState(),r=t.coldDataLayer,{previous:n,outcomes:i}=r;if(n&&Object.keys(n).length>1){const o=yo(n,i||null,br);return Qi(o),eo(o,br),ei(o),e.updateState(Object.assign(Object.assign({},t),{coldDataLayer:Object.assign(Object.assign({},t.coldDataLayer),{previous:void 0,outcomes:[]})})),r}}return null}function uo(e,t,r){return e&&(so.cold=(()=>Ji(this,void 0,void 0,function*(){return{decision:e.previous,outcomes:e.outcomes||[]}}))()),ro(),so.updateCache(t).then(r)}function po(e){if("client"===br.wallGeneration.type){const{trace:t}=e;ei(function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(e,["trace"]))}return e}function fo(e,t,r){const n=e.getState();e.updateState(Object.assign(Object.assign({},n),{coldDataLayer:Object.assign(Object.assign({},n.coldDataLayer),{previous:t,outcomes:r})})),function(e){if(!0===br.cookie.isEnabled&&!0===br.mode.isDeviceAndLocationDataAllowed&&!0===br.mode.isUserBehaviorDataAllowed&&!$n.isSubdomain(br)){const t=br.cookie.name,r=br.hostname,n=br.cookie.maxAge,i="/";let o=e.searchParams;br.cookie.includeOutcome&&(o.length&&(o+="&"),o+="outcome.wallVisibility="+e.outcome.wallVisibility,"always"===e.outcome.wallVisibility&&(o+="&outcome.wallType="+e.outcome.wallType));const a=`${t}=${o}; domain=${r}; path=${i}; max-age=${n};`;document.cookie=a}}(t)}function ho(e){return Ji(this,void 0,void 0,function*(){lo(),e.dispatch({type:ae.ContentProperties});const t=co(sn);t&&ti(),e.processStoredEvents(),yield uo(t,po,vo)})}function yo(e,t,r,n){var i;const o=void 0===n?function(e){if(!1!==e.metaValues.contentPropensityLevel){const t=e.metaValues.contentPropensityLevel,r=Dr(t.selector,t.attribute,t.expression),n=j.safeParse(qn,r);if(n.success)return n.output;oe.warn(Gn,"Received:",r)}return null}(r):n,a=function(e){return Array.isArray(e)&&e.length>0&&e[0].score||null}(t);oe.debug("User propensity",a,"content propensity",o);const{visitor:s}=ro();return l=e,null===(i=e.experiment)||void 0===i||i.assignedGroup,l;var l}const vo=e=>{const t=e.decision,{visitor:r}=ro(),n=yo(t,e.outcomes,br);oe.debug("Policy outcome",n.outcome),no(r,n);const i=Yi(n);return"client"===br.wallGeneration.type&&!1===br.enableWallIndicators?(Qi(i),eo(i,br),ei(i),ti()):"client"===br.wallGeneration.type&&!0===br.enableWallIndicators?(null===so.cold&&(Qi(i),eo(i,br),ei(i),ti()),fo(sn,i,e.outcomes)):"server"===br.wallGeneration.type&&(null===so.cold&&(so.cold=Ji(void 0,void 0,void 0,function*(){return{decision:yield so.getCached(),outcomes:e.outcomes}}),ti()),fo(sn,i,e.outcomes)),i},go=e=>Ji(void 0,void 0,void 0,function*(){var t;{oe.info("ð§® Received getDecision event",e);const{visitor:r}=ro(e);$n.dispatch({type:ae.GetDecision});const n=(yield null===(t=so.cold)||void 0===t?void 0:t.then(e=>e.decision))||(yield so.getCached());no(r,n);const i=Yi(n);return oe.info("ðª§ Decision:",to(i)),i}});function wo(e){return t=this,r=void 0,i=function*(){!1===br.enableWallIndicators&&oe.warn("getDecisionForArticleWallIndicators was called but wall indicators are not enabled. Using current decision."),oe.info("ð§® Received getDecisionForArticleWallIndicators event",e),$n.dispatch({type:ae.GetDecisionForArticleWallIndicators});const{visitor:t}=ro(),r=yield so.getCached();no(t,r);const n=(e=>{if(void 0===e)return null;const t=j.safeParse(qn,e);return t.success?t.output:(oe.warn(Gn,"Received:",e),null)})(null==e?void 0:e.contentPropensityLevel),i=Yi(yo(r,(yield so.server).outcomes,br,n));return oe.info("ðª§ Decision for next page:",to(i)),i},new((n=void 0)||(n=Promise))(function(e,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n(function(e){e(r)})).then(a,s)}l((i=i.apply(t,r||[])).next())});var t,r,n,i}const mo=function(){const{context:e,inputs:t,trace:r,experimentsCode:n,assignedGroup:i}=Qn(),o={context:e,inputs:t,trace:r,decisionSource:"",experimentsCode:n,assignedGroup:i};return oe.debug("Sophi context",o),o},bo=function(){const{context:e,inputs:t,trace:r,userProperties:n}=Qn(),i={context:e,inputs:t,trace:r,userProperties:n};return oe.info("ðª§ Received getWallContext event",JSON.stringify(i,null,2)),i};var xo=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};const So=j.pipe(j.string(),j.trim(),j.string(),j.trim(),j.picklist(["pageview","wall","config","getDecision","getWallContext","getSophiContext","enableAllFeatures","userProperties","getDecisionForArticleWallIndicators"])),Po=["pageview","wall","userProperties"],Ao=["getDecision","getDecisionForArticleWallIndicators","getWallContext","getSophiContext"],Do=["config"],ko=["enableAllFeatures"];function Eo(e){let t,r,n;return"object"==typeof e&&null!==e&&("args"in e&&void 0!==e.args&&(t=e.args),"onSuccess"in e&&"function"==typeof e.onSuccess&&(r=e.onSuccess),"onError"in e&&"function"==typeof e.onError&&(n=e.onError)),{args:t,onSuccess:r,onError:n}}const Oo=(e,t)=>{"function"==typeof e&&e(t)};function jo(e,t){return xo(this,arguments,void 0,function(e,t){var r=this;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){const{args:i,onSuccess:o,onError:a}=Eo(t),{resolve:s,reject:l}=n;try{const t=function(e){return j.parse(So,e)}(e),n=yield Vo.call(r,t,i);return Oo(o,n),Oo(s,n),n}catch(e){const t=function(e){try{if(e instanceof j.ValiError){const{root:t,nested:r}=j.flatten(e.issues),n=t||r;return oe.error("InputError",JSON.stringify(n,null,2)),new Error("InputError",{cause:e})}throw e}catch(t){return oe.debug("Error while formatting error",e),new Error("DecisionError",{cause:t})}}(e);throw oe.debug("Error",t),Oo(a,t),Oo(l,t),t}}()})}function Vo(e,t){return this[e](t)}function _o(e,t){const[[r,n]]=e[t],{resolve:i,reject:o}=function(e){let t,r;if(Array.isArray(e)){const[n,i,o]=e;"function"==typeof i&&(t=i),"function"==typeof o&&(r=o)}return{resolve:t,reject:r}}(e[t]);jo.call(this,r,Eo(n),{resolve:i,reject:o}),e.splice(t,1)}function Lo(e,t){for(let r=0;r<e.length;r++){const[[n]]=e[r];t.includes(n)&&(_o.call(this,e,r),r--)}}const To=function(e){return xo(this,void 0,void 0,function*(){var t,r,n;(r=br.hostname)===(n=null===(t=window.location)||void 0===t?void 0:t.hostname)||new RegExp(`^(.*\\.)?${r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}$`).test(n)||oe.warn(`Bundle hostname mismatch: bundle is for "${br.hostname}", but loaded on "${window.location.hostname}"`),oe.debug("Initializing"),Lo.call(this,e,Do),Lo.call(this,e,ko);const i=co(this.store);i&&ti(),function(e){if(e&&("event"in e&&window.addEventListener(e.event,()=>{ho($n)}),"selector"in e)){const t=function(e){let t=null;try{t=document.querySelector(e)}catch(t){oe.warn(`Invalid selector ${e}.`)}return null===t?(oe.warn(`No node found using selector ${e}. Using document.body instead.`),document.body):t}(e.selector);let r=location.href;const n={subtree:!0,childList:!0};new MutationObserver(function(){location.href!==r&&(r=location.href,ho($n)),oe.debug("MutationObserver callback checked for page change")}).observe(t,n)}}(br.spa),br.mode.isUserBehaviorDataAllowed&&Ln(),$n.processStoredEvents(),$n.dispatch({type:ae.Init}),"server"===br.wallGeneration.type&&Lo.call(this,e,Po),yield uo(i,po,vo),Lo.call(this,e,Ao),"client"===br.wallGeneration.type&&Lo.call(this,e,Po),this.ready=!0,window.demeter=jo.bind(this);for(let t=0;t<e.length;t++)_o.call(this,e,t),t--})};const Co=function(e){return new ft(e.storage)}({storage:localStorage}),Bo=class{constructor(){this.ready=!1,this.store=sn;const e=$n.getDispatch();return this.init=To.bind(this),this.pageview=t=>e({type:ae.Pageview,payload:t}),this.wall=t=>e({type:ae.Wall,payload:t}),this.enableAllFeatures=()=>e({type:ae.EnableAllFeatures}),this.userProperties=t=>{e({type:ae.UserProperties,payload:t})},this.config=ne.config.bind(ne),this.getDecision=go,this.getWallContext=bo,this.getDecisionForArticleWallIndicators=wo,this.getSophiContext=mo,new Proxy(this,{get:function(e,t){var r=this;return"function"==typeof e[t]&&"init"!==t?function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return a=r,s=void 0,c=function*(){if(!e.ready)throw new Error(`InitError: ${String(t)}() was called before init(). Please initialize before using this function.`);return e[t](...i)},new((l=void 0)||(l=Promise))(function(e,t){function r(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof l?i:new l(function(e){e(i)})).then(r,n)}i((c=c.apply(a,s||[])).next())});var a,s,l,c}:e[t]}})}};const Io=function(e){return t=this,r=void 0,i=function*(){window.sophi=window.sophi||{},window.sophi.demeter=window.sophi.demeter||{actions:[]},window.sophi.quickStart=window.sophi.quickStart||{},window.sophi.dataLayer||Yn(),e.init(window.sophi.demeter.actions)},new((n=void 0)||(n=Promise))(function(e,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n(function(e){e(r)})).then(a,s)}l((i=i.apply(t,r||[])).next())});var t,r,n,i};let $o=null,Wo=!1;"undefined"!=typeof DEMETER_PREBUILD&&DEMETER_PREBUILD||function(e){return t=this,r=void 0,i=function*(){return $o||($o=new Bo),Wo||(e||oe.debug("Error loading 'thresholds' value."),Hi(e),yield Io($o),Wo=!0),$o},new((n=void 0)||(n=Promise))(function(e,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n(function(e){e(r)})).then(a,s)}l((i=i.apply(t,r||[])).next())});var t,r,n,i}().catch(e=>{console.error("Failed to initialize SDK:",e)})})();