/*! For license information please see 75.chunk.js.LICENSE.txt?d=1680&mxId=00000000 */
(this.webpackJsonp=this.webpackJsonp||[]).push([[75],{1047:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initLocalStorage=void 0;t.initLocalStorage=function(){if(window.location.pathname.includes(".html")){var e=window.location.href,t=window.adiData.arcEntryId,n=new Date,a="".concat(String(n.getMonth()+1).padStart(2,"0"),"/").concat(String(n.getDate()).padStart(2,"0"),"/").concat(n.getFullYear());localStorage.setItem("lastArticleId",t),localStorage.setItem("lastArticleUrl",e),localStorage.setItem("lastArticleDatestamp",a),localStorage.setItem("lastArticleAuthor",window.adiData.entryAuthorUsername),localStorage.setItem("lastArticleHeadline",window.adiData.entryHeadline)}}},1048:function(e){e.exports=JSON.parse('{"a":"2.6.0"}')},1049:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callCale=void 0;var a,o=n(969),i=(a=n(1050))&&a.__esModule?a:{default:a},r=n(971),l=n(974);t.callCale=function(e){var t;return(t=window.Advance.debug).cale_init||(t.cale_init=window.performance.now()),new Promise((function(t,n){var a=e.access.match(/get/i)?i.default.makeString(e.params):"",c={headers:{"Content-Type":"application/json"},method:e.access,body:e.access.match(/post/i)&&JSON.stringify(e.params)};fetch("https://cale".concat(o.locationDetails.tierSuffix,".advance.net/").concat(e.endpoint).concat(a),c).then((function(e){var t;if(!e.ok)throw window.tp.push(["setCustomVariable","middlewareerror","true"]),new Error(e.statusText);return(t=window.Advance.debug).cale_loaded||(t.cale_loaded=window.performance.now()),e.text()})).then((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=(0,r.isDataJSON)(n);if(a.success){var o=a.results;e.endpoint.match(/access/)&&(window.Advance.Cale=o.results,window.dispatchEvent(new CustomEvent("caleObjectSet"))),t(o)}})).catch((function(t){"checkoutComplete"===(null==e?void 0:e.type)?(0,l.callCaleLogError)({checkoutComplete:t}):n(new Error(t))}))}))}},1050:function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!e.instance){if(this._data=window.location.search,this.queryStr=this._data.length>1?decodeURIComponent(this._data.substring(1,this._data.length)):"",this.keyValStrs=[],this._data)for(var t=0;t<this.queryStr.split("&").length;t++)this.keyValStrs[t]=this.queryStr.split("&")[t];e.instance=this}return e.instance}var t,n,o;return t=e,(n=[{key:"getAsObject",value:function(){for(var e={},t=0;t<this.keyValStrs.length;t++)e[this.keyValStrs[t].split("=")[0]]=this.keyValStrs[t].split("=")[1];return e}},{key:"getValue",value:function(e){for(var t=0;t<this.keyValStrs.length;t++)if(this.keyValStrs[t].split("=")[0]===e)return this.keyValStrs[t].split("=")[1];return!1}},{key:"getKeys",value:function(){for(var e=[],t=0;t<this.keyValStrs.length;t++)e[t]=this.keyValStrs[t].split("=")[0];return e}},{key:"makeString",value:function(e){return"?".concat(Object.keys(e).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))})).join("&"))}}])&&a(t.prototype,n),o&&a(t,o),e}(),i=new o;Object.freeze(i);var r=i;t.default=r},1051:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasAdLiteExperience=void 0;t.hasAdLiteExperience=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"true"===new URLSearchParams(window.location.search).get("adlite_experience")||((null==e?void 0:e.is_adlite)||!1)}},1052:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pushEventCallback=void 0;var a=n(964);t.pushEventCallback=function(e){return new Promise((function(t,n){return e?(a.state.dataLayer.pushing=!0,e.event||(e.event="pushEventCallback"),e.eventCallback=function(){a.state.dataLayer.pushing=!1,dispatchEvent(new Event("dataLayerPushComplete.adi")),t()},e.eventTimeout=2e3,window.dataLayer=window.dataLayer||[],window.dataLayer.push(e),!0):(n(),!1)}))}},1053:function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__webpack_require__(848),ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(n){return new Sha256(t,!0).update(n)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var n=0;n<OUTPUT_TYPES.length;++n){var a=OUTPUT_TYPES[n];t[a]=createOutputMethod(a,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null==e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(n,a){return new HmacSha256(n,t,!0).update(a)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,n){return t.create(e).update(n)};for(var n=0;n<OUTPUT_TYPES.length;++n){var a=OUTPUT_TYPES[n];t[a]=createHmacOutputMethod(a,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,n){var a,o=typeof e;if("string"===o){var i,r=[],l=e.length,c=0;for(a=0;a<l;++a)(i=e.charCodeAt(a))<128?r[c++]=i:i<2048?(r[c++]=192|i>>6,r[c++]=128|63&i):i<55296||i>=57344?(r[c++]=224|i>>12,r[c++]=128|i>>6&63,r[c++]=128|63&i):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++a)),r[c++]=240|i>>18,r[c++]=128|i>>12&63,r[c++]=128|i>>6&63,r[c++]=128|63&i);e=r}else{if("object"!==o)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var s=[],d=[];for(a=0;a<64;++a){var u=e[a]||0;s[a]=92^u,d[a]=54^u}Sha256.call(this,t,n),this.update(d),this.oKeyPad=s,this.inner=!0,this.sharedMemory=n}Sha256.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var a,o,i=0,r=e.length,l=this.blocks;i<r;){if(this.hashed&&(this.hashed=!1,l[0]=this.block,l[16]=l[1]=l[2]=l[3]=l[4]=l[5]=l[6]=l[7]=l[8]=l[9]=l[10]=l[11]=l[12]=l[13]=l[14]=l[15]=0),t)for(o=this.start;i<r&&o<64;++i)l[o>>2]|=e[i]<<SHIFT[3&o++];else for(o=this.start;i<r&&o<64;++i)(a=e.charCodeAt(i))<128?l[o>>2]|=a<<SHIFT[3&o++]:a<2048?(l[o>>2]|=(192|a>>6)<<SHIFT[3&o++],l[o>>2]|=(128|63&a)<<SHIFT[3&o++]):a<55296||a>=57344?(l[o>>2]|=(224|a>>12)<<SHIFT[3&o++],l[o>>2]|=(128|a>>6&63)<<SHIFT[3&o++],l[o>>2]|=(128|63&a)<<SHIFT[3&o++]):(a=65536+((1023&a)<<10|1023&e.charCodeAt(++i)),l[o>>2]|=(240|a>>18)<<SHIFT[3&o++],l[o>>2]|=(128|a>>12&63)<<SHIFT[3&o++],l[o>>2]|=(128|a>>6&63)<<SHIFT[3&o++],l[o>>2]|=(128|63&a)<<SHIFT[3&o++]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.block=l[16],this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,n,a,o,i,r,l,c,s=this.h0,d=this.h1,u=this.h2,f=this.h3,p=this.h4,m=this.h5,v=this.h6,h=this.h7,w=this.blocks;for(e=16;e<64;++e)t=((o=w[e-15])>>>7|o<<25)^(o>>>18|o<<14)^o>>>3,n=((o=w[e-2])>>>17|o<<15)^(o>>>19|o<<13)^o>>>10,w[e]=w[e-16]+t+w[e-7]+n<<0;for(c=d&u,e=0;e<64;e+=4)this.first?(this.is224?(i=300032,h=(o=w[0]-1413257819)-150054599<<0,f=o+24177077<<0):(i=704751109,h=(o=w[0]-210244248)-1521486534<<0,f=o+143694565<<0),this.first=!1):(t=(s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10),a=(i=s&d)^s&u^c,h=f+(o=h+(n=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&m^~p&v)+K[e]+w[e])<<0,f=o+(t+a)<<0),t=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),a=(r=f&s)^f&d^i,v=u+(o=v+(n=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&p^~h&m)+K[e+1]+w[e+1])<<0,t=((u=o+(t+a)<<0)>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),a=(l=u&f)^u&s^r,m=d+(o=m+(n=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7))+(v&h^~v&p)+K[e+2]+w[e+2])<<0,t=((d=o+(t+a)<<0)>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),a=(c=d&u)^d&f^l,p=s+(o=p+(n=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&v^~m&h)+K[e+3]+w[e+3])<<0,s=o+(t+a)<<0;this.h0=this.h0+s<<0,this.h1=this.h1+d<<0,this.h2=this.h2+u<<0,this.h3=this.h3+f<<0,this.h4=this.h4+p<<0,this.h5=this.h5+m<<0,this.h6=this.h6+v<<0,this.h7=this.h7+h<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,a=this.h3,o=this.h4,i=this.h5,r=this.h6,l=this.h7,c=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r];return this.is224||(c+=HEX_CHARS[l>>28&15]+HEX_CHARS[l>>24&15]+HEX_CHARS[l>>20&15]+HEX_CHARS[l>>16&15]+HEX_CHARS[l>>12&15]+HEX_CHARS[l>>8&15]+HEX_CHARS[l>>4&15]+HEX_CHARS[15&l]),c},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,a=this.h3,o=this.h4,i=this.h5,r=this.h6,l=this.h7,c=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,a>>24&255,a>>16&255,a>>8&255,255&a,o>>24&255,o>>16&255,o>>8&255,255&o,i>>24&255,i>>16&255,i>>8&255,255&i,r>>24&255,r>>16&255,r>>8&255,255&r];return this.is224||c.push(l>>24&255,l>>16&255,l>>8&255,255&l),c},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()}).call(this,__webpack_require__(50),__webpack_require__(38))},1054:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initAuthListeners=void 0;var a=n(969),o=n(968),i=n(992),r=n(964),l=n(988);t.initAuthListeners=function(e){var t,n,c,s,d,u,f,p,m,v=e["subscribe-with-google-onoff"],h="",w=function(t){tp.push(["setExternalJWT",h]),r.state.auth0.JWT=h,(0,i.loadOnLogin)(t,e),r.state.auth0.hasInit=!0,(0,o.broadcast)("auth0InitTasksDone.adi")},g=function(){(self.SWG=self.SWG||[]).push((function(e){e.getEntitlements().then((function(e){Object.keys(e).length>0&&(r.state.swg.entitlements=e.entitlements)}))})),(0,o.broadcast)("swgEntitlementsDone.adi")},b=function(){var e="https://www".concat(a.locationDetails.tierSuffix,".").concat(a.locationDetails.affiliate).concat(a.locationDetails.domain,"/claims/connection");v&&"google-oauth2"===window.Advance.auth0.user[e]&&r.state.swg.entitlements.length>0?w(!0):w(!1)};!v||null!==(t=window)&&void 0!==t&&null!==(n=t.Advance)&&void 0!==n&&null!==(c=n.auth0)&&void 0!==c&&c.isAuthenticated||g(),(null===(s=window)||void 0===s||null===(d=s.Advance)||void 0===d||null===(u=d.auth0)||void 0===u?void 0:u.isAuthenticated)&&window.Advance.auth0.getIdTokenClaims().then((function(e){h=e.__raw,window.addEventListener("swgEntitlementsDone.adi",(function(){b()})),g()})),null!==(f=window)&&void 0!==f&&null!==(p=f.Advance)&&void 0!==p&&null!==(m=p.auth0)&&void 0!==m&&m.isAuthenticated?window.Advance.auth0.getIdTokenClaims().then((function(e){e.__raw!==h&&(h=e.__raw,window.addEventListener("swgEntitlementsDone.adi",(function(){b()})),g())})):(r.state.auth0.hasInit=!0,(0,o.broadcast)("auth0InitTasksDone.adi"),(0,l.removeUserCookies)()),window.addEventListener("auth0Loaded.adi",(function(){window.Advance.debug.auth0_loaded=window.performance.now()})),window.addEventListener("onLogout.adi",(function(){(0,l.removeUserCookies)()}))}},1055:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initPostMessage=void 0;var a=n(964),o=n(968),i=n(970),r=n(977);t.initPostMessage=function(){window.addEventListener("message",(function(e){var t;if(e.origin.match(/tinypass.com|https?\:\/\/localhost/))if("getOfferConfig"===e.data)e.source.postMessage({offerConfig:a.state.offer.config},o.targetOrigin);else if("survey-cta"===(null==e||null===(t=e.data)||void 0===t?void 0:t.type)){var n,l;(0,i.gaEvent)(a.state.modal.type,"action",{},"subscribe"),(0,r.analytics)({version:"modal",template:a.state.modal.type,type:"action",act:"ctaClicked",additionalGA4:{name:a.state.modal.isBlocking?"blocking":"nonblocking"}});var c=window.encodeURI(e.data.href);null!==(n=window.Advance.Cale)&&void 0!==n&&null!==(l=n.request_account)&&void 0!==l&&l.email&&(c+="".concat(c.match(/\?/)?"&":"?","emailexp=").concat(window.encodeURIComponent(window.Advance.Cale.request_account.email))),window.parent.location.href=c}}),!1)}},1056:function(e,t,n){"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.initFunnelHandlers=void 0;var o=n(969),i=n(974),r=n(978),l=n(970),c=n(980),s=n(964),d=n(967),u=n(971),f=F(n(56)),p=n(968),m=n(967),v=n(993),h=n(1057),w=F(n(1058)),g=n(977),b=n(990),y=n(991),_=n(994),k=n(995),E=n(1059),C=n(1060),T=n(1061),S=n(996),A=n(989),x=n(984),O=n(1062),I=n(1063),P=n(1064),L=n(1065),R=n(1066),B=n(1067),N=n(1068);function F(e){return e&&e.__esModule?e:{default:e}}function D(){D=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},l=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof g?t:g,r=Object.create(o.prototype),l=new P(a||[]);return i(r,"_invoke",{value:A(e,n,l)}),r}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",v="executing",h="completed",w={};function g(){}function b(){}function y(){}var _={};d(_,l,(function(){return this}));var k=Object.getPrototypeOf,E=k&&k(k(L([])));E&&E!==n&&o.call(E,l)&&(_=E);var C=y.prototype=g.prototype=Object.create(_);function T(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,r,l,c){var s=f(e[i],e,r);if("throw"!==s.type){var d=s.arg,u=d.value;return u&&"object"==a(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,l,c)}),(function(e){n("throw",e,l,c)})):t.resolve(u).then((function(e){d.value=e,l(d)}),(function(e){return n("throw",e,l,c)}))}c(s.arg)}var r;i(this,"_invoke",{value:function(e,a){function o(){return new t((function(t,o){n(e,a,t,o)}))}return r=r?r.then(o,o):o()}})}function A(t,n,a){var o=p;return function(i,r){if(o===v)throw Error("Generator is already running");if(o===h){if("throw"===i)throw r;return{value:e,done:!0}}for(a.method=i,a.arg=r;;){var l=a.delegate;if(l){var c=x(l,a);if(c){if(c===w)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===p)throw o=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var s=f(t,n,a);if("normal"===s.type){if(o=a.done?h:m,s.arg===w)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(o=h,a.method="throw",a.arg=s.arg)}}}function x(t,n){var a=n.method,o=t.iterator[a];if(o===e)return n.delegate=null,"throw"===a&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==a&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+a+"' method")),w;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,w;var r=i.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,w):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,w)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function n(){for(;++i<t.length;)if(o.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(a(t)+" is not iterable")}return b.prototype=y,i(C,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:b,configurable:!0}),b.displayName=d(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,d(e,s,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},T(S.prototype),d(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,a,o,i){void 0===i&&(i=Promise);var r=new S(u(e,n,a,o),i);return t.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},T(C),d(C,s,"Generator"),d(C,l,(function(){return this})),d(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},t.values=L,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(a,o){return l.type="throw",l.arg=t,n.next=a,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],l=r.completion;if("root"===r.tryLoc)return a("end");if(r.tryLoc<=this.prev){var c=o.call(r,"catchLoc"),s=o.call(r,"finallyLoc");if(c&&s){if(this.prev<r.catchLoc)return a(r.catchLoc,!0);if(this.prev<r.finallyLoc)return a(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return a(r.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return a(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,w):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),w},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),w}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var o=a.arg;I(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,a){return this.delegate={iterator:L(t),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=e),w}},t}function M(e,t,n,a,o,i,r){try{var l=e[i](r),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(a,o)}function H(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function r(e){M(i,a,o,r,l,"next",e)}function l(e){M(i,a,o,r,l,"throw",e)}r(void 0)}))}}var U=function(){if(!s.state.execute.experienceShown)try{var e=JSON.parse(localStorage.getItem("pianoState")),t=s.state.auth0.JWT;return Object.assign(s.state,e),s.state.auth0.JWT=t,!0}catch(e){return console.error(e),!1}return!1};t.initFunnelHandlers=function(e){window.tp.push(["addHandler","experienceExecute",function(e){var t,n,a;if(s.state.execute.experienceShown=!0,s.state.execute.swg=null===(t=e.result)||void 0===t?void 0:t.swgEnabled,e.result&&e.result.events&&Array.isArray(e.result.events)&&e.result.events.length){window.Advance.Piano||(window.Advance.Piano={});var o={};e.result.events.forEach((function(e){var t=e.eventType,n=e.eventParams;t.match(/showOffer|showTemplate/)&&(o.templateId=n.templateId,o.templateVariantId=n.templateVariantId,o.displayMode=n.displayMode,o.experienceId=e.eventExecutionContext.experienceId,s.state.execute.displayMode=n.displayMode,o.showCloseButton=n.showCloseButton),"showOffer"===t&&(o.offerId=n.offerId,s.state.execute.containerSelector=n.containerSelector),"showTemplate"===t&&(s.state.execute.containerSelector=n.containerSelector,o.containerSelector=n.containerSelector)})),Object.keys(o).length&&(window.Advance.Piano=e.result)}var i,r,l,c=null===(n=e.result)||void 0===n||null===(a=n.events)||void 0===a?void 0:a.filter((function(e){return"showOffer"===e.eventType||"showTemplate"===e.eventType}));(null==c?void 0:c.length)>1?((0,v.logErrors)("multipleExperiences"),Array.from(document.getElementsByTagName("iframe")).filter((function(e){return e.id.startsWith("offer")})).forEach((function(e){e.remove()}))):(null===(i=window)||void 0===i||null===(r=i.adiData)||void 0===r||null===(l=r.pageType)||void 0===l?void 0:l.match(/cal|longform-article/))&&f.default.setItem("checkoutRedirectUrl",window.location.href,2592e3,"/");window.dispatchEvent(new CustomEvent("experienceExecuted")),f.default.hasItem("pianoReferralVariant")&&(s.state.execute.referralVariant=f.default.getItem("pianoReferralVariant"))}]);var t=function(e){var t=e.meterName,n=e.totalViews,a=e.maxViews,o=e.views,i=e.viewsLeft,r={};r.meterName=t,r.totalViews=n,s.state.meters.push({meterName:t,totalViews:n,maxViews:a,views:o,viewsLeft:i}),(0,c.dataLayerGA)("pianoMeter"),window.Advance.Piano||(window.Advance.Piano=[]),Object.keys(r).length&&window.Advance.Piano.push(r)},n=function(){var e=H(D().mark((function e(t,n){var a;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.callCaleTemplateData)(t,n);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a=function(){var t=H(D().mark((function t(a){var i,r,l,c,u,f,p,m,v,h,w,g,F,M,H,U,j,G,X,V,W,K,Y,z,J,q,$,Q,Z,ee,te;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.templateId||!a.templateVariantId){t.next=54;break}return t.next=3,n(a.templateId,a.templateVariantId);case 3:if(l=t.sent,c={},l.content_field_list.forEach((function(e){c[e.name]=e.value})),s.state.offer.config=c,u=null===o.templateSettings||void 0===o.templateSettings||null===(i=o.templateSettings[l.name])||void 0===i?void 0:i.type,f=null===o.templateSettings||void 0===o.templateSettings?void 0:o.templateSettings[l.name],u?(s.state.modal.type=u,null!=f&&f.isBlocking&&(H=null!=f&&null!==(M=f.isBlocking)&&void 0!==M&&M.contentField?c[f.isBlocking.value]:f.isBlocking.value,s.state.modal.isBlocking="true"===H),null!=f&&f.isClosable&&(j=null!=f&&null!==(U=f.isClosable)&&void 0!==U&&U.contentField?c[f.isClosable.value]:f.isClosable.value,s.state.modal.closable="true"===j),null!=f&&f.version&&(s.state.modal.version=null!=f&&null!==(G=f.version)&&void 0!==G&&G.contentField?c[f.version.value]:f.version.value),null!=f&&f.newsletterId&&(s.state.modal.newsletterId=null!=f&&null!==(X=f.newsletterId)&&void 0!==X&&X.contentField?c[f.newsletterId.value]:f.newsletterId.value),null!=f&&f.placement&&(s.state.modal.placement=null!=f&&null!==(V=f.placement)&&void 0!==V&&V.contentField?c[f.placement.value]:f.placement.value),null!=f&&f.checkoutBranding&&(s.state.checkout.contentFields.checkoutBranding=null!=f&&f.checkoutBranding?c[f.checkoutBranding.value]:f.checkoutBranding.value),null!=f&&null!==(p=f.receipt)&&void 0!==p&&p.text&&(s.state.checkout.contentFields.receipt.text=null!=f&&null!==(W=f.receipt)&&void 0!==W&&W.text?c[f.receipt.text.value]:f.receipt.text.value),null!=f&&null!==(m=f.receipt)&&void 0!==m&&null!==(v=m.cta)&&void 0!==v&&v.buttonText&&(s.state.checkout.contentFields.receipt.cta.buttonText=null!=f&&null!==(K=f.receipt)&&void 0!==K&&null!==(Y=K.cta)&&void 0!==Y&&Y.buttonText?c[f.receipt.cta.buttonText.value]:f.receipt.cta.buttonText.value),null!=f&&null!==(h=f.receipt)&&void 0!==h&&null!==(w=h.cta)&&void 0!==w&&w.buttonUrl&&(s.state.checkout.contentFields.receipt.cta.buttonUrl=null!=f&&null!==(z=f.receipt)&&void 0!==z&&null!==(J=z.cta)&&void 0!==J&&J.buttonUrl?c[f.receipt.cta.buttonUrl.value]:f.receipt.cta.buttonUrl.value),null!=f&&null!==(g=f.receipt)&&void 0!==g&&null!==(F=g.cta)&&void 0!==F&&F.buttonType&&(s.state.checkout.contentFields.receipt.cta.buttonType=null!=f&&null!==(q=f.receipt)&&void 0!==q&&null!==($=q.cta)&&void 0!==$&&$.buttonType?c[f.receipt.cta.buttonType.value]:f.receipt.cta.buttonType.value),null!=f&&f.authSource&&(s.state.modal.authSource=null!=f&&null!==(Q=f.authSource)&&void 0!==Q&&Q.contentField?c[f.authSource.value]:f.authSource.value),null!=f&&f.subex&&(s.state.modal.subex=null!=f&&null!==(Z=f.subex)&&void 0!==Z&&Z.contentField?c[f.subex.value]:f.subex.value)):(console.error("result name:".concat(l.name," not found")),s.state.modal.type=l.name.toLowerCase().replace(/\s+/g,"")),s.state.modal.isBlocking=(0,d.isTemplateBlocking)(s.state.modal.isBlocking),ee=Array.from(document.getElementsByTagName("iframe")).filter((function(e){return e.id.startsWith("offer")})),!(te=null==ee||null===(r=ee[0])||void 0===r?void 0:r.id)){t.next=54;break}s.state.modal.iframeId,(0,d.initSophiGA)(s.state),t.t0=s.state.modal.type,t.next="bottomfixed"===t.t0?19:"bottomfixedoffer"===t.t0?21:"dynamicoffer"===t.t0?23:"landingpageoffer"===t.t0?25:"toggleOfferThreeOffers"===t.t0||"landingpageoffer-3offer"===t.t0?27:"onlineNewspaper"===t.t0?29:"toggleOffer"===t.t0?31:"emailwall"===t.t0?33:"inarticle"===t.t0?35:"interceptblocker"===t.t0?37:"interceptbloffer"===t.t0?39:"newslettersignup"===t.t0?41:"productadoption"===t.t0?43:"propensityblockeroffer"===t.t0?45:"radiooffer"===t.t0?47:"signinmodal"===t.t0?49:"survey"===t.t0?51:53;break;case 19:return(0,b.bottomFixed)(e,s.state.modal.isBlocking),t.abrupt("break",54);case 21:return(0,y.bottomFixedOffer)(s.state.modal.isBlocking),t.abrupt("break",54);case 23:return(0,_.dynamicOffer)(te,s.state.modal.isBlocking),t.abrupt("break",54);case 25:return(0,k.landingPageOffer)(te,s.state.modal.isBlocking),t.abrupt("break",54);case 27:return(0,E.toggleOfferThreeOffers)(te,s.state.modal.isBlocking),t.abrupt("break",54);case 29:return(0,C.onlineNewspaper)(te,s.state.modal.isBlocking),t.abrupt("break",54);case 31:return(0,T.toggleOffer)(te,s.state.modal.isBlocking),t.abrupt("break",54);case 33:return(0,S.emailWall)(s.state.modal.isBlocking),t.abrupt("break",54);case 35:return(0,A.inArticle)(s.state.modal.isBlocking),t.abrupt("break",54);case 37:return(0,x.interceptBlocker)(s.state.modal.isBlocking),t.abrupt("break",54);case 39:return(0,O.interceptBlockerOffer)(te,s.state.modal.isBlocking),t.abrupt("break",54);case 41:return(0,I.newsletterSignup)(e),t.abrupt("break",54);case 43:return(0,P.productAdoption)(e),t.abrupt("break",54);case 45:return(0,L.propensityBlockerOffer)(s.state.modal.isBlocking),t.abrupt("break",54);case 47:return(0,R.radioOffer)(s.state.modal.isBlocking),t.abrupt("break",54);case 49:return(0,B.signInModal)(s.state.modal.isBlocking),t.abrupt("break",54);case 51:return(0,N.survey)(s.state.modal.isBlocking),t.abrupt("break",54);case 53:return t.abrupt("break",54);case 54:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();tp.push(["addHandler","meterExpired",t]),tp.push(["addHandler","meterActive",t]),window.tp.push(["addHandler","showOffer",function(e){a(e),localStorage.removeItem("resourceName"),f.default.setItem("_pc_offerlanded",e.templateVariantId,2592e3,"/"),s.state.execute.offerId=e.offerId,s.state.execute.template=e.templateId,s.state.execute.variant=e.templateVariantId,s.state.execute.experience=e.experienceId,(0,i.callCaleOffer)(e.offerId).then((function(e){s.state.offer.isTrial=Boolean(e.terms.find((function(e){return"TRIAL"===e})))}))}]),window.tp.push(["addHandler","showTemplate",function(e){a(e),s.state.execute.template=e.templateId,s.state.execute.variant=e.templateVariantId,s.state.execute.experience=e.experienceId,s.state.offer.isTrial=void 0}]),window.tp.push(["addHandler","loginRequired",function(e){var t,n;if(null!==(t=window.Advance)&&void 0!==t&&null!==(n=t.auth0)&&void 0!==n&&n.isAuthenticated)(0,i.callCaleMultipleAccounts)().then((function(e){null!=e&&e.results.length?(localStorage.setItem("multipleAccounts",JSON.stringify(e.results)),window.location.href="/multipleaccounts"):window.location.href="".concat(window.location.origin,"/auth-error?error=mismatch-uid")})).catch((function(e){console.info(e)}));else if(e.offerType){!function(e){s.state.piano.loginData=e,f.default.setItem("login_term",encodeURIComponent(JSON.stringify(e)),300);var t=JSON.stringify(s.state);localStorage.setItem("pianoState",t)}(e);var a=localStorage.getItem("_lr_env"),o=localStorage.getItem("_lr_fb_env");a&&null===o&&localStorage.removeItem("_lr_env"),(0,r.loginWithRedirect)({blueConicId:s.state.blueConic.id,screen_hint:"signup"})}else window.location.href="".concat(window.location.origin,"/auth-error")}]),window.tp.push(["addHandler","startCheckout",function(e){var t=document.getElementsByClassName("tp-modal")[0];t&&t.classList.add("tp-modal--checkout");var n,a,o,r,d,u,p,v,h,w=e.url,b=e.type,y=new Date,_=(a=function(e){return e<10?"0".concat(e):e},o=(n=y).getUTCFullYear(),r=a(n.getUTCMonth()+1),d=a(n.getUTCDate()),u=a(n.getUTCHours()),p=a(n.getUTCMinutes()),v=a(n.getUTCSeconds()),h=String(n.getUTCMilliseconds()).padStart(3,"0"),"".concat(o,"-").concat(r,"-").concat(d,"T").concat(u,":").concat(p,":").concat(v,".").concat(h,"+00:00"));console.info(_);var k={name:"checkout",action:"shown",type:b,URL:w,entry_id:localStorage.getItem("lastArticleId"),article_date_viewed:_};e.userToken&&(U(),(0,m.isSelfService)()||(0,l.gaEvent)("subscription","checkoutShown",{},"payment")),f.default.setItem("_pc_checkoutlanded",e.templateVariantId,2592e3,"/"),setTimeout((0,g.analytics)({template:s.state.modal.type,cat:"checkout",type:"shown",additionalGA4:k}),2e3),(0,i.callCaleAbandonment)(),s.state.checkout.resourceName=localStorage.getItem("resourceName"),(0,c.dataLayerGA)("resource-name"),localStorage.removeItem("resourceName")}]),window.tp.push(["addHandler","checkoutStateChange",function(e){var t,n,a,o,r,l=window.document.querySelector(".tp-modal > .tp-iframe-wrapper iframe");switch(l&&(s.state.checkout.iframeId=l.id),e.stateName){case"offer":(0,c.dataLayerGA)("checkout-offerShown");break;case"state2":s.state.checkout.resourceDescription=null===(t=e.term)||void 0===t||null===(n=t.resource)||void 0===n||null===(a=n.description)||void 0===a||null===(o=a.split("\n"))||void 0===o||null===(r=o[2])||void 0===r?void 0:r.split(";"),s.state.checkout.redirectURL=f.default.hasItem("checkoutRedirectUrl")?f.default.getItem("checkoutRedirectUrl"):"",(0,p.sendPostMessageToPiano)(s.state.checkout.iframeId,!0,"",s.state.checkout);var d=U();if(s.state.offer.selectedTerm=e.term,e.term){var m=e.term;if(m.name&&(s.state.checkout.termName=m.name),m.termId&&(s.state.checkout.termId=m.termId),1===m.billingPlanTable.length&&(m.chargeAmount&&(s.state.checkout.chargeAmount=(0,u.financial)(m.chargeAmount).toString()),m.taxAmount&&(s.state.checkout.taxAmount=m.taxAmount)),m.billingPlanTable.length>1&&Object.keys(m.billingPlanTable[0]).length>0&&Object.keys(m.billingPlanTable[1]).length>0){var v=m.billingPlanTable[0],h=m.billingPlanTable[1];v.price&&(s.state.checkout.promoPrice=v.price.substring(1)),v.billingPeriod&&(s.state.checkout.promoBillingPeriod=v.billingPeriod),v.duration&&(s.state.checkout.promoPriceTerm=v.duration),h.priceValue&&(s.state.checkout.chargeAmount=(0,u.financial)(h.priceValue).toString())}}d||(0,c.dataLayerGA)("offer-selected"),s.state.auth0.JWT&&(0,c.dataLayerGA)("checkout-shown");break;case"receipt":var w=new URL(document.location).searchParams.get("redirect_url")||localStorage.getItem("lastArticleUrl");if(s.state.checkout.iframeId){var g,b,y,_,k=null===(g=window)||void 0===g||null===(b=g.Advance)||void 0===b||null===(y=b.Cale)||void 0===y||null===(_=y.request_account)||void 0===_?void 0:_.uid;s.state.checkout.isDownload=document.location.pathname.match(/imagedownload/),w&&(s.state.checkout.redirectURL="".concat(w,"&subscribed=").concat(encodeURIComponent(k))),(0,p.sendPostMessageToPiano)(s.state.checkout.iframeId,!0,"",s.state.checkout)}var E=window._matherq||[];window._matherq=E,window._matherq.push(["paywallEvent",{category:"payment",action:"completed"}]),(0,c.dataLayerGA)("checkout-receiptShown"),(0,i.callCaleEntitlements)()}}]),window.tp.push(["addHandler","checkoutComplete",function(e){var t,n,a,o,r,l,d,u,p,m,v,w=document.getElementsByClassName("tp-modal")[0];w&&w.classList.add("tp-modal--checkout"),s.state.templateVariantId&&f.default.setItem("_pc_receiptlanded",s.state.templateVariantId,2592e3,"/"),(0,i.callCaleEntitlements)(e.rid);var b=!s.state.offer.selectedTerm||"TRIAL"===s.state.offer.selectedTerm.resource.name,y="Day Pass"===(null===(t=s.state.offer)||void 0===t||null===(n=t.selectedTerm)||void 0===n||null===(a=n.resource)||void 0===a?void 0:a.name)||"al"===(null===(o=window)||void 0===o||null===(r=o.adiData)||void 0===r?void 0:r.affiliate)&&["DAY PASS-BHAM","DAY PASS-HUNT","DAY PASS-MOB"].includes(null===(l=s.state.offer)||void 0===l||null===(d=l.selectedTerm)||void 0===d||null===(u=d.resource)||void 0===u?void 0:u.name),_="Upgrade"===(null===(p=s.state.offer)||void 0===p||null===(m=p.selectedTerm)||void 0===m||null===(v=m.resource)||void 0===v?void 0:v.name);e.termConversionId&&(s.state.checkout.termConversionId=e.termConversionId),e.chargeCurrency&&(s.state.checkout.currency=e.chargeCurrency),!b&&!y&&(0,c.dataLayerGA)("checkoutComplete");var k=localStorage.getItem("lastArticleId"),E=localStorage.getItem("lastArticleUrl"),C=localStorage.getItem("lastArticleAuthor"),T=localStorage.getItem("lastArticleHeadline");if(b){(0,c.dataLayerGA)("checkoutComplete-Trial");var S={name:"checkout",action:"paid",type:"trial",entry_id:k,URL:e.cookie_domain,article_date_viewed:e.startedAt,last_viewed_url:E,last_viewed_headline:T,last_viewed_author:C,last_viewed_entry_id:k};(0,g.analytics)({template:s.state.modal.type,cat:"checkout",type:"paid",additionalGA4:S})}else if(y){(0,c.dataLayerGA)("checkoutComplete-DayPass");var A={name:"checkout",action:"paid",type:"daypass",URL:e.cookie_domain,article_date_viewed:e.startedAt,last_viewed_url:E,last_viewed_headline:T,last_viewed_author:C,last_viewed_entry_id:k};(0,g.analytics)({template:s.state.modal.type,cat:"checkout",type:"paid",additionalGA4:A})}else if(_){(0,c.dataLayerGA)("checkoutComplete-Upgrade");var x={name:"checkout",action:"paid",type:"upgrade",URL:e.cookie_domain,article_date_viewed:e.startedAt,last_viewed_url:E,last_viewed_headline:T,last_viewed_author:C,last_viewed_entry_id:k};(0,g.analytics)({template:s.state.modal.type,cat:"checkout",type:"paid",additionalGA4:x})}else{localStorage.getItem("_lr_fb_env")&&localStorage.getItem("_lr_env")&&(0,h.sendFBConversion)(s.state.checkout.currency,s.state.checkout.chargeAmount,e.termConversionId,s.state.execute.offerId),(0,c.dataLayerGA)("checkoutComplete-Paid");var O={name:"checkout",action:"paid",type:"subscription",URL:e.cookie_domain,article_date_viewed:e.startedAt,last_viewed_url:E,last_viewed_headline:T,last_viewed_author:C,last_viewed_entry_id:k};(0,g.analytics)({template:s.state.modal.type,cat:"checkout",type:"paid",additionalGA4:O})}if(window.PARSELY&&window.PARSELY.loaded){var I="subscription_checkoutComplete_paid";b&&(I="subscription_checkoutComplete_trial"),y&&(I="subscription_checkoutComplete_dayPass"),PARSELY.conversions.trackSubscription(I)}var P=b?"isTrial":y?"isDayPass":"isSubscription";window.Advance.Sophi.payment(e.termConversionId,P),b?window.Advance.Sophi.setUserEvent("registration"):window.Advance.Sophi.setUserEvent("subscription")}]),window.tp.push(["addHandler","externalCheckoutComplete",function(e){if("swg"===e.type&&tp.pianoIdLite.isUserValid()){var t=(0,w.default)(tp.pianoIdLite.getToken()),n={login_hint:null==t?void 0:t.email,connection:"google-oauth2",authSource:"piano-swg"};(0,r.loginWithRedirect)(n)}}])}},1057:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendFBConversion=void 0;var a,o=(a=n(56))&&a.__esModule?a:{default:a};t.sendFBConversion=function(e,t,n,a){var i=o.default.getItem("_fbp")||"",r=o.default.getItem("_fbc")||"",l=localStorage.getItem("_lr_fb_env"),c=l&&JSON.parse(atob(l)).envelope,s=Math.round(Date.now()/1e3),d=window.adiData.entryId,u=window.adiData.entryUrl,f=window.location.href;u.match(/.*\/[0-9]{4}\/[0-9]{2}\/.*/)&&(f=f.replace(/[^/]*$/,d));var p={events:[{event_name:"Purchase",event_time:s,event_source_url:f,event_id:n,pixel_id:"120978121945017",user_data:{client_user_agent:"Mozilla/5.0 (X11; Linux x86_64) Chrome/98.0.4758.102 Safari/537.36",external_id:c,partner_name:"liveramp",fbp:i,fbc:r},custom_data:[{key:"currency",value:e},{key:"value",value:t},{key:"custom_properties",value:{offer_code:a}}],customer_information:[]}],partner_agent:"liveramp"};fetch("https://fb-capi.analytics.rlcdn.com/send-events/f4105e35-d596-4694-b9a4-ed81ae9873a1",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)}).then((function(e){return e.json()})).then((function(e){console.info("Success:",e)})).catch((function(e){console.error("Error:",e)}))}},1058:function(e,t,n){"use strict";function a(e){this.message=e}n.r(t),n.d(t,"InvalidTokenError",(function(){return r})),a.prototype=new Error,a.prototype.name="InvalidCharacterError";var o="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new a("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,o,i=0,r=0,l="";o=t.charAt(r++);~o&&(n=i%4?64*n+o:o,i++%4)?l+=String.fromCharCode(255&n>>(-2*i&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return l};function i(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(o(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return o(t)}}function r(e){this.message=e}r.prototype=new Error,r.prototype.name="InvalidTokenError",t.default=function(e,t){if("string"!=typeof e)throw new r("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(i(e.split(".")[n]))}catch(e){throw new r("Invalid token specified: "+e.message)}}},1059:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleOfferThreeOffers=void 0;var a=n(964),o=n(967),i=n(966),r=n(968);t.toggleOfferThreeOffers=function(e,t){!function(e){var t,n,a,o="google-oauth2"===(null===(t=window)||void 0===t||null===(n=t.Advance)||void 0===n||null===(a=n.auth0)||void 0===a?void 0:a.getTokenClaimField("connection"));(0,r.sendPostMessageToPiano)(e,!0,"",{isGoogleSignIn:o})}(e),(0,i.matherWall)(t),window.addEventListener("hasArticleAccess.adi",(function(){"toggleOfferThreeOffers"===a.state.modal.type&&"modal"===a.state.execute.displayMode&&(a.state.execute.containerSelector?(0,o.removeModal)(a.state.execute.containerSelector):(0,o.removeModal)())}))}},1060:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onlineNewspaper=void 0;var a=n(964),o=n(967),i=n(966);t.onlineNewspaper=function(e){(0,i.matherWall)(e),window.addEventListener("hasArticleAccess.adi",(function(){"onlineNewspaper"===a.state.modal.type&&"modal"===a.state.execute.displayMode&&(a.state.execute.containerSelector?(0,o.removeModal)(a.state.execute.containerSelector):(0,o.removeModal)())}))}},1061:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleOffer=void 0;var a=n(964),o=n(967),i=n(966),r=n(968);t.toggleOffer=function(e,t){!function(e){var t,n,a,o="google-oauth2"===(null===(t=window)||void 0===t||null===(n=t.Advance)||void 0===n||null===(a=n.auth0)||void 0===a?void 0:a.getTokenClaimField("connection"));(0,r.sendPostMessageToPiano)(e,!0,"",{isGoogleSignIn:o})}(e),(0,i.matherWall)(t),window.addEventListener("hasArticleAccess.adi",(function(){"toggleOffer"===a.state.modal.type&&"modal"===a.state.execute.displayMode&&(a.state.execute.containerSelector?(0,o.removeModal)(a.state.execute.containerSelector):(0,o.removeModal)())}))}},1062:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.interceptBlockerOffer=void 0;var a=n(966),o=n(968);t.interceptBlockerOffer=function(e,t){!function(e){var t,n,a,i="google-oauth2"===(null===(t=window)||void 0===t||null===(n=t.Advance)||void 0===n||null===(a=n.auth0)||void 0===a?void 0:a.getTokenClaimField("connection"));(0,o.sendPostMessageToPiano)(e,!0,"",{isGoogleSignIn:i})}(e),(0,a.matherWall)(t)}},1063:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newsletterSignup=void 0;var a=n(964);t.newsletterSignup=function(e){var t=document.getElementById("".concat(a.state.execute.containerSelector.substring(1))).getAttribute("data-gaid");adiTrack.populate("piano_nudge","true"===a.state.modal.subex?"subex_nltr":"free_nltr",{selectorId:t,enabled:null==e?void 0:e["next-best-action-onoff"]})}},1064:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.productAdoption=void 0;var a,o=n(964),i=n(967),r=(a=n(981))&&a.__esModule?a:{default:a};n(979);t.productAdoption=function(e){var t=document.getElementById("".concat(o.state.execute.containerSelector.substring(1))),n=document.getElementById("InFeed_Center_Wide_Adhesion_1"),a=n&&"none"!==n.style.display;if("bottomfixed"===o.state.modal.placement&&t&&!a)if(t.classList.remove("bottom-fixed-modal--hidden"),o.state.modal.closable)var l=document.body.addEventListener("click",(function(){(0,i.removeModal)("".concat(o.state.execute.containerSelector),!1),l.removeEventListener("click",l)}),!1);else t.classList.add("bottom-fixed-modal--background");else"bottomfixed"===o.state.modal.placement&&bottomFixed&&a&&(0,i.removeModal)("".concat(o.state.execute.containerSelector));var c=t.getAttribute("data-gaid");r.default.populate("piano_nudge",{apps:"download_app",emailalerts:"custom_alerts",gifting:"article_gift",puzzles:"puzzles",readlater:"article_save"}[o.state.modal.version],{selectorId:c,enabled:null==e?void 0:e["next-best-action-onoff"]})}},1065:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.propensityBlockerOffer=void 0;var a=n(966);t.propensityBlockerOffer=function(e){(0,a.matherWall)(e)}},1066:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.radioOffer=void 0;var a=n(966);t.radioOffer=function(e){(0,a.matherWall)(e)}},1067:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signInModal=void 0;var a=n(967),o=n(966);t.signInModal=function(e){(0,o.matherWall)(e),(0,a.freezeBackground)()}},1068:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.survey=void 0;var a=n(966);t.survey=function(e){(0,a.matherWall)(e)}},1069:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initCustomEventsHandler=void 0;var a=n(964),o=n(1070),i=n(996),r=n(984),l=n(967),c=n(970),s=n(980),d=n(977),u=v(n(981)),f=v(n(56)),p=n(1071),m=n(978);function v(e){return e&&e.__esModule?e:{default:e}}t.initCustomEventsHandler=function(e){window.tp.push(["addHandler","customEvent",function(t){var n;switch(null!==(n=t.params)&&void 0!==n&&n.resource&&(a.state.checkout.resourceName=t.params.resource,!window.Advance.auth0.user&&localStorage.setItem("resourceName",t.params.resource),(0,s.dataLayerGA)("resource-name")),t.eventName){case"upgrade-cancel":(0,l.isSelfService)()&&(0,c.gaEvent)("survey_confirmation","action",{option:"cancel"},"self-service"),a.state.execute.containerSelector?(0,l.removeModal)(a.state.execute.containerSelector):(0,l.removeModal)();break;case"upgrade-complete":(0,l.isSelfService)()&&(0,c.gaEvent)("survey_confirmation","action",{option:"offer"},"self-service");break;case"redirect-myaccount":(0,c.gaEvent)("survey_offer","action",{option:"cancel"},"self-service"),(0,d.analytics)({version:"modal",template:a.state.modal.type,type:"action",act:"cancelClicked",additionalGA4:{name:a.state.modal.isBlocking?"blocking":"nonblocking"}}),window.location.href="".concat(window.location.origin,"/manageaccount/?isSelfService=true");break;case"login":var v,h;"newslettersignup"===(null===(v=t.params)||void 0===v?void 0:v.source)&&u.default.interact("piano_nudge","subex_nltr",{selectorId:a.state.execute.containerSelector.substring(1),enabled:null==e?void 0:e["next-best-action-onoff"]}),(0,d.analytics)({version:"modal",template:a.state.modal.type,type:"action",act:"signInClicked",additionalGA4:{name:a.state.modal.isBlocking?"blocking":"nonblocking"}});var w={isSignIn:!0};(null===a.state||void 0===a.state||null===(h=a.state.modal)||void 0===h?void 0:h.authSource)&&(w.authSource=a.state.modal.authSource),(0,m.loginWithRedirect)(w);break;case"createaccount":var g;(0,d.analytics)({version:"modal",template:a.state.modal.type,type:"action",act:"createAccountClicked",additionalGA4:{name:a.state.modal.isBlocking?"blocking":"nonblocking"}});var b={screen_hint:"signup"};(null===a.state||void 0===a.state||null===(g=a.state.modal)||void 0===g?void 0:g.authSource)&&(b.authSource=a.state.modal.authSource),(0,m.loginWithRedirect)(b);break;case"relogin":var y;(0,d.analytics)({version:"modal",template:a.state.modal.type,type:"action",act:"reloginClicked",additionalGA4:{name:a.state.modal.isBlocking?"blocking":"nonblocking"}});var _={returnTo:"".concat(window.location.origin,"/login?returnTo=").concat(encodeURIComponent(window.location.href)).concat((null===a.state||void 0===a.state||null===(y=a.state.modal)||void 0===y?void 0:y.authSource)&&"&authSource=".concat(encodeURIComponent(a.state.modal.authSource)))};window.Advance.auth0.adiLogout(_);break;case"logout":window.Advance.auth0.adiLogout();break;case"continueReading":document.getElementById(a.state.execute.landingPageId)?window.location.href=window.location.origin:tp.reload();break;case"newsletterSignup":u.default.interact("piano_nudge","true"===a.state.modal.subex?"subex_nltr":"free_nltr",{selectorId:a.state.execute.containerSelector.substring(1),enabled:null==e?void 0:e["next-best-action-onoff"]}),(0,d.analytics)({version:"modal",template:a.state.modal.type,type:"action",act:"ctaClicked",additionalGA4:{name:a.state.modal.isBlocking?"blocking":"nonblocking"}}),(0,o.subscribeNewsletter)(t.params);break;case"top-message-strip-subscribe":case"bottom-fixed-offer-subscribe":(0,d.analytics)({version:"modal",template:a.state.modal.type,type:"action",act:"ctaClicked",additionalGA4:{name:a.state.modal.isBlocking?"blocking":"nonblocking"}});break;case"bottom-fixed-cta":u.default.interact("piano_nudge","act_mgmt",{selectorId:a.state.execute.containerSelector.substring(1),enabled:null==e?void 0:e["next-best-action-onoff"]}),(0,d.analytics)({version:"modal",template:a.state.modal.type,type:"action",act:"ctaClicked",additionalGA4:{name:a.state.modal.isBlocking?"blocking":"nonblocking"}}),window.location.href=t.params.href;break;case"bottom-fixed-subscribe":case"in-article-subscribe":case"in-article-cta":case"propensity-offer-clicked":case"signin-subscribe":case"emailwall-subscribe":(0,d.analytics)({version:"modal",template:a.state.modal.type,type:"action",act:"ctaClicked",additionalGA4:{name:a.state.modal.isBlocking?"blocking":"nonblocking"}}),window.location.href=t.params.href;break;case"propensity-cta-clicked":(0,d.analytics)({version:"modal",template:a.state.modal.type,type:"action",act:"ctaClicked",additionalGA4:{name:a.state.modal.isBlocking?"blocking":"nonblocking",type:"viewmore"}}),window.location.href=t.params.href;break;case"productadoption-emailalerts":case"productadoption-gifting":case"productadoption-puzzles":case"productadoption-readlater":case"productadoption-ios":case"productadoption-android":u.default.interact("piano_nudge",{apps:"download_app",emailalerts:"custom_alerts",gifting:"article_gift",puzzles:"puzzles",readlater:"article_save"}[a.state.modal.version],{selectorId:"bottomfixed"===a.state.modal.placement?"bottom-fixed-modal":"inarticle"===a.state.modal.placement?a.state.execute.containerSelector.substring(1):"",enabled:null==e?void 0:e["next-best-action-onoff"]});var k=t.eventName.match(/productadoption-ios|productadoption-android/)?"apps":t.params.target;(0,d.analytics)({version:"modal",template:a.state.modal.type,type:"action",act:"ctaClicked",additionalGA4:{name:a.state.modal.isBlocking?"blocking":"nonblocking",version:k}}),window.location.href=t.params.href;break;case"intercept-blocker-subscribe":var E={newsletter:a.state.modal.newsletterId};"newsletter"===a.state.modal.version&&(E.version="newsletter_optin"),"subscribe"===a.state.modal.version&&(E.version="subscription_offer"),(0,d.analytics)({version:"modal",template:a.state.modal.type,type:"action",act:"ctaClicked",additionalGA4:{name:a.state.modal.isBlocking?"blocking":"nonblocking"}}),"content-blocker"===a.state.modal.placement&&f.default.setItem("pianoReferralVariant",a.state.execute.variant,(0,p.maxAgeToGMT)(30),"/"),window.location.href=t.params.href;break;case"intercept-blocker-wall":(0,r.setInterceptBlockerWall)(t.params),(0,s.dataLayerGA)("subscription"),(0,d.analytics)({version:"modal",template:a.state.modal.type,type:"action",act:"ctaClicked",additionalGA4:{name:a.state.modal.isBlocking?"blocking":"nonblocking"}});break;case"dynamic-offer-clicked":(0,l.isSelfService)()?(0,c.gaEvent)("survey_offer","action",{option:"offer"},"self-service"):(0,d.analytics)({version:"modal",template:a.state.modal.type,type:"action",act:"ctaClicked",additionalGA4:{name:a.state.modal.isBlocking?"blocking":"nonblocking"}}),(0,s.dataLayerGA)("subscription").then((function(){"upgrade"===t.params.type&&(window.location.href=t.params.href)}));break;case"radio-offer-clicked":case"intercept-blocker-offer-clicked":(0,d.analytics)({version:"modal",template:a.state.modal.type,type:"action",act:"ctaClicked",additionalGA4:{name:a.state.modal.isBlocking?"blocking":"nonblocking"}}),(0,s.dataLayerGA)("subscription");break;case"diagnostic-modal":var C=new CustomEvent("adv-launchDiagModal");window.dispatchEvent(C);break;case"close-modal":(0,d.analytics)({version:"modal",template:a.state.modal.type,type:"action",act:"closeClicked",additionalGA4:{name:a.state.modal.isBlocking?"blocking":"nonblocking"}}),a.state.execute.containerSelector?(0,l.removeModal)(a.state.execute.containerSelector):(0,l.removeModal)();break;case"redirect-home":var T;if((0,d.analytics)({version:"modal",template:a.state.modal.type,type:"action",act:"ctaClicked",additionalGA4:{name:a.state.modal.isBlocking?"blocking":"nonblocking"}}),"home"!==t.params.href&&t.params.href||(T="https://".concat(window.location.hostname)),"redirect"===t.params.href){var S=new URLSearchParams(document.location.search.substring(1)).get("redirect_url");S&&(T=S)}window.top.location=T;break;case"emailwall":(0,d.analytics)({version:"modal",template:a.state.modal.type,type:"action",act:"emailSubmitted",additionalGA4:{name:a.state.modal.isBlocking?"blocking":"nonblocking"}}),(0,i.setEmailWall)(t.params);break;case"setPaymentType":a.state.checkout.paymentType=t.params.paymenttype,(0,c.gaEvent)("subscription","paymentType",{paymentType:t.params.paymenttype},"payment");break;case"receipt-survey-cta":var A,x,O=window.encodeURI(t.params.href);null!==(A=window.Advance.Cale)&&void 0!==A&&null!==(x=A.request_account)&&void 0!==x&&x.email&&(O+="".concat(O.match(/\?/)?"&":"?","emailexp=").concat(window.encodeURIComponent(window.Advance.Cale.request_account.email))),window.location.href=O}}])}},1070:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeNewsletter=function(e){var t=(0,c.isDataJSON)(e.params);if(t.success){var n=t.results.iframeId,a=void 0!==e.email&&e.email.length>0&&e.email,u="undefined"!==e.newsletter&&e.newsletter.length>0&&e.newsletter;n&&(a&&u?(d.state.modal.email=a,(0,r.dataLayerGA)("newsletter"),(0,o.callCaleNewsletterSubscribe)(a,u).then((function(e){var t,o,r,c,f,p,m,v,h,w,g,b;if(null!==(t=e.results)&&void 0!==t&&null!==(o=t.subscribe)&&void 0!==o&&o.response&&null!==(r=e.results)&&void 0!==r&&null!==(c=r.subscribe)&&void 0!==c&&c.record_added||null!==(f=e.results)&&void 0!==f&&null!==(p=f.confirm_subscribe)&&void 0!==p&&p.response&&null!==(m=e.results)&&void 0!==m&&null!==(v=m.confirm_subscribe)&&void 0!==v&&v.record_added||null!==(h=e.results)&&void 0!==h&&null!==(w=h.confirm_subscribe)&&void 0!==w&&w.response&&null!==(g=e.results)&&void 0!==g&&null!==(b=g.confirm_subscribe)&&void 0!==b&&b.confirmation_sent_record_added){d.state.modal.email=a,s.default.setItem("pc_breakingnews_complete","true",7776e3,"/");var y={newsletter:d.state.modal.newsletterId};"newsletter"===d.state.modal.version?(y.version="newsletter_optin",(0,i.gaEvent)(d.state.modal.type,"action",y,"onboarding")):"subscribe"===d.state.modal.version?(y.version="subscription_offer",(0,i.gaEvent)(d.state.modal.type,"action",y,"subscribe")):(0,i.gaEvent)(d.state.modal.type,"action",y,"onboarding"),(0,l.sendPostMessageToPiano)(n,!0,"Thank you for subscribing!",{type:"newsletter",email:a,newsletterId:u})}else(0,l.sendPostMessageToPiano)(n,!1,"This email address is already subscribed.",{type:"newsletter",email:a,newsletterId:u})})).catch((function(e){(0,l.sendPostMessageToPiano)(n,!1,"Internal server error. Please try again later.",{type:"newsletter",email:a,newsletterId:u,errorlog:e})}))):a?u||(0,l.sendPostMessageToPiano)(n,!1,"Internal server error. Please try again later.",{type:"newsletter",email:a,newsletterId:u,errorlog:"missing or invalid newsletterId"}):(0,l.sendPostMessageToPiano)(n,!1,"Please enter a valid email address.",{type:"newsletter",email:a,newsletterId:u,errorlog:"missing or invalid email address"}))}};var a,o=n(974),i=n(970),r=n(980),l=n(968),c=n(971),s=(a=n(56))&&a.__esModule?a:{default:a},d=n(964)},1071:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maxAgeToGMT=void 0;t.maxAgeToGMT=function(e){return e===1/0?"Fri, 31 Dec 9999 23:59:59 GMT":new Date(1e3*e+Date.now()).toUTCString()}},1072:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initAuth0=void 0;t.initAuth0=function(){tp=window.tp||[],tp.push(["setUseTinypassAccounts",!1]),tp.push(["setUsePianoIdUserProvider",!1]),tp.push(["setUsePianoIdLiteUserProvider",!0])}},1075:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var a=n(1047),o=n(984),i=n(989),r=n(990),l=n(991),c=n(1054),s=n(1055),d=n(1056),u=n(1069),f=n(994),p=n(995),m=n(1072),v=n(992),h=n(964);window.tp=window.tp||[];t.init=function(e){var t;(t=window.Advance).debug||(t.debug={}),e["piano-onoff"]&&function(e){h.state.isGAOff=e["ga-aditrack-onoff"],(0,c.initAuthListeners)(e),(0,a.initLocalStorage)(),(0,o.initInterceptBlockerModal)(),(0,i.initInArticleModal)(),(0,r.initBottomFixedModal)(),(0,l.initBottomFixedOfferModal)(),(0,f.initDynamicOffer)(),(0,p.initLandingPageOffer)(),(0,s.initPostMessage)(),(0,d.initFunnelHandlers)(e),(0,u.initCustomEventsHandler)(e),(0,m.initAuth0)(),(0,v.loadPiano)(e)}(e)}},964:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.state=void 0;t.state={isGAOff:!1,pageInit:!1,piano:{hasLoaded:!1,loadPianoCalled:!1,hasInit:!1,loginData:{}},auth0:{hasInit:!1,JWT:null,isLedeSubscriber:!1},blueConic:{id:null},dataLayer:{pushing:!1},execute:{experienceShown:!1,template:"",variant:"",offerId:"",referralVariant:"",experience:"",landingPageId:"piano",containerSelector:"",displayMode:"",swg:""},modal:{iframeId:"",parentContainer:"",type:"",version:"",newsletterId:"",placement:"",closable:!1,email:"",isBlocking:!0},meter:{meterName:"",totalViews:"",maxViews:""},meters:[],offer:{config:{termNum:null},selectedTerm:null,isTrial:null,offerType:null},swg:{entitlements:[]},checkout:{iframeId:"",email:"",complete:{},termId:"",termName:"",termConversionId:"",currency:"",chargeAmount:"",taxAmount:"",promoPrice:void 0,promoBillingPeriod:void 0,promoPriceTerm:void 0,resourceName:void 0,resourceNameCalled:!1,offer:void 0,contentFields:{checkout:{},checkoutBranding:"",receipt:{cta:{}}},isDownload:!1,redirectURL:""},sameEventName:{}}},966:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matherWall=t.initMather=void 0;var a=n(969);t.initMather=function(){var e=window._matherq||[];window._matherq=e,window._matherq.push(["getTracker",function(e){e.setPaywall("piano"),e.getUserDBSegment({})}])},t.matherWall=function(e){var t,n,o=null===(t=window)||void 0===t||null===(n=t.Advance)||void 0===n?void 0:n.auth0.user,i=o&&o["https://www".concat("dev"===a.locationDetails.tier?"-uat":"",".").concat(a.locationDetails.affiliate).concat(a.locationDetails.domain,"/claims/internal_id")];if(e){var r=window._matherq||[];window._matherq=r,window._matherq.push(["paywallEvent",{type:"paywall",category:"block",action:"stop"},{userId:i}])}}},967:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showWaitScreen=t.removeModal=t.isTemplateBlocking=t.isSelfService=t.initSophiGA=t.hideWaitScreen=t.freezeBackground=void 0;var a=n(987),o=n(977);function i(){i=function(){return t};var e,t={},n=Object.prototype,a=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},c=l.iterator||"@@iterator",s=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function f(e,t,n,a){var i=t&&t.prototype instanceof b?t:b,r=Object.create(i.prototype),l=new L(a||[]);return o(r,"_invoke",{value:x(e,n,l)}),r}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var m="suspendedStart",v="suspendedYield",h="executing",w="completed",g={};function b(){}function y(){}function _(){}var k={};u(k,c,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(R([])));C&&C!==n&&a.call(C,c)&&(k=C);var T=_.prototype=b.prototype=Object.create(k);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(o,i,l,c){var s=p(e[o],e,i);if("throw"!==s.type){var d=s.arg,u=d.value;return u&&"object"==r(u)&&a.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,l,c)}),(function(e){n("throw",e,l,c)})):t.resolve(u).then((function(e){d.value=e,l(d)}),(function(e){return n("throw",e,l,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(e,a){function o(){return new t((function(t,o){n(e,a,t,o)}))}return i=i?i.then(o,o):o()}})}function x(t,n,a){var o=m;return function(i,r){if(o===h)throw Error("Generator is already running");if(o===w){if("throw"===i)throw r;return{value:e,done:!0}}for(a.method=i,a.arg=r;;){var l=a.delegate;if(l){var c=O(l,a);if(c){if(c===g)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===m)throw o=w,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=h;var s=p(t,n,a);if("normal"===s.type){if(o=a.done?w:v,s.arg===g)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(o=w,a.method="throw",a.arg=s.arg)}}}function O(t,n){var a=n.method,o=t.iterator[a];if(o===e)return n.delegate=null,"throw"===a&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==a&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var i=p(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var r=i.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(a.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(r(t)+" is not iterable")}return y.prototype=_,o(T,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:y,configurable:!0}),y.displayName=u(_,d,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,u(e,d,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},S(A.prototype),u(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,a,o,i){void 0===i&&(i=Promise);var r=new A(f(e,n,a,o),i);return t.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},S(T),u(T,d,"Generator"),u(T,c,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},t.values=R,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(a,o){return l.type="throw",l.arg=t,n.next=a,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],l=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var c=a.call(r,"catchLoc"),s=a.call(r,"finallyLoc");if(c&&s){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var o=a.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,a){return this.delegate={iterator:R(t),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=e),g}},t}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function l(e,t,n,a,o,i,r){try{var l=e[i](r),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(a,o)}var c=t.freezeBackground=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])document.body.style.top="-".concat(window.scrollY,"px"),document.body.style.left="0px",document.body.style.right="0px",document.body.style.position="fixed";else{var e=document.body.style.top;document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",window.scrollTo(0,-1*parseInt(e||"0",10))}};t.removeModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".tp-modal",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=document.querySelector(e),a=".tp-modal"===e?document.querySelector(".tp-backdrop.tp-active"):null;n&&n.remove(),a&&a.remove(),t&&c(!1)},t.showWaitScreen=function(){var e=document.getElementsByClassName("tp-iframe-wrapper");if(e[0]){if(document.getElementById("adv-wait-screen"))return;var t=document.createElement("div");t.innerHTML='<div id="adv-wait-screen" class="tp-please-wait tp-active "><div class="tp-icon tp-centered"></div></div>',e[0].appendChild(t.firstElementChild)}else ttp.containerUtils&&p.containerUtils.showWaitPanel()},t.hideWaitScreen=function(){var e=document.getElementById("adv-wait-screen");e?e.parentElement.removeChild(e):tp.containerUtils&&tp.containerUtils.hideWaitPanel()},t.isSelfService=function(){var e=window.location.search;return new URLSearchParams(e).get("isSelfService")},t.isTemplateBlocking=function(e){var t,n,a,o=!!((null===(t=window.Fusion)||void 0===t||null===(n=t.metas)||void 0===n||null===(a=n.pageType)||void 0===a?void 0:a.value)||"").match(/article|longform-article/)&&e;return window.Advance.Piano.isBlocking=o,o},t.initSophiGA=function(){var e,t=(e=i().mark((function e(t){var n,l,c,s=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(s.length>1&&void 0!==s[1])||s[1],e.prev=1,e.next=4,(0,a.waitForCondition)((function(){var e,n,a;return(null===(e=window)||void 0===e||null===(n=e.Advance)||void 0===n||null===(a=n.Sophi)||void 0===a?void 0:a.wallHit)&&t.execute.containerSelector&&("boolean"==typeof t.offer.isTrial||void 0===t.offer.isTrial)}),2e3);case 4:if("boolean"!==r(t.offer.isTrial)){e.next=8;break}return window.Advance.Sophi.wallHit(t.modal,t.modal.isBlocking,t.offer.isTrial),e.next=8,(0,a.waitForCondition)((function(){var e,t,n;return null===(e=window)||void 0===e||null===(t=e.Advance)||void 0===t||null===(n=t.Sophi)||void 0===n?void 0:n.wallTypeSent}),3e3);case 8:return e.next=10,window.Advance.Sophi.setDataLayer();case 10:if(n){e.next=12;break}return e.abrupt("return");case 12:c={name:t.modal.isBlocking?"blocking":"nonblocking"},null!=t&&null!==(l=t.offer)&&void 0!==l&&l.offerType&&(c.offer_type=t.offer.offerType),(0,o.analytics)({version:"modal",template:t.modal.type,type:"shown",additionalGA4:c}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.error("Error waiting for sophiGA():",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})),function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function r(e){l(i,a,o,r,c,"next",e)}function c(e){l(i,a,o,r,c,"throw",e)}r(void 0)}))});return function(e){return t.apply(this,arguments)}}()},968:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.targetOrigin=t.sendPostMessageToPiano=t.createEvent=t.broadcast=void 0;var a=n(969),o=t.targetOrigin=a.locationDetails.environment.match(/uat/)?"https://sandbox.tinypass.com":"/local-app/"===window.location.pathname?"http://localhost:8080":"https://buy.tinypass.com",i=(t.sendPostMessageToPiano=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=document.getElementById(e);i&&i.contentWindow.postMessage({piano:{success:t,message:n,object:a}},o)},t.createEvent=function(e,t){if("function"==typeof window.CustomEvent)return new CustomEvent(e,{detail:t});var n={bubbles:!1,cancelable:!1,detail:t},a=document.createEvent("CustomEvent");return a.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),a});t.broadcast=function(){var e=i(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});window.dispatchEvent(e)}},969:function(e,t,n){"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=a(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.templateSettings=t.provider=t.pianoKey=t.pianoEnabled=t.locationDetails=t.endpointApi=t.bcEnabled=t.auth0=void 0;var l,c,s,d,u={al:{affiliate:"al",domain:".com",tier:{dev:{pianoKey:"KGKDMB43fV",auth0:!0,bcEnabled:!0},prod:{pianoKey:"rdx9aWSVf9",auth0:!0,bcEnabled:!0}}},cleveland:{affiliate:"cleveland",domain:".com",tier:{dev:{pianoKey:"Upv3SBLMVo",auth0:!0,bcEnabled:!0},prod:{pianoKey:"FJRWf1RWpu",auth0:!0,bcEnabled:!0}}},gulflive:{affiliate:"gulflive",domain:".com",tier:{dev:{pianoKey:null,bcEnabled:!0},prod:{pianoKey:null,bcEnabled:!0}}},lehighvalleylive:{affiliate:"lehighvalleylive",domain:".com",tier:{dev:{pianoKey:"61meRyrr7V",auth0:!0,bcEnabled:!0},prod:{pianoKey:"K2iJBmBdpu",auth0:!0,pianoEnabled:!0,bcEnabled:!0}}},lonestarlive:{affiliate:"lonestarlive",domain:".com",tier:{dev:{pianoKey:null,bcEnabled:!0},prod:{pianoKey:null,bcEnabled:!0}}},masslive:{affiliate:"masslive",domain:".com",tier:{dev:{pianoKey:"Y0JhXEY0su",auth0:!0,bcEnabled:!0},prod:{pianoKey:"C8WJ5qarpu",auth0:!0,bcEnabled:!0}}},mlive:{affiliate:"mlive",domain:".com",tier:{dev:{pianoKey:"AeIH5h5Zwc",auth0:!0,bcEnabled:!0},prod:{pianoKey:"8Gu2Z8RCvZ",auth0:!0,bcEnabled:!0}}},nj:{affiliate:"nj",domain:".com",tier:{dev:{pianoKey:"wBFQ7hwYsu",auth0:!0,bcEnabled:!0},prod:{pianoKey:"52DlwMcnpu",auth0:!0,bcEnabled:!0}}},newyorkupstate:{affiliate:"newyorkupstate",domain:".com",tier:{dev:{pianoKey:"zDz8TGpNsu",auth0:!0,bcEnabled:!0},prod:{pianoKey:"vyDpFonHpu",auth0:!0,bcEnabled:!0}}},oregonlive:{affiliate:"oregonlive",domain:".com",tier:{dev:{pianoKey:"YPTRqUvNdh",auth0:!0,bcEnabled:!0},prod:{pianoKey:"aUOJ4c05bh",auth0:!0,bcEnabled:!0}}},pennlive:{affiliate:"pennlive",domain:".com",tier:{dev:{pianoKey:"lyiwJjYKFk",auth0:!0,bcEnabled:!0},prod:{auth0:!0,pianoKey:"8MqqMCr7IT",bcEnabled:!0}}},reckonsouth:{affiliate:"reckon",domain:".news",tier:{dev:{pianoKey:"YFlh3jAAsu",auth0:!0,bcEnabled:!0},prod:{pianoKey:"SCCQHH6spu",auth0:!0,bcEnabled:!0}}},silive:{affiliate:"silive",domain:".com",tier:{dev:{pianoKey:"ffR9rbrRMq",auth0:!0,bcEnabled:!0},prod:{pianoKey:"6xYLwrbnpu",auth0:!0,bcEnabled:!0}}},syracuse:{affiliate:"syracuse",domain:".com",tier:{dev:{pianoKey:"3e5ZKAmdJA",auth0:!0,bcEnabled:!0},prod:{pianoKey:"w76gCnIVd6",auth0:!0,bcEnabled:!0}}}},f=t.locationDetails=(c=(null===(l=window.location)||void 0===l?void 0:l.hostname)||"",s=c.includes("-sandbox")||c.includes("-uat")||c.includes("localhost")?"uat":"prod",d=window.adiData.affiliate,{affiliate:u[d].affiliate,environment:s,tier:"uat"===s?"dev":"prod",tierSuffix:"uat"===s?"-uat":"",domain:u[d].domain}),p=u[window.adiData.affiliate].tier[f.tier],m=(t.pianoKey=p.pianoKey,t.pianoEnabled=p.pianoEnabled,t.auth0=p.auth0,t.bcEnabled=p.bcEnabled,t.endpointApi="dev"===f.tier?"https://sandbox.tinypass.com/api/v3":"https://buy.tinypass.com/api/v3",t.provider=r({},"auth0",!0),t.templateSettings={"Active Access":{type:"activeaccess",isBlocking:{contentField:!0,value:"BLOCKING"},isClosable:{contentField:!0,value:"CLOSABLE"}},"Bottom Fixed Message":{type:"bottomfixed",isBlocking:{contentField:!0,value:"BLOCKING"},isClosable:{contentField:!0,value:"CLOSABLE"},version:{contentField:!1,value:"cta"},placement:{contentField:!1,value:"bottom-fixed"},authSource:{contentField:!0,value:"AUTH SOURCE"}},"Bottom Fixed Offer":{type:"bottomfixedoffer",isBlocking:{contentField:!0,value:"BLOCKING"},isClosable:{contentField:!0,value:"CLOSABLE"},checkoutBranding:{contentField:!0,value:"BRAND"},receipt:{text:{contentField:!0,value:"RECEIPT TEXT"},cta:{buttonText:{contentField:!0,value:"RECEIPT CTA BUTTON TEXT"},buttonUrl:{contentField:!0,value:"RECEIPT CTA BUTTON URL"},buttonType:{contentField:!0,value:"RECEIPT CTA BUTTON TYPE"}}},authSource:{contentField:!0,value:"AUTH SOURCE"}},"Dynamic Offer":{type:"dynamicoffer",isBlocking:{contentField:!0,value:"BLOCKING"},isClosable:{contentField:!0,value:"CLOSABLE"},checkoutBranding:{contentField:!0,value:"BRAND"},receipt:{text:{contentField:!0,value:"RECEIPT TEXT"},cta:{buttonText:{contentField:!0,value:"RECEIPT CTA BUTTON TEXT"},buttonUrl:{contentField:!0,value:"RECEIPT CTA BUTTON URL"},buttonType:{contentField:!0,value:"RECEIPT CTA BUTTON TYPE"}}}},"Email Collection":{type:"emailwall",isBlocking:{contentField:!0,value:"BLOCKING"},isClosable:{contentField:!0,value:"CLOSABLE"}},"In-Article Message":{type:"inarticle",isBlocking:{contentField:!0,value:"BLOCKING"},isClosable:{contentField:!0,value:"CLOSABLE"},version:{contentField:!0,value:"MESSAGE_TYPE"},newsletterId:{contentField:!0,value:"NEWSLETTER ID"},placement:{contentField:!1,value:"in-article"},authSource:{contentField:!0,value:"AUTH SOURCE"}},"Intercept Blocker":{type:"interceptblocker",isBlocking:{contentField:!0,value:"BLOCKING"},isClosable:{contentField:!0,value:"CLOSABLE"},version:{contentField:!1,value:"registration"},newsletterId:{contentField:!1,value:"Reg-wall_email"},placement:{contentField:!1,value:"content-blocker"},authSource:{contentField:!0,value:"AUTH SOURCE"}},"Intercept Blocker Offer":{type:"interceptbloffer",isBlocking:{contentField:!0,value:"BLOCKING"},isClosable:{contentField:!0,value:"CLOSABLE"},checkoutBranding:{contentField:!0,value:"BRAND"},receipt:{text:{contentField:!0,value:"RECEIPT TEXT"},cta:{buttonText:{contentField:!0,value:"RECEIPT CTA BUTTON TEXT"},buttonUrl:{contentField:!0,value:"RECEIPT CTA BUTTON URL"},buttonType:{contentField:!0,value:"RECEIPT CTA BUTTON TYPE"}}},authSource:{contentField:!0,value:"AUTH SOURCE"}},"Landing Page Offer":{type:"landingpageoffer",isBlocking:{contentField:!0,value:"BLOCKING"},isClosable:{contentField:!0,value:"CLOSABLE"},receipt:{text:{contentField:!0,value:"RECEIPT TEXT"},cta:{buttonText:{contentField:!0,value:"RECEIPT CTA BUTTON TEXT"},buttonUrl:{contentField:!0,value:"RECEIPT CTA BUTTON URL"},buttonType:{contentField:!0,value:"RECEIPT CTA BUTTON TYPE"}}}},"Landing Page Offer - 3 Offer":{type:"landingpageoffer-3offer",isBlocking:{contentField:!0,value:"BLOCKING"},isClosable:{contentField:!0,value:"CLOSABLE"},receipt:{text:{contentField:!0,value:"RECEIPT TEXT"},cta:{buttonText:{contentField:!0,value:"RECEIPT CTA BUTTON TEXT"},buttonUrl:{contentField:!0,value:"RECEIPT CTA BUTTON URL"},buttonType:{contentField:!0,value:"RECEIPT CTA BUTTON TYPE"}}}},"Marketing Message Strip":{type:"topmessagestrip",isBlocking:{contentField:!0,value:"BLOCKING"},isClosable:{contentField:!0,value:"CLOSABLE"},authSource:{contentField:!0,value:"AUTH SOURCE"}},"Newsletter Signup":{type:"newslettersignup",isBlocking:{contentField:!0,value:"BLOCKING"},isClosable:{contentField:!0,value:"CLOSABLE"},newsletterId:{contentField:!0,value:"NEWSLETTER ID"},subex:{contentField:!0,value:"SUBSCRIBER EXCLUSIVE"},authSource:{contentField:!0,value:"AUTH SOURCE"}},"Online Newspaper":{type:"onlineNewspaper",isBlocking:{contentField:!0,value:"BLOCKING"},isClosable:{contentField:!0,value:"CLOSABLE"},receipt:{text:{contentField:!0,value:"RECEIPT TEXT"},cta:{buttonText:{contentField:!0,value:"RECEIPT CTA BUTTON TEXT"},buttonUrl:{contentField:!0,value:"RECEIPT CTA BUTTON URL"},buttonType:{contentField:!0,value:"RECEIPT CTA BUTTON TYPE"}}}},"Product Adoption":{type:"productadoption",isBlocking:{contentField:!0,value:"BLOCKING"},isClosable:{contentField:!0,value:"CLOSABLE"},version:{contentField:!0,value:"TYPE"},placement:{contentField:!0,value:"PLACEMENT"}},"Propensity Blocker Offer":{type:"propensityblockeroffer",isBlocking:{contentField:!0,value:"BLOCKING"},isClosable:{contentField:!0,value:"CLOSABLE"},receipt:{text:{contentField:!0,value:"RECEIPT TEXT"},cta:{buttonText:{contentField:!0,value:"RECEIPT CTA BUTTON TEXT"},buttonUrl:{contentField:!0,value:"RECEIPT CTA BUTTON URL"},buttonType:{contentField:!0,value:"RECEIPT CTA BUTTON TYPE"}}},authSource:{contentField:!0,value:"AUTH SOURCE"}},"Radio Offer":{type:"radiooffer",isBlocking:{contentField:!0,value:"BLOCKING"},isClosable:{contentField:!0,value:"CLOSABLE"},checkoutBranding:{contentField:!0,value:"BRAND"},receipt:{text:{contentField:!0,value:"RECEIPT TEXT"},cta:{buttonText:{contentField:!0,value:"RECEIPT CTA BUTTON TEXT"},buttonUrl:{contentField:!0,value:"RECEIPT CTA BUTTON URL"},buttonType:{contentField:!0,value:"RECEIPT CTA BUTTON TYPE"}}},authSource:{contentField:!0,value:"AUTH SOURCE"}},"Redeem Gift Subscription":{type:"redeemgift",isBlocking:{contentField:!0,value:"BLOCKING"},isClosable:{contentField:!0,value:"CLOSABLE"},receipt:{text:{contentField:!0,value:"RECEIPT TEXT"},text1:{contentField:!0,value:"RECEIPT TEXT 1"},text2:{contentField:!0,value:"RECEIPT TEXT 2"},text3:{contentField:!0,value:"RECEIPT TEXT 3"},text4:{contentField:!0,value:"RECEIPT TEXT 4"},cta:{buttonText:{contentField:!0,value:"RECEIPT CTA BUTTON TEXT"},buttonUrl:{contentField:!0,value:"RECEIPT CTA BUTTON URL"}}}},"Sign In Modal":{type:"signinmodal",isBlocking:{contentField:!0,value:"BLOCKING"},isClosable:{contentField:!0,value:"CLOSABLE"},authSource:{contentField:!0,value:"AUTH SOURCE"}},Survey:{type:"survey",isBlocking:{contentField:!0,value:"BLOCKING"},isClosable:{contentField:!0,value:"CLOSABLE"}},"Toggle Offer - Three Offers":{type:"toggleoffer-threeoffers",isBlocking:{contentField:!0,value:"BLOCKING"},isClosable:{contentField:!0,value:"CLOSABLE"},receipt:{text:{contentField:!0,value:"RECEIPT TEXT"},cta:{buttonText:{contentField:!0,value:"RECEIPT CTA BUTTON TEXT"},buttonUrl:{contentField:!0,value:"RECEIPT CTA BUTTON URL"},buttonType:{contentField:!0,value:"RECEIPT CTA BUTTON TYPE"}}}},"Toggle Offer":{type:"toggleoffer",isBlocking:{contentField:!0,value:"BLOCKING"},isClosable:{contentField:!0,value:"CLOSABLE"},receipt:{text:{contentField:!0,value:"RECEIPT TEXT"},cta:{buttonText:{contentField:!0,value:"RECEIPT CTA BUTTON TEXT"},buttonUrl:{contentField:!0,value:"RECEIPT CTA BUTTON URL"},buttonType:{contentField:!0,value:"RECEIPT CTA BUTTON TYPE"}}}}});m["Upgrade Offer"]=i(i({},m["Dynamic Offer"]),{},{type:"upgradeoffer"})},970:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pianoMeterLabel=t.gaLabel=t.gaEvent=t.checkoutCompleteLabel=void 0;var a,o=n(971),i=(a=n(981))&&a.__esModule?a:{default:a},r=n(964);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=l(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(){var e={};return r.state.modal.type&&(e.type=r.state.modal.type),r.state.execute.variant&&(e.variant=r.state.execute.variant),r.state.execute.experience&&(e.experience=r.state.execute.experience),r.state.modal.closable&&(e.closable=r.state.modal.closable),e},f=t.pianoMeterLabel=function(){var e,t={},n=null===(e=r.state.meters)||void 0===e?void 0:e[r.state.meters.length-1];return n?(n.meterName&&(t.meterName=n.meterName),n.totalViews&&(t.totalViews=n.totalViews),n.maxViews&&(t.maxViews=n.maxViews)):t.meterName="none",t},p=(t.checkoutCompleteLabel=function(){var e={};return r.state.checkout.paymentType&&(e.paymentType=r.state.checkout.paymentType),localStorage.getItem("lastArticleId")&&(e.id=localStorage.getItem("lastArticleId")),localStorage.getItem("lastArticleUrl")&&(e.url=localStorage.getItem("lastArticleUrl")),localStorage.getItem("lastArticleDatestamp")&&(e.timestamp=localStorage.getItem("lastArticleDatestamp")),s(s(s({},u()),f()),e)},t.gaLabel=function(){var e={};return r.state.modal.version&&(e.version=r.state.modal.version),r.state.execute.referralVariant&&(e.referralVariant=r.state.execute.referralVariant),s(s(s({},u()),e),f())});t.gaEvent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"shown",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"subscribe";if(e&&!r.state.isGAOff){var l={affiliateList:["all"]};"shown"===t&&(l.nonInteraction=!0);var c={action:"".concat(e,"_").concat(t),category:a,label:(0,o.labelify)(Object.assign(p(),n))};i.default.event(c,l)}}},971:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storageAvailable=t.labelify=t.isDataJSON=t.financial=t.filterBCSegments=void 0;var a=n(969);t.labelify=function(e){var t=Object.keys(e),n=function(t){return e[t]?"".concat(t,": ").concat(JSON.stringify(e[t])):""};return t.reduce((function(e,t){return n(t)?"".concat(e).concat(n(t),"||"):e}),"").replace(/\|\|$/,"")},t.isDataJSON=function(e){var t={success:!1};try{t.results=JSON.parse(e),t.success=!0}catch(e){t.results="",t.success=!1}return t},t.storageAvailable=function(){var e;try{e=window.localStorage;var t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&e&&0!==e.length}},t.filterBCSegments=function(e){var t={al:"al",cl:"cleveland",lv:"lehighvalleylive",ma:"masslive",mi:"mlive",nj:"nj",ny:"newyorkupstate",or:"oregonlive",pn:"pennlive",rn:"reckon",si:"silive",sy:"syracuse"},n="";for(var o in t)t[o]!==a.locationDetails.affiliate&&(n="".concat(n,"_").concat(o,"|"));n="(".concat(n.slice(0,-1),")+$");var i=new RegExp(n,"i");return e.filter((function(e){return!e.match(i)}))},t.financial=function(e){return Number.parseFloat(e).toFixed(2)}},974:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callCaleTextSubscribe=t.callCaleTemplateData=t.callCalePasswordless=t.callCaleOffer=t.callCaleNewsletterSubscribe=t.callCaleMultipleAccounts=t.callCaleLogError=t.callCaleFeedback=t.callCaleEntitlements=t.callCaleEmailWallSubscribe=t.callCaleAccess=t.callCaleAbandonment=void 0;var a=n(969),o=n(1049),i=n(964),r=n(978),l=n(988);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=c(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(){if(!i.state.auth0.JWT)throw new Error({response:"no auth0 JWT Token"});if(!window.adiData.affiliate)throw new Error({response:"no affiliate market"});var e;return!!window.adiData.affiliate&&{id_token:i.state.auth0.JWT,market:a.locationDetails.affiliate,article:null===(e=window)||void 0===e?void 0:e.location.href}};t.callCaleLogError=function(e){(0,o.callCale)({endpoint:"log",access:"get",params:e}),console.error(e)},t.callCaleAccess=function(){return(0,o.callCale)({endpoint:"".concat(a.locationDetails.affiliate,"/access"),access:"get",params:d()}).then((function(e){return e.results&&e.results.messages&&(0,l.logCaleMessages)(e.results),e}))},t.callCaleEntitlements=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n={endpoint:"".concat(a.locationDetails.affiliate,"/access"),access:"post",type:"checkoutComplete",params:d()};switch(t){case"RMXOAPQ":case"RRVX6QO":e="al_bn_lede";break;case"RG4FMJE":case"RRW8NLQ":e="al_rg_lede";break;case"R0PKS7G":case"RP0REY9":e="al_ht_lede";break;default:e=""}e&&(n.endpoint="".concat(e,"/access")),(0,o.callCale)(n)},t.callCaleEmailWallSubscribe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={email:e,market:a.locationDetails.affiliate,customnwltr_optin_source:"emailwall-".concat(i.state.execute.variant)};return"newyorkupstate"===a.locationDetails.affiliate?r.market="syracuse":r.customConfirmTemplate="Email_verification_welcome",window.blueConicClient&&window.blueConicClient.profile&&(r.customBCID=window.blueConicClient.profile.getProfile().getId()),n&&(r["custom".concat(t)]="piano"),(0,o.callCale)({endpoint:"lists/".concat(t,"/subscribe/"),access:"post",params:r})},t.callCaleTextSubscribe=function(e,t){return(0,o.callCale)({endpoint:"".concat(a.locationDetails.affiliate,"/text_subscribe"),access:"post",params:Object.assign(d(),{phone:e,campaign_id:t})})},t.callCaleNewsletterSubscribe=function(e,t){var n=s({email:e,market:a.locationDetails.affiliate,customTemplateID:i.state.execute.template,customTemplateVariantID:i.state.execute.variant,customnwltr_optin_source:"".concat(i.state.execute.variant)},"custom".concat(t),"piano");return"newyorkupstate"===a.locationDetails.affiliate?n.market="syracuse":n.customConfirmTemplate="Email_verification_welcome",window.blueConicClient&&window.blueConicClient.profile&&(n.customBCID=window.blueConicClient.profile.getProfile().getId()),(0,o.callCale)({endpoint:"lists/".concat(t,"/subscribe"),access:"post",params:n})},t.callCalePasswordless=function(){return(0,o.callCale)({endpoint:"".concat(a.locationDetails.affiliate,"/password_reset_email"),access:"post",params:d()})},t.callCaleAbandonment=function(){var e=(0,r.hasProfileEmail)();e&&(0,o.callCale)({endpoint:"abandonment/add_email",access:"post",params:{email:e,market:a.locationDetails.affiliate}})},t.callCaleMultipleAccounts=function(){return(0,o.callCale)({endpoint:"".concat(a.locationDetails.affiliate,"/associated/"),access:"get",params:{id_token:i.state.auth0.JWT,market:window.adiData.affiliate,all:!0}})},t.callCaleFeedback=function(e){var t=window.Advance.auth0.user,n=t.email,i=t["https://www".concat("dev"===a.locationDetails.tier?"-uat":"",".").concat(a.locationDetails.affiliate).concat(a.locationDetails.domain,"/claims/internal_id")];return(0,o.callCale)({endpoint:"cancellation/feedback/",access:"post",params:Object.assign(d(),{reason:e,uid:i,email:n})})},t.callCaleOffer=function(e){return(0,o.callCale)({endpoint:"".concat(a.locationDetails.affiliate,"/offer"),access:"get",params:{offer_id:e}})},t.callCaleTemplateData=function(e,t){return(0,o.callCale)({endpoint:"".concat(a.locationDetails.affiliate,"/template/"),access:"get",params:{offer_template_id:e,offer_template_variant_id:t}})}},977:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setLabel=t.analytics=void 0;var a,o=(a=n(981))&&a.__esModule?a:{default:a},i=n(964);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,o,i,r,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var c={ga4:{blocking:["ab_test_group_user","version","variant_id","experience_id","meter_name","total_views","max_views","term","offer","sophi_trace","sophi_context","sophi_inputs","sophi_experiments_code","sophi_wall_hit"],nonblocking:["ab_test_group_user","version","variant_id","experience_id","meter_name","total_views","max_views","term","offer","sophi_trace","sophi_context","sophi_inputs","sophi_experiments_code","sophi_wall_hit"],checkout:["name","action","offer","type","template","variant_id","experience_id","meter_name","total_views","max_views","term","entry_id","URL","Date"],bc_piano:["name","action","bc_original","bc_trimmed"]}},s=function(e,t,n){return!(arguments.length>3&&void 0!==arguments[3])||arguments[3]?"".concat(n||t):"".concat(e,"_").concat(t).concat(n&&"_".concat(n))},d=(t.setLabel=function(e){for(var t,n,a,o=[],l=(t=[],n=[],a=[],null===i.state||void 0===i.state||i.state.meters.forEach((function(e){t.push(e.meterName),n.push(e.totalViews),a.push(e.maxViews)})),{var:'"'.concat(i.state.execute.variant,'"'),exp:'"'.concat(i.state.execute.experience,'"'),ver:'"'.concat(i.state.modal.version,'"'),met:t.length>0?'"'.concat(t.join(),'"'):'""',tot:n.length>0?'"'.concat(n.join(),'"'):'""',max:a.length>0?'"'.concat(a.join(),'"'):'""',term:i.state.offer.selectedTerm?'"'.concat(i.state.offer.selectedTerm,'"'):'""'}),c=0,s=Object.entries(l);c<s.length;c++){var d=r(s[c],2),u=d[0],f=d[1];o.push("".concat(u,":").concat(f||'""'))}if(Object.keys(e).length>0)for(var p=0,m=Object.entries(e);p<m.length;p++){var v=r(m[p],2),h=v[0],w=v[1];o.push("".concat(h,":").concat(w?'"'.concat(w,'"'):'""'))}return o.join("|")},function(e,t,n,a){var o={};n.match(/blocking|nonblocking/)&&(o={name:n,action:t,template:e});for(var l=function(e,t){var n,a,o,r,l,c,s,d,u,f,p,m,v,h,w,g,b,y,_,k,E,C,T={},S=[],A=[],x=[];null===i.state||void 0===i.state||i.state.meters.forEach((function(e){S.push(e.meterName),A.push(e.totalViews),x.push(e.maxViews)}));var O={variant_id:"".concat(i.state.execute.variant),experience_id:"".concat(i.state.execute.experience),offer:i.state.execute.offerId?"".concat(i.state.execute.offerId):"undefined",version:i.state.modal.version?"".concat(i.state.modal.version):"undefined",meter_name:S.length>0?"".concat(S.join()):"undefined",total_views:A.length>0?"".concat(A.join()):"undefined",max_views:x.length>0?"".concat(x.join()):"undefined",term:i.state.offer.selectedTerm?"".concat(i.state.offer.selectedTerm.name):"undefined",ab_test_group_user:null!==(n=window)&&void 0!==n&&null!==(a=n.adiData)&&void 0!==a&&a.sophiVariation?"".concat(window.adiData.sophiVariation):"undefined",sophi_trace:"shown"===t&&null!==(o=window)&&void 0!==o&&null!==(r=o.Advance)&&void 0!==r&&null!==(l=r.Sophi)&&void 0!==l&&null!==(c=l.dataLayer)&&void 0!==c&&c.trace?window.Advance.Sophi.dataLayer.trace:null,sophi_context:"shown"===t&&null!==(s=window)&&void 0!==s&&null!==(d=s.Advance)&&void 0!==d&&null!==(u=d.Sophi)&&void 0!==u&&null!==(f=u.dataLayer)&&void 0!==f&&f.context?window.Advance.Sophi.dataLayer.context:null,sophi_inputs:"shown"===t&&null!==(p=window)&&void 0!==p&&null!==(m=p.Advance)&&void 0!==m&&null!==(v=m.Sophi)&&void 0!==v&&null!==(h=v.dataLayer)&&void 0!==h&&h.inputs?window.Advance.Sophi.dataLayer.inputs:null,sophi_experiments_code:"shown"===t&&null!==(w=window)&&void 0!==w&&null!==(g=w.Advance)&&void 0!==g&&null!==(b=g.Sophi)&&void 0!==b&&null!==(y=b.dataLayer)&&void 0!==y&&y.experimentsCode?window.Advance.Sophi.dataLayer.experimentsCode:null,sophi_wall_hit:null!==(_=window)&&void 0!==_&&null!==(k=_.Advance)&&void 0!==k&&null!==(E=k.Sophi)&&void 0!==E&&null!==(C=E.wallTypeSent)&&void 0!==C&&C.match(/paywall-hard|regwall-hard/)?window.Advance.Sophi.wallTypeSent:"undefined"};return e.length>0&&e.forEach((function(e){T[e]=O[e]})),T}(c.ga4[n],t),s=0,d=Object.entries(l);s<d.length;s++){var u=r(d[s],2),f=u[0],p=u[1];o[f]=p}if(Object.keys(a).length>0)for(var m=0,v=Object.entries(a);m<v.length;m++){var h=r(v[m],2),w=h[0],g=h[1];o[w]=g}return o});t.analytics=function(e){var t=e.template,n=e.type,a=e.act,r=void 0===a?"":a,l=e.cat,c=void 0===l?"":l,u=e.additionalGA4,f=void 0===u?{}:u,p=e.affiliateList,m=void 0===p?["all"]:p;if(i.state.isGAOff)return console.info("isGAOff=TRUE"),{};if(!t)return console.error("Analytics: You must pass a template to the function call."),{};if(!n)return console.error("Analytics: You must pass a type of either shown or action to the function call."),{};if(m.length>3)return console.error("Analytics: You must pass an array of affiliates no more than three affiliates long to the function call."),{};var v={affiliateList:m,nonInteraction:"shown"===n},h=function(e){return e||(i.state.modal.isBlocking?"blocking":"nonblocking")}(c),w=s(t,n,r,!1),g=s(t,n,r,!0),b=d(t,g,h,f);if(!window.adiTrack.log("whitelist").GA4[h].action.includes(g))return console.error("Analytics: Your GA4 action ".concat(w," under the category ").concat(h," has not be added to the adiTrack whitelist.")),{};var y={ga4:b};return o.default.event(y,v),y}},978:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userId=t.loginWithRedirect=t.hasProfileEmail=void 0;var a=n(969),o=n(964);t.hasProfileEmail=function(){var e,t,n;return(null===(e=window.Advance.Cale)||void 0===e||null===(t=e.request_account)||void 0===t?void 0:t.email)||(null===(n=window.Advance.auth0.user)||void 0===n?void 0:n.email)},t.userId=function(){return window.Advance.auth0&&window.Advance.auth0.user&&window.Advance.auth0.user["https://www".concat(a.locationDetails.tierSuffix,".").concat(a.locationDetails.affiliate).concat(a.locationDetails.domain,"/claims/internal_id")]},t.loginWithRedirect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(){var t="".concat(window.location.origin,"/authcallback/?afterURL=").concat(encodeURIComponent(window.location.href));o.state.auth0.isLedeSubscriber=!0===window.isLede;var n=(null==e?void 0:e.screen_hint)||"login";!0===window.isLede&&(n="signup");var a={screen_hint:n,authSource:(null==e?void 0:e.authSource)||"piano-default",redirectUri:t,blueConicId:o.state.blueConic.id,"ext-isLedeSubscriber":o.state.auth0.isLedeSubscriber};e.login_hint&&e.connection&&(a.login_hint=e.login_hint,a.connection=e.connection),window.Advance.auth0.loginWithRedirect(a)};o.state.dataLayer.pushing?window.addEventListener("dataLayerPushComplete.adi",(function(){return t()})):t()}},979:function(e,t){[Element.prototype,CharacterData.prototype,DocumentType.prototype].filter(Boolean).forEach((function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})}))},980:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dataLayerGA=void 0;var a=n(970),o=n(971),i=n(964),r=n(1052),l=n(969),c=n(978),s=n(1053),d=function(e){var t,n,r,l,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{event:"adiEcomEvent",ecomEventCategory:"payment",ecomEventAction:e,ecomEventLabel:(0,o.labelify)(Object.assign((0,a.checkoutCompleteLabel)())),ecommerce:{currencyCode:i.state.checkout.currency||"USD",purchase:{actionField:{id:i.state.checkout.termConversionId||"",affiliation:null===(t=window)||void 0===t||null===(n=t.adiData)||void 0===n?void 0:n.affiliate,revenue:c?0:i.state.checkout.chargeAmount,tax:c?0:i.state.checkout.taxAmount,coupon:""},products:[{name:i.state.checkout.termName,id:i.state.checkout.termId,quantity:"1",category:"Subscription",coupon:"",brand:null===(r=window)||void 0===r||null===(l=r.adiData)||void 0===l?void 0:l.affiliate,variant:"",price:c?0:i.state.checkout.chargeAmount,dimension93:c?"":i.state.checkout.promoPrice,dimension94:c?"":i.state.checkout.promoBillingPeriod,dimension95:c?"":i.state.checkout.promoPriceTerm}]}}}};t.dataLayerGA=function(e){switch(e){case"emailwall":case"newsletter":return(0,r.pushEventCallback)({emailWall:i.state.modal.email,affiliate:l.locationDetails.affiliate});case"offer-selected":return(0,r.pushEventCallback)({event:"adiSubscribeClick",adiOfferId:i.state.execute.offerId});case"new-user-registration":return(0,r.pushEventCallback)({event:"adiNewEmailReg"});case"checkout-offerShown":return(0,r.pushEventCallback)({adiOfferState:"offer_shown",adiTemplateId:i.state.execute.template,adiTemplateVariantId:i.state.execute.variant,adiExperienceId:i.state.execute.experienceId,adiOfferDate:(new Date).getTime()});case"checkout-shown":return(0,r.pushEventCallback)({adiOfferState:"offer_selected",adiTemplateId:i.state.execute.template,adiTemplateVariantId:i.state.execute.variant,adiExperienceId:i.state.execute.experienceId,adiOfferDate:(new Date).getTime()});case"checkout-receiptShown":return(0,r.pushEventCallback)({adiOfferState:"offer_complete",adiTemplateId:i.state.execute.template,adiTemplateVariantId:i.state.execute.variant,adiExperienceId:i.state.execute.experienceId,adiOfferDate:(new Date).getTime()});case"pianoMeter":return(0,r.pushEventCallback)({pianoMeter:(0,o.labelify)(Object.assign((0,a.pianoMeterLabel)()))});case"subscription":return(0,r.pushEventCallback)({SessionSubscriptionOffer:(0,o.labelify)(Object.assign((0,a.gaLabel)()))});case"checkoutComplete-Paid":return(0,r.pushEventCallback)(d("subscription_checkoutComplete_paid"));case"checkoutComplete-DayPass":return(0,r.pushEventCallback)(d("subscription_checkoutComplete_dayPass"));case"checkoutComplete-Trial":return(0,r.pushEventCallback)(d("subscription_checkoutComplete_trial",!0));case"checkoutComplete-Upgrade":return(0,r.pushEventCallback)(d("subscription_checkoutComplete_upgrade"));case"resource-name":var t=i.state.checkout.resourceName;if(t&&(0,c.hasProfileEmail)()&&!i.state.resourceNameCalled)return i.state.resourceNameCalled=!0,(0,r.pushEventCallback)({adiResourceName:t});break;case"checkoutComplete":var n,u=i.state.offer.selectedTerm,f=i.state.checkout.termConversionId;if(u.firstPeriod){var p=u.firstPeriod.match("year")?12:1;n=Number(u.firstPeriod.match(/\d+/)[0])*p}else n=1;var m={event:"adiPaymentComplete",adiSubPrice:(g=i.state.offer.selectedTerm.billingPlanTable,b=g?g[g.length-1]:{},null==b?void 0:b.price.replace("$","")),adiOfferId:i.state.execute.offerId,adiFBConversionId:f},v=(0,c.hasProfileEmail)();if(v){var h=v.trim().toLowerCase();(0,s.sha256)(h);var w=s.sha256.create().update(h);return m.emailSha56=w.hex(),m&&window.dataLayer.push(m),window.postMessage({topic:"purchase",amount:m.adiSubPrice,qty:n},"*"),m}}var g,b;return!0}},981:function(e,t,n){"use strict";n.r(t);var a=n(65);const o={ad_insertion:{ad_type:["taboola","nativo"]},cta:{action:["served","viewed","clicked"],template:["piano_nudge","foryou","widget_maker"]},toprail:{action:["main_click","weather_click","logo_click","edition_click","eNewspaper_click","subscription_click","account_click","sign_in_click","new_account_click","manage_click","custom_alerts_click","newsletters_click","help_click"],location:["hamburger","weather","logo","regions","eNewspaper","subscription","account"]},toprail_sticky:{action:["main_click","weather_click","logo_click","edition_click","eNewspaper_click","subscription_click","account_click","sign_in_click","new_account_click","manage_click","custom_alerts_click","newsletters_click","help_click"],location:["hamburger","weather","logo","regions","eNewspaper","subscription","account"]},bc_piano:{action:["trim"]},blocking:{action:["cancelClicked","closeClicked","ctaClicked","emailSubmitted","shown","signInClicked","createAccountClicked","reloginClicked","bottomfixed_shown","bottomfixed_action_closeClicked","bottomfixed_action_ctaClicked","bottomfixed_action_signInClicked","dynamicoffer_shown","dynamicoffer_action_ctaClicked","dynamicoffer_action_signInClicked","emailwall_shown","emailwall_action_ctaClicked","emailwall_action_emailSubmitted","interceptblocker_shown","interceptblocker_action_ctaClicked","interceptblocker_action_signInClicked","interceptbloffer_shown","interceptbloffer_action_ctaClicked","radiooffer_shown","radiooffer_action_ctaClicked","radiooffer_action_signInClicked","signinmodal_shown","signinmodal_action_ctaClicked","signinmodal_action_signInClicked"]},myaccount:{type:["cancelsubscription","connectwithus","customemailalerts","customemailnewsletter","editorialbrands","editprofile","emailnewsletters","enewspaper","linkaccount","managesubscription","mobileapps","podcasts","savedarticles"]},nonblocking:{action:["cancelClicked","closeClicked","ctaClicked","emailSubmitted","shown","signInClicked","activeaccess_shown","activeaccess_action_ctaClicked","activeaccess_action_cancelClicked","bottomfixed_shown","bottomfixed_action_closeClicked","bottomfixed_action_ctaClicked","bottomfixed_action_signInClicked","dynamicoffer_shown","dynamicoffer_action_closeClicked","dynamicoffer_action_ctaClicked","dynamicoffer_action_signInClicked","inarticle_shown","inarticle_action_ctaClicked","inarticle_action_signInClicked","radiooffer_shown","radiooffer_action_closeClicked","radiooffer_action_ctaClicked","radiooffer_action_signInClicked","signinmodal_shown","signinmodal_action_closeClicked","signinmodal_action_ctaClicked","signinmodal_action_signInClicked","survey_shown","survey_action_closeClicked","survey_action_ctaClicked","topmessagestrip_shown","topmessagestrip_action_closeClicked","topmessagestrip_action_ctaClicked","topmessagestrip_action_signInClicked"]},games:{action:["bracket_submissions"]},sports_betting:{action:["article_link_click","offer_click"]},bookmarks:{action:["bookmark_add","bookmark_remove","bookmark_list_view","bookmark_viewed","bookmark_logged_in","bookmark_register"]},google_one_tap:{action:["sign_in"]},login:{action_performed:["login_started","login_complete","create_account_started","create_account_complete"],method:["email","facebook","google","apple"],source:["MG2","web"],flow:["bookmarks","subscription","other"]},checkout:{action:["shown","payment_selected","paid","upgrade","dynamicoffer_paid_upgrade","dynamicoffer_shown_subscription","dynamicoffer_shown_trial","dynamicoffer_shown_daypass","dynamicoffer_selected_trial_payment","dynamicoffer_selected_trial_payment","dynamicoffer_selected_subscription_payment","dynamicoffer_paid_trial","dynamicoffer_paid_daypass","dynamicoffer_paid_subscription","interceptblocker_shown_trial","interceptblocker_shown_daypass","interceptblocker_shown_subscription","interceptblocker_selected_trial_payment","interceptblocker_selected_daypass_payment","interceptblocker_selected_subscription_payment","interceptblocker_paid_trial","interceptblocker_paid_daypass","interceptblocker_paid_subscription","bottomfixed_shown_trial","bottomfixed_shown_daypass","bottomfixed_shown_subscription","bottomfixed_selected_trial_payment","bottomfixed_selected_daypass_payment","bottomfixed_selected_subscription_payment","bottomfixed_paid_trial","bottomfixed_paid_daypass","bottomfixed_paid_subscription","emailwall_shown_trial","emailwall_shown_daypass","emailwall_shown_subscription","emailwall_selected_trial_payment","emailwall_selected_daypass_payment","emailwall_selected_subscription_payment","emailwall_paid_trial","emailwall_paid_daypass","emailwall_paid_subscription","radiooffer_shown_trial","radiooffer_shown_daypass","radiooffer_shown_subscription","radiooffer_selected_trial_payment","radiooffer_selected_daypass_payment","radiooffer_selected_subscription_payment","radiooffer_paid_trial","radiooffer_paid_daypass","radiooffer_paid_subscription","signinmodal_shown_trial","signinmodal_shown_daypass","signinmodal_shown_subscription","signinmodal_selected_trial_payment","signinmodal_selected_daypass_payment","signinmodal_selected_subscription_payment","signinmodal_paid_trial","signinmodal_paid_daypass","signinmodal_paid_subscription","interceptbloffer_shown_trial","interceptbloffer_shown_daypass","interceptbloffer_shown_subscription","interceptbloffer_selected_trial_payment","interceptbloffer_selected_daypass_payment","interceptbloffer_selected_subscription_payment","interceptbloffer_paid_trial","interceptbloffer_paid_daypass","interceptbloffer_paid_subscription"]},widgetmaker:{action:["exposure","click"],type:["storiesbyauthor","mostpopularbyauthor","sectiontag","newslettersignup"]},sharptext:{action:["exposure","shown"]},rollcall:{action:["poll_load","results_load","submission"]},audioplayer:{action:["exposure","shown","playback_started","twenty_five_percent","fifty_percent","seventy_five_percent","playback_completed","audioplayer_link"]},gift:{action:["gift_anon_click","gift_sub_click","gift_sub_copy","gift_sub_email","gift_redeem"]},sharebar:{action:["social_facebook","social_x","navigator_share_button"]},newsletters:{action:["subscribe","click"]},affiliate_marketing:{action:["article_link_click","buy_button_click","deal_box_click","single_bb_click"]},contentrecommendations:{action:["click","exposure"]},for_you:{action:["click","exposure"]},"self-service":{action:["survey_shown","survey_action","survey_offer_shown","survey_offer_action","survey_confirmation_action"]}},i=["al","cleveland","gulflive","lehighvalleylive","lonestarlive","masslive","mlive","newyorkupstate","nj","oregonlive","pennlive","silive","syracuse"],r={},l=(e,t)=>t.indexOf(e)>=0;function c(e){const t={};e.forEach((e=>{t.hasOwnProperty(e.key)?t[e.key]++:t[e.key]=1}));const n=[];for(const[e,a]of Object.entries(t))n.push(`${e}:${a}`);return n.join("|")}function s(e){return e?e.screenHeight&&e.screenNumber?`page:${e.screenNumber}-${e.screenHeight}${e.bodyScreenNumber&&e.bodyScreenHeight?`|article:${e.bodyScreenNumber}-${e.bodyScreenHeight}`:""}`:(console.warn("ADITrack: Missing screenHeight or screenNumber config parameters."),""):""}const d=function(e){return"function"!=typeof e.assign&&e.defineProperty(e,"assign",{value:function(t,n){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var a=e(t),o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i)for(var r in i)e.prototype.hasOwnProperty.call(i,r)&&(a[r]=i[r])}return a},writable:!0,configurable:!0}),e.assign}(Object),u=d,f=Date.now(),p=(e="ADITrack",t={},n="INFO")=>{"true"===("undefined"!=typeof window&&new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t)})||{}).aditrack_debug&&v(e,t,n)},m=e=>{let t=0;return t=Date.now()-e<1e3?Date.now()-e+" ms":(Date.now()-e)/1e3+" seconds",t},v=(e,t,n)=>{switch(n){case"WARN":console.warn("%c%s","background:yellow",`${m(f)} - [Warning] - ${e} - ${t}`);break;case"ERROR":console.error(`${m(f)} - [Error] - ${e} - ${t}`);break;case"DEBUG":console.debug=console.log("%c%s","background:#b4e5f6",`${m(f)} - [Debug] - ${e} - ${t}`);break;default:console.info("%c%s","background:#d0ffe5",`${m(f)} - [Info] - ${e} - ${t}`)}};var h=n(1048);const w="undefined"!=typeof window?window:null;class g{constructor(){p("loggerADITrack","ADITrack constructor method called","INFO"),w.adiTrackPromise=w.adiTrackPromise||a.a.resolve(),w.adiData=w.adiData||{},w.dataLayer=w.dataLayer||[],this.queue=[],this.domain=(()=>{if(window.adiData.affiliate)return window.adiData.affiliate;{const e=window.location.hostname.split(".");return e.slice(e.length-2,e.length-1).pop()}})(),this.isLoaded=!1,this.version=h.a,this.ready()}init(){p("loggerADITrack","ADITrack init method called","INFO");const e=document.getElementById("adiTrackTag");if(e&&(e.dataset.loaded="true"),w.adiTrackPromise&&this.queue.length)return w.adiTrackPromise.then((()=>{this.executeQueue()}));this.executeQueue()}ready(){if(p("loggerADITrack","ADITrack ready method called","INFO"),this.isLoaded)return w.dispatchEvent(new CustomEvent("adiTrackReady")),this.init();const e=()=>{let t=setTimeout((()=>b()?(clearTimeout(t),this.isLoaded=!0,w.dispatchEvent(new CustomEvent("adiTrackReady")),this.init()):e()),100)};e()}addToQueue(e,t){p("loggerADITrack","ADITrack addToQueue method called","INFO"),this.queue.unshift((()=>{e.apply(this,t)}))}executeQueue(){p("loggerADITrack","ADITrack executeQueue method called","INFO"),this.queue.map((e=>e())),this.queue=[]}page(e=w.location.href){if(p("loggerADITrack","ADITrack page method called","INFO"),!e.match(/^(http:\/\/|https:\/\/)/i))return console.error("adiTrack.page requires a valid href style url, example: (http(s)://www.host.com/path/)"),!1;if(!this.isLoaded)return this.addToQueue(this.page,[e]);try{const t=(e=>{const t=document.createElement("a");return t.href=e,{url:t.href,hostname:t.hostname,pathname:t.pathname,protocol:t.protocol,origin:t.origin,search:t.search}})(e);let n="";"/"===t.pathname?n=t.pathname:"/"!==t.pathname&&(n=e.substring(e.indexOf(t.pathname)));const a=u(w.adiData||{},{event:"adiPageview",adiVirtualUrl:e,adiVirtualHostname:t.hostname,adiVirtualPathname:t.pathname,adiVirtualPathnameQuery:n});w.dataLayer.push(a),p("loggerADITrack","adiPageview event pushed to the dataLayer","INFO"),p("loggerADITrack",`dataLayer data: pageURL = ${e}, hostname = ${t.hostname}, pathname = ${t.pathname}, adiVirtualPathnameQuery = ${n}`,"INFO")}catch(e){console.warn(e)}return!0}event(e,t={}){if(p("loggerADITrack","ADITrack event method called","INFO"),!this.isLoaded)return this.addToQueue(this.event,[e,t]);if(!e)return console.error("Include event properties object when calling adiTrack.event method.");const n=e.ga4;n?(n.name||console.error('GA4 event properties object requires "name" key. Event will not be sent to GA'),n.name&&Object.keys(n).length<2&&console.error('GA4 event properties object requires at least one key/value pair in addition to "name"'),Object.keys(n).length>25&&console.error("GA4 event parameter MAX reached! Please limit to under 25 key/value pairs.")):console.error('No "ga4" event properties object. adiTrack event is NOT set up for GA4.');const a={adiEventName:null};if(void 0!==n&&n&&n.name&&(a.adiEventName=n.name),n){const e=n;delete e.name,Object.entries(e).forEach((([e,t],n)=>{let o=`adiEventParamValue${n+1}`;a[`adiEventParamName${n+1}`]=e,a[o]=t}));for(let t=Object.keys(e).length;t<25;t++){let e=`adiEventParamValue${t+1}`;a[`adiEventParamName${t+1}`]=void 0,a[e]=void 0}}p("loggerADITrack",`ADITrack GA4 event data: ${JSON.stringify(a)}`,"INFO");const c=Array.isArray(t.affiliateList)?t.affiliateList:[],s=1===c.length&&"all"===c[0].toLowerCase();if(c.length>3){const e=c.slice(3,c.length);console.warn('adiTrack.event: Option "affiliateList" accepts 3 affiliates max.'),console.warn(`adiTrack.event: "${e.join(", ")}" were ignored.`)}var d,f,m;const v=!(a.adiEventName&&a.adiEventParamName1&&(d=r,f=[a.adiEventName,a.adiEventParamName1],m=!1,f.reduce(((e,t)=>e&&void 0!==e[t]?e[t]:m),d)))&&o[a.adiEventName]&&o[a.adiEventName][a.adiEventParamName1]&&l(a.adiEventParamValue1,o[a.adiEventName][a.adiEventParamName1]),h=i.some((e=>c.includes(e)))&&l(this.domain,c);return((s||h)&&v||!1)&&this.emit(u({event:"adiEventGA4"},a)),!0}populate(e,t,n={}){if(!(null==n?void 0:n.enabled))return console.warn('adiTrack.populate: Option "config.enabled" must be set to true to use Next Best Action.'),!1;if(!(null==n?void 0:n.selectorId))return console.error('adiTrack.populate: Option "config.selectorId" must be set to a valid data attribute selector to use Next Best Action.'),!1;(null==n?void 0:n.affiliateList)&&Array.isArray(n.affiliateList||!n.affiliateList.length)||(console.warn('adiTrack.populate: Option "config.affiliateList" was not set to a valid list of affiliates for Next Best Action. Value will default to "all".'),n.affiliateList=["all"]);const a=document.querySelector(`[data-gaid="${n.selectorId}"]`);if(!a)return console.error('adiTrack.populate: Option "config.selector" must be a valid data attribute selector to use Next Best Action.'),!1;const o=a.dataset.gaid;if(w.adiData.nba&&w.adiData.nba.find((e=>e.gaId===o)))return console.warn('adiTrack.populate: Option "config.selector" already exists in the window.adiData.nba array.'),!1;const i=new IntersectionObserver((r=>{r.forEach((r=>{if(r.isIntersecting){var l,d;const r={ga4:{name:"cta",action:"viewed",key:void 0,template:e,type:t}};(null==w||null===(l=w.adiData)||void 0===l||null===(d=l.nba)||void 0===d?void 0:d.length)>0?r.ga4.key=c(w.adiData.nba):r.ga4.key=`${e}&${t}:1`;const u=w.adiData.nba.find((e=>e.gaId===o));u&&Boolean(Object.keys(u).length)&&(r.ga4.screen_number=s({screenNumber:u.screenNumber,screenHeight:u.screenHeight,bodyScreenNumber:u.bodyScreenNumber,bodyScreenHeight:u.bodyScreenHeight})),this.event(r,{affiliateList:n.affiliateList}),i.unobserve(a)}}))}),{root:null,rootMargin:"0px",threshold:.5});i.observe(a);const r={gaId:o,key:`${e}&${t}`,screenHeight:void 0,screenNumber:void 0,bodyScreenHeight:void 0,bodyScreenNumber:void 0},l=window.innerHeight,d=document.documentElement.scrollHeight,u=Math.ceil(d/l),f=a.getBoundingClientRect().top+window.scrollY,p=Math.floor(f/l)+1;if(r.screenHeight=u,r.screenNumber=p,a.parentElement.classList.contains("entry-content")){const e=a.parentElement,t=e.scrollHeight,n=Math.ceil(t/l),o=f-e.getBoundingClientRect().top,i=Math.ceil(o/t)+1;r.bodyScreenHeight=n,r.bodyScreenNumber=i}w.adiData.nba=w.adiData.nba||[],w.adiData.nba.some((e=>e.gaId===r.gaId))||w.adiData.nba.push(r)}async served(e=!1,t=!1,n=["all"]){if(!e)return console.warn('adiTrack.served: Option "enabled" must be set to true to use Next Best Action.'),{};const o=(e=5e3)=>{const t={ga4:{name:"cta",action:"served",key:void 0,timing:e}};return t.ga4.key=c(w.adiData.nba),this.event(t,{affiliateList:n}),t},i=()=>w.adiData.nba&&Array.isArray(w.adiData.nba)?0!==w.adiData.nba.length||(console.warn('adiTrack.served: Option "window.adiData.nba" is empty.'),!1):(console.warn('adiTrack.served: Option "window.adiData.nba" is not an array.'),!1);let r={};if(t){const e=[3e3,4e3,5e3];await a.a.all(e.map((e=>new a.a((t=>{setTimeout((()=>{i()&&(r=o(e)),t()}),e)})))))}else await new a.a((e=>{setTimeout((()=>{i()&&(r=o()),e()}),5e3)}));return r}interact(e,t,n={}){var a,o;if(!e)return console.error('adiTrack.clicked: Option "template" must be set to a valid template name to use Next Best Action.'),{};if(!t)return console.error('adiTrack.clicked: Option "type" must be set to a valid type name to use Next Best Action.'),{};if(!(null==n?void 0:n.enabled))return console.warn('adiTrack.clicked: Option "config.enabled" must be set to true to use Next Best Action.'),{};if(!(null==n?void 0:n.selectorId))return console.error('adiTrack.clicked: Option "config.selectorId" must be set to a valid data attribute selector to use Next Best Action.'),{};(null==n?void 0:n.affiliateList)&&Array.isArray(n.affiliateList||!n.affiliateList.length)||(console.warn('adiTrack.clicked: Option "config.affiliateList" was not set to a valid list of affiliates for Next Best Action. Value will default to "all".'),n.affiliateList=["all"]);if(!document.querySelector(`[data-gaid="${n.selectorId}"]`))return console.error('adiTrack.clicked: Option "config.selector" must be a valid data attribute selector to use Next Best Action.'),{};const i={ga4:{name:"cta",action:"clicked",key:void 0,template:e,type:t}};(null==w||null===(a=w.adiData)||void 0===a||null===(o=a.nba)||void 0===o?void 0:o.length)>0?i.ga4.key=c(w.adiData.nba):i.ga4.key=`${e}&${t}:1`;const r=w.adiData.nba.find((e=>e.gaId===n.selectorId));return r&&Boolean(Object.keys(r).length)&&(i.ga4.screen_number=s({screenNumber:r.screenNumber,screenHeight:r.screenHeight,bodyScreenNumber:r.bodyScreenNumber,bodyScreenHeight:r.bodyScreenHeight})),this.event(i,{affiliateList:n.affiliateList}),i}emit(e){if(p("loggerADITrack","ADITrack emit method called","INFO"),!this.isLoaded)return this.addToQueue(this.emit,[e]);w.dataLayer.push(e)}log(e){p("loggerADITrack","ADITrack log method called","INFO");const t={whitelist:{GA4:o},affiliates:i,blacklist:{GA4:r}};return void 0===e?"Enter type: 'whitelist', 'affiliates', 'blacklist', or 'all'":"all"===e?t:t[e]}}const b=(e={ga:!0})=>w.adiData&&w.adiData.ga4&&"true"===w.adiData.ga4;p("loggerADITrack","Instantiating new logger","INFO");let y=null;if("undefined"!=typeof window){const e=window.adiTrack&&void 0!==window.adiTrack.adiTrackLoaded;y=window._adiTrack||window.adiTrack&&void 0!==window.adiTrack.isLoaded?window._adiTrack||window.adiTrack:window[e?"_adiTrack":"adiTrack"]=new g}t.default=y},984:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setInterceptBlockerWall=t.interceptBlocker=t.initInterceptBlockerModal=void 0;var a=n(964),o=n(967),i=n(970);n(979);var r=n(968),l=n(974),c=n(971),s=n(969),d=n(968),u=n(980),f=n(966);t.setInterceptBlockerWall=function(e){var t=(0,c.isDataJSON)(e.params);if(t.success){var n=t.results.iframeId,f=void 0!==e.email&&e.email.length>0&&e.email;a.state.modal.email=f;var p=function(e){var t;(e.results.confirm_subscribe?e.results.confirm_subscribe.response:e.results.subscribe.response)?((0,i.gaEvent)(a.state.modal.type,"action",{version:"email_capture"},{},"subscribe"),(0,u.dataLayerGA)({type:"emailwall",emailWall:a.state.modal.email,affiliate:s.locationDetails.affiliate}),a.state.execute.containerSelector?(0,o.removeModal)(a.state.execute.containerSelector):(0,o.removeModal)(),(0,d.broadcast)("emailWallSubmit",{email:f}),"modal"===(null===a.state||void 0===a.state||null===(t=a.state.execute)||void 0===t?void 0:t.displayMode)&&(0,o.removeModal)()):(0,r.sendPostMessageToPiano)(n,!1,"Please enter a valid email address.",{type:"emailwall",email:f})};n&&(f&&-1===f.indexOf(" ")&&f.match(/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/)?(0,l.callCaleEmailWallSubscribe)(f,e.newsletter).then((function(e){p(e)})):(0,r.sendPostMessageToPiano)(n,!1,"Please enter a valid email address.",{type:"emailwall",email:f}))}},t.interceptBlocker=function(e){"modal"===a.state.execute.displayMode&&(0,o.freezeBackground)(!0),(0,f.matherWall)(e)},t.initInterceptBlockerModal=function(){window.addEventListener("hasArticleAccess.adi",(function(){"interceptblocker"===a.state.modal.type&&a.state.modal.version.match(/registration/)&&(0,o.removeModal)("".concat(a.state.execute.containerSelector))}))}},987:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.waitForCondition=void 0;t.waitForCondition=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;return new Promise((function(o,i){var r=0,l=function(){e()?o():r>=a?i(new Error("Timeout waiting for ".concat(t))):(r+=n,setTimeout(l,n))};l()}))}},988:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeUserCookies=t.logCaleMessages=void 0;var a,o=(a=n(56))&&a.__esModule?a:{default:a},i=n(978),r=n(1051);t.removeUserCookies=function(){o.default.hasItem("cale_results")&&o.default.removeItem("cale_results","/")},t.logCaleMessages=function(e){var t=function(t){var n=e.piano_access_list||[],a=n.length?"||".concat(n.join(",")):"",i=(0,r.hasAdLiteExperience)(e)?"||ADLITE":"",l="".concat(e.response,"||").concat(t).concat(a).concat(i);return o.default.setItem("cale_results",l,1/0,"/"),l},n=e.print_subscriptions&&e.print_subscriptions.map((function(e){return e.delivery_method})).filter((function(e){return e})).join("/"),a=e.messages;return e.messages&&a.length?(n&&(a=e.messages.map((function(e){var t=e.split("has");return t.splice(1,0,"has ".concat(n)),t.join("")}))),t(a)):t("".concat((0,i.userId)()," data.messages not found"))}},989:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initInArticleModal=t.inArticle=void 0;var a=n(964),o=n(967),i=n(966);t.inArticle=function(e){(0,i.matherWall)(e)},t.initInArticleModal=function(){window.addEventListener("fullArticleDisplayed",(function(){window.Advance.debug.page_decisioning_action_made=window.performance.now()})),window.addEventListener("hasArticleAccess.adi",(function(){"inarticle"===a.state.modal.type&&"subscribe"===a.state.modal.version&&(a.state.execute.containerSelector?(0,o.removeModal)("".concat(a.state.execute.containerSelector)):(0,o.removeModal)())}))}},990:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initBottomFixedModal=t.bottomFixed=void 0;var a=n(964),o=n(967),i=n(966);n(979);t.bottomFixed=function(e,t){var n=document.getElementById("".concat(a.state.execute.containerSelector.substring(1))),r=document.getElementById("InFeed_Center_Wide_Adhesion_1"),l=document.getElementById("mobile-bottom-adhesion"),c="homepage"===window.adiData.pageType&&(null==r?void 0:r.querySelector("iframe"))||"cal"===window.adiData.pageType&&(null==l?void 0:l.querySelector("iframe"));if(n&&!c)if(a.state.modal.closable)var s=document.body.addEventListener("click",(function(){(0,o.removeModal)("".concat(a.state.execute.containerSelector),!1),s.removeEventListener("click",s)}),!1);else n.classList.add("bottom-fixed-modal--background");"cta"===a.state.modal.version&&adiTrack.populate("piano_nudge","act_mgmt",{selectorId:n.getAttribute("data-gaid"),enabled:null==e?void 0:e["next-best-action-onoff"]}),(0,i.matherWall)(t)},t.initBottomFixedModal=function(){window.addEventListener("slot:rendered",(function(e){if("cal"===window.adiData.pageType&&"mobile-bottom-adhesion"===e.detail.slotId){var t=document.getElementById(e.detail.slotId);t&&t.querySelector("iframe")&&bottomFixedModal&&bottomFixedModal.remove()}})),window.addEventListener("hasArticleAccess.adi",(function(){"bottomfixed"===a.state.modal.type&&"subscribe"===a.state.modal.version&&(0,o.removeModal)("".concat(a.state.execute.containerSelector))}))}},991:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initBottomFixedOfferModal=t.bottomFixedOffer=void 0;var a=n(964),o=n(967),i=n(966);n(979);t.bottomFixedOffer=function(e){var t=document.getElementById("".concat(a.state.execute.containerSelector.substring(1)));if(t&&(t.classList.remove("bottom-fixed-modal--hidden"),a.state.modal.closable))var n=document.body.addEventListener("click",(function(){(0,o.removeModal)("".concat(a.state.execute.containerSelector),!1),n.removeEventListener("click",n)}),!1);(0,i.matherWall)(e)},t.initBottomFixedOfferModal=function(){window.addEventListener("hasArticleAccess.adi",(function(){"bottomfixedoffer"===a.state.modal.type&&(0,o.removeModal)("".concat(a.state.execute.containerSelector))}))}},992:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadPiano=t.loadOnLogin=t.initPiano=void 0;var a,o=n(968),i=n(964),r=n(969),l=n(993),c=n(987),s=n(974),d=n(971),u=(a=n(56))&&a.__esModule?a:{default:a},f=n(966),p=n(977);function m(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function h(){h=function(){return t};var e,t={},n=Object.prototype,a=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function d(e,t,n,a){var i=t&&t.prototype instanceof g?t:g,r=Object.create(i.prototype),l=new L(a||[]);return o(r,"_invoke",{value:x(e,n,l)}),r}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f="suspendedStart",p="suspendedYield",m="executing",v="completed",w={};function g(){}function y(){}function _(){}var k={};s(k,r,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(R([])));C&&C!==n&&a.call(C,r)&&(k=C);var T=_.prototype=g.prototype=Object.create(k);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(o,i,r,l){var c=u(e[o],e,i);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==b(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,r,l)}),(function(e){n("throw",e,r,l)})):t.resolve(d).then((function(e){s.value=e,r(s)}),(function(e){return n("throw",e,r,l)}))}l(c.arg)}var i;o(this,"_invoke",{value:function(e,a){function o(){return new t((function(t,o){n(e,a,t,o)}))}return i=i?i.then(o,o):o()}})}function x(t,n,a){var o=f;return function(i,r){if(o===m)throw Error("Generator is already running");if(o===v){if("throw"===i)throw r;return{value:e,done:!0}}for(a.method=i,a.arg=r;;){var l=a.delegate;if(l){var c=O(l,a);if(c){if(c===w)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===f)throw o=v,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=m;var s=u(t,n,a);if("normal"===s.type){if(o=a.done?v:p,s.arg===w)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(o=v,a.method="throw",a.arg=s.arg)}}}function O(t,n){var a=n.method,o=t.iterator[a];if(o===e)return n.delegate=null,"throw"===a&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==a&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+a+"' method")),w;var i=u(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,w;var r=i.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,w):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,w)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[r];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(a.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(b(t)+" is not iterable")}return y.prototype=_,o(T,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:y,configurable:!0}),y.displayName=s(_,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,s(e,c,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},S(A.prototype),s(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,a,o,i){void 0===i&&(i=Promise);var r=new A(d(e,n,a,o),i);return t.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},S(T),s(T,c,"Generator"),s(T,r,(function(){return this})),s(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},t.values=R,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(a,o){return l.type="throw",l.arg=t,n.next=a,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],l=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var c=a.call(r,"catchLoc"),s=a.call(r,"finallyLoc");if(c&&s){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,w):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),w},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),w}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var o=a.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,a){return this.delegate={iterator:R(t),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=e),w}},t}function w(e,t,n,a,o,i,r){try{var l=e[i](r),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(a,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function r(e){w(i,a,o,r,l,"next",e)}function l(e){w(i,a,o,r,l,"throw",e)}r(void 0)}))}}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}var y=t.initPiano=function(e){var t,n,a,s,m,v,w,y;tp.push(["setAid",r.pianoKey]),tp.push(["setEndpoint",r.endpointApi]),tp.push(["setUseTinypassAccounts",!1]);var _=[],k=window.location.search.slice(1),E=new URLSearchParams(k);if(null!==(t=window)&&void 0!==t&&null!==(n=t.Fusion)&&void 0!==n&&null!==(a=n.globalContent)&&void 0!==a&&null!==(s=a.taxonomy)&&void 0!==s&&null!==(m=s.primary_section)&&void 0!==m&&m.path&&window.tp.push(["setContentSection",window.Fusion.globalContent.taxonomy.primary_section.path.substring(1)]),window.adiData){window.tp.push(["setContentCreated",window.adiData.entryDateOriginal]),window.adiData.entryAuthorUsername&&window.tp.push(["setContentAuthor",window.adiData.entryAuthorUsername.toLowerCase()]),void 0!==window.adiData.pageType&&window.tp.push(["setCustomVariable","pagetype",window.adiData.pageType,"content"]);var C=window.adiData.entryTags&&window.adiData.entryTags.length&&window.adiData.entryTags.toLowerCase().split(";"),T=window.adiData.topics&&window.adiData.topics.length&&window.adiData.topics.split(";").map((function(e){return"@topics-".concat(e)})),S=window.adiData.aux&&window.adiData.aux.length&&window.adiData.aux.split(",").map((function(e){return"@auxiliaries-".concat(e)}));C&&(_=_.concat(C)),T&&(_=_.concat(T)),S&&(_=_.concat(S))}window.tp.push(["setCustomVariable","origin",window.location.origin]);var A=null===(v=window)||void 0===v||null===(w=v.Fusion)||void 0===w||null===(y=w.globalContent)||void 0===y?void 0:y.website;if(A){var x,O,I,P,L,R,B,N,F,D,M,H,U=(null===(x=window)||void 0===x||null===(O=x.Fusion)||void 0===O||null===(I=O.globalContent)||void 0===I||null===(P=I.websites[A])||void 0===P||null===(L=P.website_section)||void 0===L?void 0:L._id)||(null===(R=window)||void 0===R||null===(B=R.Fusion)||void 0===B||null===(N=B.globalContent)||void 0===N||null===(F=N.websites[A])||void 0===F||null===(D=F.website_section)||void 0===D||null===(M=D.referent)||void 0===M?void 0:M.id),j=U?U.slice(1):void 0,G=null===(H=window.Fusion.globalContent.credits)||void 0===H?void 0:H.by;if(j&&window.tp.push(["setCustomVariable","articleSection",j]),Array.isArray(G)){var X=G.map((function(e){return e._id})).filter(Boolean);X.length>0&&window.tp.push(["setCustomVariable","contentAuthor",X])}}var V=function(e){window.adiData.bcSegments={timeStamp:(new Date).getTime(),segments:e}},W=function(e){var t,n=new URLSearchParams(document.location.search).get("bcsegments");if(n)t=n.split(","),V(t);else{var a=window.blueConicClient.getSegments().map((function(e){return e.name}));if(a.length){V(a);var o=new RegExp("dcr"),i=a.filter((function(e){return e.match(o)}));if((t=(0,d.filterBCSegments)(i)).length>65){var r={name:"bc_piano",action:"trim",bc_original:"".concat(t.length),bc_trimmed:"".concat(t.length-65)};t.length=65,(0,p.analytics)({template:"segment",type:"shown",act:"trim",cat:"bc_piano",additionalGA4:r})}}}if(t&&t.length){var l=new URLSearchParams(document.location.search).get("bcsegmentsexclude"),c=l?l.split(","):[];t.filter((function(e){return!c.includes(e)})).forEach((function(e){window.tp.push(["setCustomVariable",e,"true"])}))}e()},K=new Promise((function(e){i.state.auth0.hasInit?e():window.addEventListener("auth0InitTasksDone.adi",(function(){window.Advance.debug.auth0_auth_done=window.performance.now(),e()}))})),Y=new Promise((function(e){var t=performance.now();if(-1===window.location.hostname.indexOf("localhost")&&-1===window.location.hostname.indexOf("www-sandbox")&&r.bcEnabled){var n=performance.now();console.info("Piano: BlueConic cdpSegmentsUpdated registered: ".concat(t-n," milliseconds"));try{var a,o,i;if("function"===b(null===(a=window)||void 0===a||null===(o=a.blueConicClient)||void 0===o||null===(i=o.event)||void 0===i?void 0:i.subscribe))window.blueConicClient.event.subscribe(window.blueConicClient.event.onEventReady,window,W.bind(null,e));else{var c=!1,s=function(){c=!0};window.addEventListener("onBlueConicLoaded",s,!1);var d=setInterval((function(){var t,n,a;c&&"function"==typeof(null===(t=window)||void 0===t||null===(n=t.blueConicClient)||void 0===n||null===(a=n.event)||void 0===a?void 0:a.subscribe)&&(clearInterval(d),window.removeEventListener("onBlueConicLoaded",s),window.blueConicClient.event.subscribe(window.blueConicClient.event.onEventReady,window,W.bind(null,e)))}),100);setTimeout((function(){if(!c){clearInterval(d),window.removeEventListener("onBlueConicLoaded",s);var n=performance.now();console.info("Piano: BlueConic errors fired: ".concat(t-n," milliseconds")),(0,l.logErrors)("blueconicEventNeverFired"),e()}}),1e4)}}catch(n){var u=performance.now();console.info("Piano: BlueConic errors fired: ".concat(t-u," milliseconds: ").concat(n)),(0,l.logErrors)("blueconicEventNeverFired"),e()}}else e()})),z=new Promise(function(){var t=g(h().mark((function t(n){var a,o,i,r,s,d,u,f,p,m,v;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=performance.now(),!(-1===window.location.hostname.indexOf("localhost")&&e["sophi-onoff"]&&e["sophi-variants-onoff"]&&null!==(a=window)&&void 0!==a&&null!==(o=a.adiData)&&void 0!==o&&null!==(i=o.pageType)&&void 0!==i&&i.match(/cal|longform-article/))){t.next=18;break}return s=performance.now(),console.info("Piano: Sophi sophiVariantAdded.adi registered: ".concat(r-s," milliseconds")),t.prev=4,t.next=7,(0,c.waitForCondition)((function(){var e,t,n,a;return(null===(e=window)||void 0===e||null===(t=e.Advance)||void 0===t?void 0:t.Sophi)&&(null===(n=window)||void 0===n||null===(a=n.adiData)||void 0===a?void 0:a.sophiVariation)}),"sophiVariant",100,1e4);case 7:null!==(d=window)&&void 0!==d&&null!==(u=d.Advance)&&void 0!==u&&u.Sophi&&null!==(f=window)&&void 0!==f&&null!==(p=f.adiData)&&void 0!==p&&p.sophiVariation&&(m=performance.now(),console.info("Piano: Sophi variants fired (window polling): ".concat(r-m," milliseconds")),_=window.Advance.Sophi.pianoTags(_),n()),t.next=16;break;case 10:t.prev=10,t.t0=t.catch(4),v=performance.now(),console.info("Piano: Sophi errors fired: ".concat(r-v," milliseconds: ").concat(t.t0)),(0,l.logErrors)("sophiEventNeverFired"),n();case 16:t.next=19;break;case 18:n();case 19:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e){return t.apply(this,arguments)}}()),J=new Promise(function(){var t=g(h().mark((function t(n){var a,r,l,s,d,u,f,p,m,v,w,b,y,_,k,C,T,S,A,x,O,I,P,L,R,B,N,F,D,M,H;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f=function(){var e=g(h().mark((function e(){var t,n,a,o,i,r,l,s,d;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l="nowall",e.next=3,(0,c.waitForCondition)((function(){var e,t,n;return null===(e=window)||void 0===e||null===(t=e.Advance)||void 0===t||null===(n=t.Sophi)||void 0===n?void 0:n.decisionObject}),"decisionObject",100,5e3);case 3:return(s=window.Advance.Sophi.decisionObject).visitor=null!==(t=window)&&void 0!==t&&null!==(n=t.Advance)&&void 0!==n&&null!==(a=n.auth0)&&void 0!==a&&a.isAuthenticated?"registered":"anonymous",e.next=7,window.sophi.paywall.getDecision(s);case 7:return(null==(d=e.sent)?void 0:d.wallType)&&d.wallType.match(/paywall|regwall/)&&(l=d.wallType),E.has("sophipaywall")&&(l=E.get("sophipaywall")),null!==(o=window)&&void 0!==o&&null!==(i=o.Advance)&&void 0!==i&&null!==(r=i.auth0)&&void 0!==r&&r.isAuthenticated&&"regwall"===l&&(l="nowall"),e.abrupt("return",l);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(e){e.match(/nowall/)?((0,o.broadcast)("hideSophiPaywall.adi"),window.adiData.sophiPaywall=!1,window.tp.push(["setCustomVariable","dynamicpaywall",e])):e.match(/paywall|regwall/)&&((0,o.broadcast)("showSophiPaywall.adi"),window.adiData.sophiPaywall=!0,window.tp.push(["setCustomVariable","dynamicpaywall",e]),i.state.offer.offerType=e),window.Advance.Sophi.wallType=e},!e["sophi-dynamic-paywall-onoff"]||null===(a=window)||void 0===a||null===(r=a.adiData)||void 0===r||null===(l=r.pageType)||void 0===l||!l.match(/cal|longform-article/)||-1!==(null===(s=window)||void 0===s||null===(d=s.parent)||void 0===d||null===(u=d.location)||void 0===u?void 0:u.pathname.indexOf("composer/iframe"))){t.next=55;break}return t.prev=3,t.next=6,(0,c.waitForCondition)((function(){var e,t;return null===(e=window)||void 0===e||null===(t=e.adiData)||void 0===t?void 0:t.sophiVariation}),"sophiVariation",100,1e4);case 6:if(!(null!==(m=window)&&void 0!==m&&null!==(v=m.adiData)&&void 0!==v&&null!==(w=v.entryTags)&&void 0!==w&&w.toLowerCase().split(";").find((function(e){return e.match(/@exmeter/)}))||"sub-group-a"===window.adiData.sophiVariation||E.has("gift")&&E.get("gift")||(null===(b=window)||void 0===b||null===(y=b.navigator)||void 0===y||null===(_=y.userAgent)||void 0===_?void 0:_.toLowerCase().indexOf("advancelocalmedia-puzzleme"))>-1)){t.next=11;break}p("nowall"),n(),t.next=47;break;case 11:return t.prev=11,t.next=14,(0,c.waitForCondition)((function(){var e,t,n;return!1===(null===(e=window)||void 0===e||null===(t=e.Advance)||void 0===t||null===(n=t.auth0)||void 0===n?void 0:n.isLoading)}),"auth0");case 14:if(null===(k=window)||void 0===k||null===(C=k.Advance)||void 0===C||null===(T=C.auth0)||void 0===T||!T.isAuthenticated){t.next=32;break}return t.next=17,(0,c.waitForCondition)((function(){var e,t;return null===(e=window)||void 0===e||null===(t=e.Advance)||void 0===t?void 0:t.Cale}),"Cale");case 17:if(null===(O=window)||void 0===O||null===(I=O.Advance)||void 0===I||null===(P=I.Cale)||void 0===P||!P.response){t.next=21;break}p("nowall"),t.next=30;break;case 21:if(null!==(L=window)&&void 0!==L&&null!==(R=L.Advance)&&void 0!==R&&null!==(B=R.Cale)&&void 0!==B&&B.response||null===(N=window)||void 0===N||null===(F=N.adiData)||void 0===F||null===(D=F.entryTags.toLowerCase().split(";"))||void 0===D||!D.find((function(e){return e.match(/@meter|@subscriberexclusive/)}))){t.next=25;break}p("paywall"),t.next=30;break;case 25:return t.next=28,f();case 28:M=t.sent,p(M);case 30:t.next=40;break;case 32:if(null===(S=window)||void 0===S||null===(A=S.adiData)||void 0===A||null===(x=A.entryTags.toLowerCase().split(";"))||void 0===x||!x.find((function(e){return e.match(/@meter|@subscriberexclusive/)}))){t.next=36;break}p("paywall"),t.next=40;break;case 36:return t.next=38,f();case 38:H=t.sent,p(H);case 40:n(),t.next=47;break;case 43:t.prev=43,t.t0=t.catch(11),console.error(t.t0),n();case 47:t.next=53;break;case 49:t.prev=49,t.t1=t.catch(3),console.error(t.t1),n();case 53:t.next=56;break;case 55:n();case 56:case"end":return t.stop()}}),t,null,[[3,49],[11,43]])})));return function(e){return t.apply(this,arguments)}}());window.tp.push(["init",function(){window.Advance.debug.piano_loaded=window.performance.now(),window.tp.enableGACrossDomainLinking(),Promise.all([K,Y,z,J]).then((function(){var e;(0,f.initMather)(),_.length&&window.tp.push(["setTags",_]);var t=u.default.hasItem("login_term")&&JSON.parse(decodeURIComponent(u.default.getItem("login_term")));t&&u.default.removeItem("login_term"),t&&window.tp.pianoIdLite.isUserValid()&&!(null!==(e=u.default.getItem("cale_results"))&&void 0!==e&&e.includes("true"))?window.tp.offer.startCheckout(t):window.tp.experience.init(),window.blueConicClient&&(i.state.blueConic.id=window.blueConicClient.profile.getProfile().getId()),i.state.piano.hasInit=!0}))}])},_=t.loadPiano=function(e){var t=null;return i.state.piano.loadPianoCalled?t:(i.state.loadPianoCalled=!0,t=new Promise((function(t){i.state.loaded||(y(e),i.state.loaded=!0,t())})))};t.loadOnLogin=function(e,t){i.state.refreshAfterLogin&&(i.state.execute.experienceShown||(tp.offer&&tp.offer.close(),tp.experience&&tp.experience.execute()),i.state.refreshAfterLogin=!1),(0,s.callCaleAccess)().then((function(n){e?(i.state.checkoutComplete={},window.tp.push(["setCustomVariable","subscriptions"].concat([])),window.adiData.articleAccess="DIGITAL",(0,o.broadcast)("hasArticleAccess.adi")):(i.state.checkoutComplete={},n.results&&n.results.response?(window.tp.push(["setCustomVariable","subscriptions"].concat(m(n.results.terms))),window.adiData.articleAccess=n.results.access_type,(0,o.broadcast)("hasArticleAccess.adi")):(0,o.broadcast)("hasNoArticleAccess.adi")),_(t)})).catch((function(e){console.error("loading error occured: ",e),_(t)}))}},993:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logErrors=void 0;var a=n(140),o=n(969),i=o.locationDetails.tier.match(/dev/)?"https://sandbox.piano.io":"https://dashboard.piano.io",r={multipleExperiences:"You have multiple Piano experiences attempting to load on this page. There should only be one Piano experience on each page.",blueconicEventNeverFired:"The cdpSegmentsUpdated BlueConic event never fired.",sophiEventNeverFired:"The sophiVariantAdded.adi Sophi event never fired."},l=function(){var e,t,n=((null===(e=window.Advance)||void 0===e||null===(t=e.Piano)||void 0===t?void 0:t.events)||[]).filter((function(e){return/showTemplate|showOffer/.test(e.eventType)})).map((function(e){var t,n,a,o,r=(e.eventExecutionContext||{}).experienceId,l=((null===(t=window.Advance)||void 0===t||null===(n=t.Piano)||void 0===n?void 0:n.experiences)||[]).find((function(e){return e.id===r}))||{};return{id:l.id||"N/A",name:l.title||"N/A",url:l.id?"".concat(i,"/publisher/composer/edit/").concat(l.id,"/edit"):"N/A",moduleId:(null===(a=e.eventModuleParams)||void 0===a?void 0:a.moduleId)||"N/A",containerSelector:(null===(o=e.eventParams)||void 0===o?void 0:o.containerSelector)||"N/A"}})),a=[],o=n.map((function(e){return a.push("font-weight: bold;","font-weight: normal; font-style: italic;","font-weight: bold;","font-weight: normal;","font-weight: bold;","font-weight: normal;","font-weight: bold;","font-weight: normal;"),"\n\n%cComposer Experience Name: %c".concat(e.name)+"\n%cComposer Experience URL: %c".concat(e.url)+"\n%cComposer Module ID: %c".concat(e.moduleId)+"\n%cContainer: %c".concat(e.containerSelector)})).join("");return{message:r.multipleExperiences,additionalData:{experienceIds:n.map((function(e){return e.id})).sort().join(","),moduleIds:n.map((function(e){return e.moduleId})).sort().join(",")},consoleFunction:function(){var e;(e=console).error.apply(e,["%c PIANO ERRORS\n\n%c%s%s","font-size: 2rem; font-style: italic; font-weight: bold","font-size: 1rem; font-style: normal; font-weight: normal",r.multipleExperiences,o].concat(a))}}},c=function(){return{message:r.blueconicEventNeverFired,additionalData:{},consoleFunction:function(){console.error("%c PIANO ERRORS\n\n%c%s%s","font-size: 2rem; font-style: italic; font-weight: bold","font-size: 1rem; font-style: normal; font-weight: normal",r.blueconicEventNeverFired)}}},s=function(){return{message:r.sophiEventNeverFired,additionalData:{},consoleFunction:function(){console.error("%c PIANO ERRORS\n\n%c%s%s","font-size: 2rem; font-style: italic; font-weight: bold","font-size: 1rem; font-style: normal; font-weight: normal",r.sophiEventNeverFired)}}};t.logErrors=function(e){var t={multipleExperiences:l,blueconicEventNeverFired:c,sophiEventNeverFired:s}[e];if(t){var n=t(),i=n.message,r=n.additionalData,d=n.consoleFunction;(0,a.datadogSendLog)({affiliate:o.locationDetails.affiliate,name:e,message:i,additionalData:r,consoleFunction:d})}}},994:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initDynamicOffer=t.dynamicOffer=void 0;var a=n(970),o=n(964),i=n(967),r=n(966),l=n(968);t.dynamicOffer=function(e,t){!function(e){var t,n,a,o="google-oauth2"===(null===(t=window)||void 0===t||null===(n=t.Advance)||void 0===n||null===(a=n.auth0)||void 0===a?void 0:a.getTokenClaimField("connection"));(0,l.sendPostMessageToPiano)(e,!0,"",{isGoogleSignIn:o})}(e),(0,r.matherWall)(t),window.addEventListener("hasArticleAccess.adi",(function(){"dynamicoffer"===o.state.modal.type&&"modal"===o.state.execute.displayMode&&(o.state.execute.containerSelector?(0,i.removeModal)(o.state.execute.containerSelector):(0,i.removeModal)())}))},t.initDynamicOffer=function(){(0,i.isSelfService)()&&(0,a.gaEvent)("survey_offer","shown",{},"self-service")}},995:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.landingPageOffer=t.initLandingPageOffer=void 0;var a=n(970),o=n(964),i=n(967),r=n(966),l=n(968);t.landingPageOffer=function(e,t){!function(e){var t,n,a,o="google-oauth2"===(null===(t=window)||void 0===t||null===(n=t.Advance)||void 0===n||null===(a=n.auth0)||void 0===a?void 0:a.getTokenClaimField("connection"));(0,l.sendPostMessageToPiano)(e,!0,"",{isGoogleSignIn:o})}(e),(0,r.matherWall)(t),window.addEventListener("hasArticleAccess.adi",(function(){"landingPageOffer"===o.state.modal.type&&"modal"===o.state.execute.displayMode&&(o.state.execute.containerSelector?(0,i.removeModal)(o.state.execute.containerSelector):(0,i.removeModal)())}))},t.initLandingPageOffer=function(){(0,i.isSelfService)()&&(0,a.gaEvent)("survey_offer","shown",{},"self-service")}},996:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setEmailWall=t.emailWall=void 0;var a=n(968),o=n(974),i=n(970),r=n(971),l=n(964),c=n(967),s=n(966);t.setEmailWall=function(e){var t=(0,r.isDataJSON)(e.params);if(t.success){var n=t.results.iframeId,s=void 0!==e.email&&e.email.length>0&&e.email;n&&(s&&-1===s.indexOf(" ")&&s.match(/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/)?(0,o.callCaleEmailWallSubscribe)(s,e.newsletter,!0).then((function(e){e.results.confirm_subscribe.response?((0,i.gaEvent)(l.state.modal.type,"action",{version:"newsletter_optin"},"subscribe"),(0,a.sendPostMessageToPiano)(n,!0,"You have been successfully subscribed.",{type:"emailwall",email:s}),"modal"===l.state.execute.displayMode&&(0,c.removeModal)()):(0,a.sendPostMessageToPiano)(n,!1,"Please enter a valid email address.",{type:"emailwall",email:s})})):(0,a.sendPostMessageToPiano)(n,!1,"Please enter a valid email address.",{type:"emailwall",email:s}))}},t.emailWall=function(e){(0,s.matherWall)(e)}}}]);